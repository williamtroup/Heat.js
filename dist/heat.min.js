/*! Heat.js v4.0.0 | (c) Bunoon 2024 | MIT License */
'use strict';function _instanceof(q,z){return null!=z&&"undefined"!==typeof Symbol&&z[Symbol.hasInstance]?!!z[Symbol.hasInstance](q):q instanceof z}function _type_of(q){"@swc/helpers - typeof";return q&&"undefined"!==typeof Symbol&&q.constructor===Symbol?"symbol":typeof q}var HEAT_JS_ATTRIBUTE_NAME="data-heat-js",Is;
(function(q){var z=function(k){return null!==k&&void 0!==k&&""!==k.toString()},t=function(k){return z(k)&&"object"===("undefined"===typeof k?"undefined":_type_of(k))},m=function(k){return t(k)&&_instanceof(k,Array)};q.defined=z;q.definedObject=t;q.definedBoolean=function(k){return z(k)&&"boolean"===typeof k};q.definedString=function(k){return z(k)&&"string"===typeof k};q.definedFunction=function(k){return z(k)&&"function"===typeof k};q.definedNumber=function(k){return z(k)&&"number"===typeof k};q.definedArray=
m;q.definedDate=function(k){return t(k)&&_instanceof(k,Date)};q.invalidOptionArray=function(k){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return!m(k)||k.length<r}})(Is||={});var Data;
(function(q){var z=function(t,m){return Is.definedArray(t)?t:m};(function(t){t.newGuid=function(){for(var m=[],k=0;32>k;k++){8!==k&&12!==k&&16!==k&&20!==k||m.push("-");var r=Math.floor(16*Math.random()).toString(16);m.push(r)}return m.join("")};t.padNumber=function(m){m=m.toString();return 1===m.length?"0"+m:m};t.startsWithAnyCase=function(m,k){return m.substring(0,k.length).toLowerCase()===k.toLowerCase()}})(q.String||(q.String={}));q.getDefaultAnyString=function(t,m){return"string"===typeof t?t:
m};q.getDefaultString=function(t,m){return Is.definedString(t)?t:m};q.getDefaultBoolean=function(t,m){return Is.definedBoolean(t)?t:m};q.getDefaultNumber=function(t,m){return Is.definedNumber(t)?t:m};q.getDefaultFunction=function(t,m){return Is.definedFunction(t)?t:m};q.getDefaultArray=z;q.getDefaultObject=function(t,m){return Is.definedObject(t)?t:m};q.getDefaultStringOrArray=function(t,m){var k=m;Is.definedString(t)?(t=t.toString().split(" "),0!==t.length&&(k=t)):k=z(t,m);return k}})(Data||={});
var DomElement;
(function(q){var z=function(k,r){var x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",C=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,A=r.toLowerCase();A="text"===A?document.createTextNode(""):document.createElement(A);Is.defined(x)&&(A.className=x);Is.defined(C)?k.insertBefore(A,C):k.appendChild(A);return A},t=function(k,r,x,C){var A=z(k,r,x,4<arguments.length&&void 0!==arguments[4]?arguments[4]:null);A.innerHTML=C;return A},m=function(){var k=document.documentElement;return{left:(window.pageXOffset||
k.scrollLeft)-(k.clientLeft||0),top:(window.pageYOffset||k.scrollTop)-(k.clientTop||0)}};q.createWithNoContainer=function(k){k=k.toLowerCase();return"text"===k?document.createTextNode(""):document.createElement(k)};q.create=z;q.createWithHTML=t;q.getStyleValueByName=function(k,r){var x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,C=null;document.defaultView.getComputedStyle?C=document.defaultView.getComputedStyle(k,null).getPropertyValue(r):k.currentStyle&&(C=k.currentStyle[r]);x&&(C=
parseFloat(C));return C};q.addClass=function(k,r){k.className+=" "+r;k.className=k.className.trim()};q.removeClass=function(k,r){k.className=k.className.replace(r,"");k.className=k.className.trim()};q.cancelBubble=function(k){k.preventDefault();k.cancelBubble=!0};q.getScrollPosition=m;q.showElementAtMousePosition=function(k,r){var x=k.pageX,C=k.pageY,A=m();r.style.display="block";x+r.offsetWidth>window.innerWidth?x-=r.offsetWidth:x++;C+r.offsetHeight>window.innerHeight?C-=r.offsetHeight:C++;x<A.left&&
(x=k.pageX+1);C<A.top&&(C=k.pageY+1);r.style.left=x+"px";r.style.top=C+"px"};q.reverseChildrenOrder=function(k){for(var r=k.children,x=r.length-1;x--;)k.appendChild(r[x])};q.createCheckBox=function(k,r){var x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,C=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,A=z(k,"div");A=z(A,"label","checkbox");var O=z(A,"input");O.type="checkbox";Is.defined(C)&&(O.onclick=C);Is.defined(x)&&(O.checked=x);z(A,"span","check-mark");t(A,"span",
"text",r);return{input:O,label:A}}})(DomElement||={});var DateTime;
(function(q){var z=function(m){return 0>m.getDay()-1?6:m.getDay()-1},t=function(m,k){var r=m.thText;if(31===k||21===k||1===k)r=m.stText;else if(22===k||2===k)r=m.ndText;else if(23===k||3===k)r=m.rdText;return r};q.getTotalDaysInMonth=function(m,k){return(new Date(m,k+1,0)).getDate()};q.getWeekdayNumber=z;q.getDayOrdinal=t;q.getCustomFormattedDateText=function(m,k,r){var x=z(r);k=k.replace("{dddd}",m.dayNames[x]);k=k.replace("{dd}",Data.String.padNumber(r.getDate()));k=k.replace("{d}",r.getDate().toString());
k=k.replace("{o}",t(m,r.getDate()));k=k.replace("{mmmm}",m.monthNames[r.getMonth()]);k=k.replace("{mm}",Data.String.padNumber(r.getMonth()+1));k=k.replace("{m}",(r.getMonth()+1).toString());k=k.replace("{yyyy}",r.getFullYear().toString());k=k.replace("{yyy}",r.getFullYear().toString().substring(1));k=k.replace("{yy}",r.getFullYear().toString().substring(2));return k=k.replace("{y}",parseInt(r.getFullYear().toString().substring(2)).toString())}})(DateTime||={});
(function(){var q=function(){for(var a=h.domElementTypes,b=a.length,d=0;d<b;d++){var c=document.getElementsByTagName(a[d]);c=[].slice.call(c);for(var f=c.length,e=0;e<f;e++){var g=c[e],n=!0;if(Is.defined(g)&&g.hasAttribute(HEAT_JS_ATTRIBUTE_NAME)){var p=g.getAttribute(HEAT_JS_ATTRIBUTE_NAME);Is.definedString(p)?(p=aa(p),p.parsed&&Is.definedObject(p.result)?t(z(p.result,g)):h.safeMode||(console.error(h.attributeNotValidErrorText.replace("{{attribute_name}}",HEAT_JS_ATTRIBUTE_NAME)),n=!1)):h.safeMode||
(console.error(h.attributeNotSetErrorText.replace("{{attribute_name}}",HEAT_JS_ATTRIBUTE_NAME)),n=!1)}if(!n)break}}},z=function(a,b){a=ha(a);var d=Is.definedString(a.view)?a.view.toLowerCase():"",c={};c.element=b;c.disabledBackground=null;c.configurationDialog=null;c.dayCheckBoxes=[];c.monthCheckBoxes=[];c.tooltip=null;c.tooltipTimer=null;c.mapContents=null;c.mapContentsScrollLeft=0;c.year=a.year;c.type=h.unknownTrendText;c.isInFetchMode=Is.definedFunction(a.events.onDataFetch);c.isInFetchModeTimer=
null;c.yearsAvailable=[];a.views.chart.enabled&&(c.chartContents=null,c.chartContentsScrollLeft=0);a.views.days.enabled&&(c.daysContents=null,c.daysContentsScrollLeft=0);a.views.statistics.enabled&&(c.statisticsContents=null,c.statisticsContentsScrollLeft=0);c.view="map"===d?1:"chart"===d?2:"days"===d?3:"statistics"===d?4:1;a._currentView=c;return a},t=function(a){u(a.events.onBeforeRender,a._currentView.element);Is.definedString(a._currentView.element.id)||(a._currentView.element.id=Data.String.newGuid());
""===a._currentView.element.className.trim()?a._currentView.element.className="heat-js":DomElement.addClass(a._currentView.element,"heat-js");a._currentView.element.removeAttribute(HEAT_JS_ATTRIBUTE_NAME);ba(a._currentView.element.id,a);m(a);u(a.events.onRenderComplete,a._currentView.element)},m=function(a){var b,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&a.useLocalStorageForData&&window.localStorage){var c=a._currentView.element.id;
if(a.useLocalStorageForData&&window.localStorage){var f=window.localStorage.length,e=[],g=a._currentView.element.id;for(b=0;b<f;b++)Data.String.startsWithAnyCase(window.localStorage.key(b),ca+g)&&e.push(window.localStorage.key(b));f=e.length;for(g=0;g<f;g++)window.localStorage.removeItem(e[g])}e=JSON.stringify(l[c].type);window.localStorage.setItem(ca+c,e)}Is.defined(a._currentView.mapContents)&&(a._currentView.mapContentsScrollLeft=a._currentView.mapContents.scrollLeft);a.views.chart.enabled&&Is.defined(a._currentView.chartContents)&&
(a._currentView.chartContentsScrollLeft=a._currentView.chartContents.scrollLeft);a.views.days.enabled&&Is.defined(a._currentView.daysContents)&&(a._currentView.daysContentsScrollLeft=a._currentView.daysContents.scrollLeft);a.views.statistics.enabled&&Is.defined(a._currentView.statisticsContents)&&(a._currentView.statisticsContentsScrollLeft=a._currentView.statisticsContents.scrollLeft);a._currentView.element.innerHTML="";a._currentView.yearsAvailable=ra(a);A(a);sa(a);a.title.showConfigurationButton&&
(a._currentView.disabledBackground=DomElement.create(a._currentView.element,"div","disabled"),k(a));Is.defined(a._currentView.tooltip)||(a._currentView.tooltip=DomElement.create(document.body,"div","heat-js-tooltip"),a._currentView.tooltip.style.display="none",r(a));O(a);a._currentView.mapContents=DomElement.create(a._currentView.element,"div","map-contents");a.views.chart.enabled&&(a._currentView.chartContents=DomElement.create(a._currentView.element,"div","chart-contents"),R(a._currentView.chartContents,
a));a.views.days.enabled&&(a._currentView.daysContents=DomElement.create(a._currentView.element,"div","days-contents"),R(a._currentView.daysContents,a));a.views.statistics.enabled&&(a._currentView.statisticsContents=DomElement.create(a._currentView.element,"div","statistics-contents"),R(a._currentView.statisticsContents,a));ta(a);if(c=a.views.map.showNoDataMessageWhenDataIsNotAvailable){c=!1;e=H(a);f=a._currentView.year.toString();for(var n in e)if(e.hasOwnProperty(n)&&n.split("-")[0]===f){c=!0;break}c=
!c}if(c)n=DomElement.createWithHTML(a._currentView.mapContents,"div","no-data-message",h.noMapDataMessage),d&&DomElement.addClass(n,"view-switch");else{a._currentView.mapContents.style.minHeight="unset";R(a._currentView.mapContents,a);e=DomElement.create(a._currentView.mapContents,"div","map");n=a._currentView.year;c=!1;d&&DomElement.addClass(e,"view-switch");if(a.views.map.showDayNames){f=DomElement.create(e,"div","days");g=a.views.map.showMinimalDayNames&&7===a.views.map.daysToShow.length;if(!a.views.map.showMonthNames||
a.views.map.placeMonthNamesOnTheBottom)f.className="days-months-bottom";for(b=0;7>b;b++)J(a.views.map.daysToShow,b+1)&&DomElement.createWithHTML(f,"div","day-name",g&&0!==b%3?" ":h.dayNames[b]);a.views.map.showDaysInReverseOrder&&DomElement.reverseChildrenOrder(f)}e=DomElement.create(e,"div","months");f=S(a);for(g=0;12>g;g++)if(L(a.views.map.monthsToShow,g)){b=DomElement.create(e,"div","month");var p=DomElement.create(b,"div","day-columns"),v=DateTime.getTotalDaysInMonth(n,g),B=DomElement.create(p,
"div","day-column"),y=!1,E=DateTime.getWeekdayNumber(new Date(n,g,1)),D=1;v+=E;for(var G=0;G<v;G++){G>=E?y=!0:J(a.views.map.daysToShow,D)&&DomElement.create(B,"div","day-disabled");if(y){var K=null;J(a.views.map.daysToShow,D)&&(K=ua(a,B,G-E,g,n,f));if(0===(G+1)%7&&(a.views.map.showDaysInReverseOrder&&DomElement.reverseChildrenOrder(B),B=DomElement.create(p,"div","day-column"),D=0,!Is.defined(P)&&Is.defined(K))){var va=DomElement.getStyleValueByName(K,"margin-left",!0),wa=DomElement.getStyleValueByName(K,
"margin-right",!0);P=K.offsetWidth+va+wa}}D++}a.views.map.showMonthNames&&(B=b.offsetWidth,v=a.views.map.placeMonthNamesOnTheBottom?DomElement.createWithHTML(b,"div","month-name-bottom",h.monthNames[g]):DomElement.createWithHTML(b,"div","month-name",h.monthNames[g],p),Is.defined(v)&&(v.style.width=a.views.map.showMonthDayGaps?B+"px":B-P+"px"));c&&Is.defined(P)&&(0<E&&!a.views.map.showMonthDayGaps?b.style.marginLeft=-P+"px":0===E&&a.views.map.showMonthDayGaps&&(b.style.marginLeft=P+"px"));a.views.map.showMonthsInReverseOrder&&
DomElement.reverseChildrenOrder(p);c=!0}a.views.map.showMonthsInReverseOrder&&DomElement.reverseChildrenOrder(e);a.views.map.keepScrollPositions&&(a._currentView.mapContents.scrollLeft=a._currentView.mapContentsScrollLeft)}a.views.chart.enabled&&(xa(a,d),a._currentView.chartContents.style.display="none");if(a.views.days.enabled){f=DomElement.create(a._currentView.daysContents,"div","days");n=DomElement.create(a._currentView.daysContents,"div","day-names");g=DomElement.create(f,"div","y-labels");c=
DomElement.create(f,"div","day-lines");b=0;p=H(a);e={1:0,2:0,3:0,4:0,5:0,6:0,7:0};for(E=0;12>E;E++)for(v=DateTime.getTotalDaysInMonth(a._currentView.year,E),B=0;B<v;B++)y=I(new Date(a._currentView.year,E,B+1)),p.hasOwnProperty(y)&&(D=y.split("-"),D=new Date(parseInt(D[2]),parseInt(D[1]),parseInt(D[0])),G=DateTime.getWeekdayNumber(D)+1,!T(a,D).matched&&L(a.views.days.monthsToShow,D.getMonth())&&J(a.views.days.daysToShow,G)&&(e[G]+=p[y],b=Math.max(b,e[G])));d&&DomElement.addClass(f,"view-switch");0<
b&&a.views.days.showChartYLabels?(p=DomElement.createWithHTML(g,"div","label-0",b.toString()),DomElement.createWithHTML(g,"div","label-25",(3*Math.floor(b/4)).toString()),DomElement.createWithHTML(g,"div","label-50",Math.floor(b/2).toString()),DomElement.createWithHTML(g,"div","label-75",Math.floor(b/4).toString()),DomElement.createWithHTML(g,"div","label-100","0"),g.style.width=p.offsetWidth+"px",n.style.paddingLeft=g.offsetWidth+DomElement.getStyleValueByName(g,"margin-right",!0)+"px"):g.parentNode.removeChild(g);
if(0===b){a._currentView.daysContents.style.minHeight=a._currentView.mapContents.offsetHeight+"px";f.parentNode.removeChild(f);n.parentNode.removeChild(n);var F=DomElement.createWithHTML(a._currentView.daysContents,"div","no-days-message",h.noDaysDataMessage);d&&DomElement.addClass(F,"view-switch")}else{f=a._currentView.mapContents.offsetHeight/b;for(F in e)e.hasOwnProperty(F)&&J(a.views.days.daysToShow,parseInt(F))&&(ya(c,parseInt(F),e[F],a,f),a.views.days.showDayNames&&DomElement.createWithHTML(n,
"div","day-name",h.dayNames[parseInt(F)-1]));a.views.days.showInReverseOrder&&(DomElement.reverseChildrenOrder(c),DomElement.reverseChildrenOrder(n));a.views.days.keepScrollPositions&&(a._currentView.daysContents.scrollLeft=a._currentView.daysContentsScrollLeft)}a._currentView.daysContents.style.display="none"}if(a.views.statistics.enabled){f=DomElement.create(a._currentView.statisticsContents,"div","statistics");F=DomElement.create(a._currentView.statisticsContents,"div","statistics-ranges");g=DomElement.create(f,
"div","y-labels");n=DomElement.create(f,"div","range-lines");c=S(a);e={};b=H(a);p=0;for(E=e["0"]=0;12>E;E++)for(v=DateTime.getTotalDaysInMonth(a._currentView.year,E),B=0;B<v;B++)y=I(new Date(a._currentView.year,E,B+1)),b.hasOwnProperty(y)&&(D=y.split("-"),D=new Date(parseInt(D[2]),parseInt(D[1]),parseInt(D[0])),G=DateTime.getWeekdayNumber(D)+1,!T(a,D).matched&&L(a.views.statistics.monthsToShow,D.getMonth())&&J(a.views.statistics.daysToShow,G)&&(y=da(a,c,b[y]),Is.defined(y)?(e.hasOwnProperty(y.minimum.toString())||
(e[y.minimum.toString()]=0),e[y.minimum]++,p=Math.max(p,e[y.minimum])):e["0"]++));b=p;d&&DomElement.addClass(f,"view-switch");0<b&&a.views.statistics.showChartYLabels?(p=DomElement.createWithHTML(g,"div","label-0",b.toString()),DomElement.createWithHTML(g,"div","label-25",(3*Math.floor(b/4)).toString()),DomElement.createWithHTML(g,"div","label-50",Math.floor(b/2).toString()),DomElement.createWithHTML(g,"div","label-75",Math.floor(b/4).toString()),DomElement.createWithHTML(g,"div","label-100","0"),
g.style.width=p.offsetWidth+"px",F.style.paddingLeft=g.offsetWidth+DomElement.getStyleValueByName(g,"margin-right",!0)+"px"):g.parentNode.removeChild(g);if(0===b){a._currentView.statisticsContents.style.minHeight=a._currentView.mapContents.offsetHeight+"px";f.parentNode.removeChild(f);F.parentNode.removeChild(F);var M=DomElement.createWithHTML(a._currentView.statisticsContents,"div","no-statistics-message",h.noStatisticsDataMessage);d&&DomElement.addClass(M,"view-switch")}else{d=a._currentView.mapContents.offsetHeight/
b;a.views.statistics.showColorRangeLabels||F.parentNode.removeChild(F);for(M in e)e.hasOwnProperty(M)&&(za(parseInt(M),n,e[M],a,c,d),f=ia(c,parseInt(M)),a.views.statistics.showColorRangeLabels&&(a.views.statistics.useColorRangeNamesForLabels&&Is.defined(f)&&Is.definedString(f.name)?DomElement.createWithHTML(F,"div","range-name",f.name):DomElement.createWithHTML(F,"div","range-name",M+"+")));a.views.statistics.showInReverseOrder&&(DomElement.reverseChildrenOrder(n),DomElement.reverseChildrenOrder(F));
a.views.statistics.keepScrollPositions&&(a._currentView.statisticsContents.scrollLeft=a._currentView.statisticsContentsScrollLeft)}a._currentView.statisticsContents.style.display="none"}a._currentView.mapContents.style.display="none";1===a._currentView.view?a._currentView.mapContents.style.display="block":a.views.chart.enabled&&2===a._currentView.view?a._currentView.chartContents.style.display="block":a.views.days.enabled&&3===a._currentView.view?a._currentView.daysContents.style.display="block":
a.views.statistics.enabled&&4===a._currentView.view?a._currentView.statisticsContents.style.display="block":(a._currentView.view=1,a._currentView.mapContents.style.display="block")},k=function(a){a._currentView.configurationDialog=DomElement.create(a._currentView.disabledBackground,"div","dialog configuration");var b=DomElement.create(a._currentView.configurationDialog,"div","dialog-title-bar"),d=DomElement.create(a._currentView.configurationDialog,"div","dialog-contents"),c=DomElement.create(b,"div",
"dialog-close"),f=DomElement.create(d,"div","side-container panel");d=DomElement.create(d,"div","side-container panel");DomElement.createWithHTML(b,"span","dialog-title-bar-text",h.configurationTitleText);DomElement.createWithHTML(f,"div","side-container-title-text",h.visibleDaysText+":");DomElement.createWithHTML(d,"div","side-container-title-text",h.visibleMonthsText+":");b=DomElement.create(d,"div","side-container");d=DomElement.create(d,"div","side-container");c.onclick=function(){Is.defined(a._currentView.disabledBackground)&&
"none"!==a._currentView.disabledBackground.style.display&&(a._currentView.disabledBackground.style.display="none");Is.defined(a._currentView.configurationDialog)&&"none"!==a._currentView.configurationDialog.style.display&&(a._currentView.configurationDialog.style.display="none");for(var g=[],n=[],p=!1,v=0;7>v;v++)a._currentView.dayCheckBoxes[v].checked&&g.push(v+1);for(v=0;12>v;v++)a._currentView.monthCheckBoxes[v].checked&&n.push(v+1);1<=g.length&&(1===a._currentView.view?a.views.map.daysToShow=
g:a.views.chart.enabled&&2===a._currentView.view?a.views.chart.daysToShow=g:a.views.days.enabled&&3===a._currentView.view?a.views.days.daysToShow=g:a.views.statistics.enabled&&4===a._currentView.view?a.views.statistics.daysToShow=g:a.views.map.daysToShow=g,p=!0);1<=n.length&&(1===a._currentView.view?a.views.map.monthsToShow=n:a.views.chart.enabled&&2===a._currentView.view?a.views.chart.monthsToShow=n:a.views.days.enabled&&3===a._currentView.view?a.views.days.monthsToShow=n:a.views.statistics.enabled&&
4===a._currentView.view?a.views.statistics.monthsToShow=n:a.views.map.monthsToShow=n,p=!0);p?(m(a),u(a.events.onOptionsUpdate,a._currentView.element,a)):A(a)};for(var e=0;7>e;e++)a._currentView.dayCheckBoxes[e]=DomElement.createCheckBox(f,h.dayNames[e]).input;for(f=0;7>f;f++)a._currentView.monthCheckBoxes[f]=DomElement.createCheckBox(b,h.monthNames[f]).input;for(f=7;12>f;f++)a._currentView.monthCheckBoxes[f]=DomElement.createCheckBox(d,h.monthNames[f]).input;x(c,a,h.closeToolTipText)},r=function(a){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=b?document.addEventListener:document.removeEventListener;(b?window.addEventListener:window.removeEventListener)("mousemove",function(){A(a)});d("scroll",function(){A(a)})},x=function(a,b,d){null!==a&&(a.onmousemove=function(c){C(c,b,d)})},C=function(a,b,d){DomElement.cancelBubble(a);A(b);b._currentView.tooltipTimer=setTimeout(function(){b._currentView.tooltip.innerHTML=d;b._currentView.tooltip.style.display="block";DomElement.showElementAtMousePosition(a,
b._currentView.tooltip)},b.tooltip.delay)},A=function(a){Is.defined(a._currentView.tooltip)&&(Is.defined(a._currentView.tooltipTimer)&&(clearTimeout(a._currentView.tooltipTimer),a._currentView.tooltipTimer=null),"none"!==a._currentView.tooltip.style.display&&(a._currentView.tooltip.style.display="none"))},O=function(a){if(a.title.showText||a.title.showYearSelector||a.title.showRefreshButton||a.title.showExportButton||a.title.showImportButton){var b=DomElement.create(a._currentView.element,"div","title-bar"),
d=DomElement.create(b,"div","title");a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled?a.title.showTitleDropDownButton&&DomElement.create(d,"div","down-arrow"):DomElement.addClass(d,"no-click");a.title.showText&&(d.innerHTML+=a.title.text);(a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled)&&Aa(a,d);a.title.showImportButton&&!a._currentView.isInFetchMode&&(DomElement.createWithHTML(b,"button","import",h.importButtonText).onclick=function(){Ba(a)});a.title.showExportButton&&
(DomElement.createWithHTML(b,"button","export",h.exportButtonText).onclick=function(){ja(a)});a.title.showRefreshButton&&(DomElement.createWithHTML(b,"button","refresh",h.refreshButtonText).onclick=function(){m(a);u(a.events.onRefresh,a._currentView.element)});a.title.showYearSelector&&(d=DomElement.createWithHTML(b,"button","back",h.backButtonText),d.onclick=function(){ea(a)},0<a._currentView.yearsAvailable.length&&a._currentView.year<=a._currentView.yearsAvailable[0]&&(d.disabled=!0),a._currentView.yearText=
DomElement.createWithHTML(b,"div","year-text",a._currentView.year.toString()),a.title.showYearSelectionDropDown?Ca(a):DomElement.addClass(a._currentView.yearText,"no-click"),a.title.showConfigurationButton&&(d=DomElement.create(b,"div","configure"),x(d,a,h.configurationToolTipText),d.onclick=function(){Is.defined(a._currentView.disabledBackground)&&"block"!==a._currentView.disabledBackground.style.display&&(a._currentView.disabledBackground.style.display="block");Is.defined(a._currentView.configurationDialog)&&
"block"!==a._currentView.configurationDialog.style.display&&(a._currentView.configurationDialog.style.display="block");if(1===a._currentView.view){var c=a.views.map.daysToShow;var f=a.views.map.monthsToShow}else a.views.chart.enabled&&2===a._currentView.view?(c=a.views.chart.daysToShow,f=a.views.chart.monthsToShow):a.views.days.enabled&&3===a._currentView.view?(c=a.views.days.daysToShow,f=a.views.days.monthsToShow):a.views.statistics.enabled&&4===a._currentView.view?(c=a.views.statistics.daysToShow,
f=a.views.statistics.monthsToShow):(c=a.views.map.daysToShow,f=a.views.map.monthsToShow);for(var e=0;7>e;e++)a._currentView.dayCheckBoxes[e].checked=J(c,e+1);for(c=0;12>c;c++)a._currentView.monthCheckBoxes[c].checked=L(f,c);A(a)}),b=DomElement.createWithHTML(b,"button","next",h.nextButtonText),b.onclick=function(){Q(a)},0<a._currentView.yearsAvailable.length&&a._currentView.year>=a._currentView.yearsAvailable[a._currentView.yearsAvailable.length-1]&&(b.disabled=!0))}},Aa=function(a,b){b=DomElement.create(b,
"div","titles-menu-container");b=DomElement.create(b,"div","titles-menu");a.title.showTitleDropDownHeaders&&DomElement.createWithHTML(b,"div","title-menu-header",h.dataText+":");var d=DomElement.createWithHTML(b,"div","title-menu-item",h.mapText);U(a,d,1,"map");a.views.chart.enabled&&(d=DomElement.createWithHTML(b,"div","title-menu-item",h.chartText),U(a,d,2,"chart"));a.views.days.enabled&&(a.title.showTitleDropDownHeaders&&DomElement.createWithHTML(b,"div","title-menu-header",h.yearText+":"),d=DomElement.createWithHTML(b,
"div","title-menu-item",h.daysText),U(a,d,3,"days"));a.views.statistics.enabled&&(a.title.showTitleDropDownHeaders&&DomElement.createWithHTML(b,"div","title-menu-header",h.statisticsText+":"),b=DomElement.createWithHTML(b,"div","title-menu-item",h.colorRangesText),U(a,b,4,"statistics"))},U=function(a,b,d,c){a._currentView.view===d?DomElement.addClass(b,"title-menu-item-active"):b.onclick=function(){a._currentView.view=d;u(a.events.onViewSwitch,c);m(a,!1,!0)}},Ca=function(a){DomElement.create(a._currentView.yearText,
"div","down-arrow");var b=DomElement.create(a._currentView.yearText,"div","years-menu-container"),d=DomElement.create(b,"div","years-menu"),c=(new Date).getFullYear(),f=null;b.style.display="block";b.style.visibility="hidden";for(var e=c-a.title.extraSelectionYears;e<c+a.title.extraSelectionYears;e++)if(N(a,e)){var g=Da(a,d,e,c);Is.defined(f)||(f=g)}Is.defined(f)&&(d.scrollTop=f.offsetTop-d.offsetHeight/2);b.style.display="none";b.style.visibility="visible"},Da=function(a,b,d,c){var f=null;b=DomElement.createWithHTML(b,
"div","year-menu-item",d.toString());a._currentView.year!==d?(b.onclick=function(){a._currentView.year=d;m(a);u(a.events.onSetYear,a._currentView.year)},d===c&&DomElement.addClass(b,"year-menu-item-current")):(DomElement.addClass(b,"year-menu-item-active"),f=b);return f},ua=function(a,b,d,c,f,e){d+=1;b=DomElement.create(b,"div","day");var g=new Date(f,c,d),n=l[a._currentView.element.id].type[a._currentView.type][I(g)];n=Data.getDefaultNumber(n,0);ka(a,b,g,n);a.views.map.showDayNumbers&&0<n&&(b.innerHTML=
n.toString());Is.definedFunction(a.events.onDayClick)?b.onclick=function(){u(a.events.onDayClick,g,n)}:DomElement.addClass(b,"no-hover");c=da(a,e,n,g);Is.defined(c)&&V(a,c.id)&&(Is.definedString(c.mapCssClassName)?DomElement.addClass(b,c.mapCssClassName):DomElement.addClass(b,c.cssClassName));return b},xa=function(a,b){var d=DomElement.create(a._currentView.chartContents,"div","chart"),c=DomElement.create(d,"div","y-labels"),f=DomElement.create(d,"div","day-lines"),e=S(a),g=Ea(a),n=a._currentView.year,
p=0;b&&DomElement.addClass(d,"view-switch");if(0<g&&a.views.chart.showChartYLabels){var v=DomElement.createWithHTML(c,"div","label-0",g.toString());DomElement.createWithHTML(c,"div","label-25",(3*Math.floor(g/4)).toString());DomElement.createWithHTML(c,"div","label-50",Math.floor(g/2).toString());DomElement.createWithHTML(c,"div","label-75",Math.floor(g/4).toString());DomElement.createWithHTML(c,"div","label-100","0");c.style.width=v.offsetWidth+"px";p=c.offsetWidth+DomElement.getStyleValueByName(c,
"margin-right",!0)}else c.parentNode.removeChild(c),c=null;if(0===g)a._currentView.chartContents.style.minHeight=a._currentView.mapContents.offsetHeight+"px",d.parentNode.removeChild(d),f=DomElement.createWithHTML(a._currentView.chartContents,"div","no-data-message",h.noChartDataMessage),b&&DomElement.addClass(f,"view-switch");else{b=a._currentView.mapContents.offsetHeight/g;for(g=c=d=0;12>g;g++)if(L(a.views.chart.monthsToShow,g)){v=DateTime.getTotalDaysInMonth(n,g);var B=1;d++;for(var y=0;y<v;y++)J(a.views.chart.daysToShow,
B)&&Fa(f,a,y+1,g,n,e,b),0===(y+1)%7&&(B=0),B++,c++}a.views.chart.showInReverseOrder&&DomElement.reverseChildrenOrder(f);if(a.views.chart.showMonthNames){var E=DomElement.create(a._currentView.chartContents,"div","chart-months"),D=f.offsetWidth/d,G=0;e=function(K){L(a.views.chart.monthsToShow,K)&&(DomElement.createWithHTML(E,"div","month-name",h.monthNames[K]).style.left=p+D*G+"px",G++)};if(a.views.chart.showInReverseOrder)for(n=12;n--;)e(n);else for(n=0;12>n;n++)e(n);E.style.width=f.offsetWidth+"px";
f=DomElement.create(E,"div","month-name-space");f.style.height=E.offsetHeight+"px";f.style.width=p+"px"}a.views.chart.keepScrollPositions&&(a._currentView.chartContents.scrollLeft=a._currentView.chartContentsScrollLeft)}},Fa=function(a,b,d,c,f,e,g){var n=new Date(f,c,d);a=DomElement.create(a,"div","day-line");var p=H(b)[I(n)];p=Data.getDefaultNumber(p,0);ka(b,a,n,p);b.views.chart.showLineNumbers&&0<p&&(DomElement.addClass(a,"day-line-number"),a.innerHTML=p.toString());g*=p;a.style.height=g+"px";0>=
g&&(a.style.visibility="hidden");Is.definedFunction(b.events.onDayClick)?a.onclick=function(){u(b.events.onDayClick,n,p)}:DomElement.addClass(a,"no-hover");e=da(b,e,p,n);Is.defined(e)&&V(b,e.id)&&(Is.definedString(e.chartCssClassName)?DomElement.addClass(a,e.chartCssClassName):DomElement.addClass(a,e.cssClassName))},Ea=function(a){for(var b=0,d=H(a),c=0;12>c;c++)for(var f=DateTime.getTotalDaysInMonth(a._currentView.year,c),e=0;e<f;e++){var g=I(new Date(a._currentView.year,c,e+1));d.hasOwnProperty(g)&&
L(a.views.chart.monthsToShow,c)&&J(a.views.chart.daysToShow,e+1)&&(b=Math.max(b,parseInt(d[g])))}return b},ya=function(a,b,d,c,f){a=DomElement.create(a,"div","day-line");f*=d;a.style.height=f+"px";0>=f&&(a.style.visibility="hidden");x(a,c,d.toString());Is.definedFunction(c.events.onWeekDayClick)?a.onclick=function(){u(c.events.onWeekDayClick,b,d)}:DomElement.addClass(a,"no-hover");c.views.days.showDayNumbers&&0<d&&(DomElement.addClass(a,"day-line-number"),DomElement.createWithHTML(a,"div","count",
d.toString()))},za=function(a,b,d,c,f,e){b=DomElement.create(b,"div","range-line");var g=ia(f,a);a=d*e;b.style.height=a+"px";0>=a&&(b.style.visibility="hidden");x(b,c,d.toString());c.views.statistics.showRangeNumbers&&0<d&&(DomElement.addClass(b,"range-line-number"),DomElement.createWithHTML(b,"div","count",d.toString()));Is.definedFunction(c.events.onStatisticClick)?b.onclick=function(){u(c.events.onStatisticClick,g)}:DomElement.addClass(b,"no-hover");Is.defined(g)&&V(c,g.id)&&(Is.definedString(g.statisticsCssClassName)?
DomElement.addClass(b,g.statisticsCssClassName):DomElement.addClass(b,g.cssClassName))},ta=function(a){var b=DomElement.create(a._currentView.element,"div","guide"),d=DomElement.create(b,"div","map-types"),c=0;for(f in l[a._currentView.element.id].type[h.unknownTrendText])if(l[a._currentView.element.id].type[h.unknownTrendText].hasOwnProperty(f)){c++;break}if(1<l[a._currentView.element.id].types){if(Is.definedString(a.description.text)){var f=DomElement.create(a._currentView.element,"div","description",
b);la(a,f)}for(var e in l[a._currentView.element.id].type)if(e!==h.unknownTrendText||0<c)0===c&&a._currentView.type===h.unknownTrendText&&(a._currentView.type=e),Ga(a,d,e)}else la(a,d);if(a.guide.enabled){b=DomElement.create(b,"div","map-toggles");a.guide.showLessAndMoreLabels&&(d=DomElement.createWithHTML(b,"div","less-text",h.lessText),a.guide.colorRangeTogglesEnabled?d.onclick=function(){ma(a,!1)}:DomElement.addClass(d,"no-click"));d=DomElement.create(b,"div","days");c=S(a);e=c.length;for(f=0;f<
e;f++)Ha(a,d,c[f]);a.guide.showLessAndMoreLabels&&(b=DomElement.createWithHTML(b,"div","more-text",h.moreText),a.guide.colorRangeTogglesEnabled?b.onclick=function(){ma(a,!0)}:DomElement.addClass(b,"no-click"))}},Ga=function(a,b,d){b=DomElement.createWithHTML(b,"button","type",d);a._currentView.type===d&&DomElement.addClass(b,"active");b.onclick=function(){a._currentView.type!==d&&(a._currentView.type=d,u(a.events.onTypeSwitch,d),m(a))}},Ha=function(a,b,d){b=DomElement.create(b,"div");b.className=
"day";x(b,a,d.tooltipText);V(a,d.id)&&(1===a._currentView.view&&Is.definedString(d.mapCssClassName)?DomElement.addClass(b,d.mapCssClassName):a.views.chart.enabled&&2===a._currentView.view&&Is.definedString(d.chartCssClassName)?DomElement.addClass(b,d.chartCssClassName):a.views.statistics.enabled&&4===a._currentView.view&&Is.definedString(d.statisticsCssClassName)?DomElement.addClass(b,d.statisticsCssClassName):DomElement.addClass(b,d.cssClassName));a.guide.showNumbersInGuide&&(DomElement.addClass(b,
"day-number"),b.innerHTML=d.minimum+"+");a.guide.colorRangeTogglesEnabled?b.onclick=function(){for(var c=d.id,f=a.colorRanges.length,e=0;e<f;e++){var g=a.colorRanges[e];if(g.id===c){g.visible=!Data.getDefaultBoolean(g.visible,!0);u(a.events.onColorRangeTypeToggle,g.id,g.visible);m(a);break}}}:DomElement.addClass(b,"no-hover")},la=function(a,b){Is.definedString(a.description.text)&&(Is.definedString(a.description.url)?(b=DomElement.createWithHTML(b,"a","label",a.description.text),b.href=a.description.url,
b.target=a.description.urlTarget):DomElement.createWithHTML(b,"span","label",a.description.text))},ka=function(a,b,d,c){Is.definedFunction(a.events.onDayToolTipRender)?x(b,a,u(a.events.onDayToolTipRender,d,c)):(c=DateTime.getCustomFormattedDateText(h,a.tooltip.dayText,d),a.showHolidaysInDayToolTips&&(d=T(a,d),d.matched&&Is.definedString(d.name)&&(c+=": "+d.name)),x(b,a,c))},ba=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;l[a]={options:b,type:{},types:1};l[a].type[h.unknownTrendText]=
{};if(d&&!b._currentView.isInFetchMode&&b.useLocalStorageForData&&window.localStorage){d=window.localStorage.length;for(var c=b._currentView.element.id,f=0;f<d;f++){var e=window.localStorage.key(f);if(Data.String.startsWithAnyCase(e,ca)&&(e=window.localStorage.getItem(e),e=aa(e),e.parsed)){l[c].type=e.result;l[c].types=0;for(var g in l[c].type)l[c].type.hasOwnProperty(g)&&l[c].types++}}}},H=function(a){return l[a._currentView.element.id].type[a._currentView.type]},L=function(a,b){return-1<a.indexOf(b+
1)},J=function(a,b){return-1<a.indexOf(b)},ra=function(a){var b=[];if(a.showOnlyDataForYearsAvailable){a=H(a);for(var d in a)if(a.hasOwnProperty(d)){var c=parseInt(d.split("-")[0]);-1===b.indexOf(c)&&b.push(c)}}return b=b.sort(function(f,e){return f-e})},N=function(a,b){return-1===a.yearsToHide.indexOf(b)&&(0===a._currentView.yearsAvailable.length||-1<a._currentView.yearsAvailable.indexOf(b))},sa=function(a){a._currentView.isInFetchMode&&(Is.defined(a._currentView.isInFetchModeTimer)||na(a),Is.defined(a._currentView.isInFetchModeTimer)||
(a._currentView.isInFetchModeTimer=setInterval(function(){na(a);m(a)},a.dataFetchDelay)))},na=function(a){var b=a._currentView.element.id,d=u(a.events.onDataFetch,b);if(Is.definedObject(d)){ba(b,a,!1);for(var c in d)d.hasOwnProperty(c)&&(l[b].type[h.unknownTrendText].hasOwnProperty(c)||(l[b].type[h.unknownTrendText][c]=0),l[b].type[h.unknownTrendText][c]+=d[c])}},V=function(a,b){var d=!1;if(b===oa)d=!0;else for(var c=a.colorRanges.length,f=0;f<c;f++){var e=a.colorRanges[f];if(e.id===b&&Data.getDefaultBoolean(e.visible,
!0)){d=!0;break}}return d},ma=function(a,b){for(var d=a.colorRanges.length,c=0;c<d;c++)a.colorRanges[c].visible=b,u(a.events.onColorRangeTypeToggle,a.colorRanges[c].id,b);m(a)},da=function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,f=null;Is.defined(c)&&T(a,c).matched&&(f={cssClassName:"holiday",id:oa,visible:!0,name:"",minimum:0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:"",tooltipText:""});if(!Is.defined(f)){c=b.length;for(var e=0;e<c;e++){var g=
b[e];if(d>=g.minimum)f=g;else break}}return f},ia=function(a,b){for(var d=a.length,c=null,f=0;f<d;f++){var e=a[f];if(b.toString()===e.minimum.toString()){c=e;break}}return c},S=function(a){return a.colorRanges.sort(function(b,d){return b.minimum-d.minimum})},T=function(a,b){var d=a.holidays.length,c=b.getDate(),f=b.getMonth()+1;b=b.getFullYear();for(var e=!1,g=null,n=0;n<d;n++){var p=a.holidays[n];if(Is.definedString(p.date)&&p.showInViews){var v=p.date.split("/");2===v.length?e=c===parseInt(v[0])&&
f===parseInt(v[1]):3===v.length&&(e=c===parseInt(v[0])&&f===parseInt(v[1])&&b===parseInt(v[2]));if(e){g=p.name;break}}}return{matched:e,name:g}},R=function(a,b){b.allowFileImports&&!b._currentView.isInFetchMode&&(a.ondragover=DomElement.cancelBubble,a.ondragenter=DomElement.cancelBubble,a.ondragleave=DomElement.cancelBubble,a.ondrop=function(d){DomElement.cancelBubble(d);Is.defined(window.FileReader)&&0<d.dataTransfer.files.length&&fa(d.dataTransfer.files,b)})},Ba=function(a){var b=DomElement.createWithNoContainer("input");
b.type="file";b.accept=".json, .txt, .csv";b.multiple="multiple";b.onchange=function(){fa(b.files,a)};b.click()},fa=function(a,b){for(var d=a.length,c=[],f=H(b),e=function(v,B){c.push(v);for(var y in B)B.hasOwnProperty(y)&&(f.hasOwnProperty(y)||(f[y]=0),f[y]+=B[y]);c.length===d&&(u(b.events.onImport,b._currentView.element),m(b))},g=0;g<d;g++){var n=a[g],p=n.name.split(".").pop().toLowerCase();"json"===p?Ia(n,e):"txt"===p?Ja(n,e):"csv"===p&&Ka(n,e)}},Ia=function(a,b){var d=new FileReader,c=null;d.readAsText(a);
d.onloadend=function(){b(a.name,c)};d.onload=function(f){f=aa(f.target.result);f.parsed&&Is.definedObject(f.result)&&(c=f.result)}},Ja=function(a,b){var d=new FileReader;d.readAsText(a);d.onloadend=function(){b(a.name,null)};d.onload=function(c){c=c.target.result.toString().split("\n");for(var f=c.length,e=0;e<f;e++){var g=c[e].split(":");null[g[0].trim()]=parseInt(g[1].trim())}}},Ka=function(a,b){var d=new FileReader;d.readAsText(a);d.onloadend=function(){b(a.name,null)};d.onload=function(c){c=c.target.result.toString().replace(RegExp('"',
"g"),"").split("\n");c.shift();for(var f=c.length,e=0;e<f;e++){var g=c[e].split(",");null[g[0].trim()]=parseInt(g[1].trim())}}},ja=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=null;var c=null;"csv"===a.exportType.toLowerCase()?c="text/csv":"json"===a.exportType.toLowerCase()?c="application/json":"xml"===a.exportType.toLowerCase()?c="application/xml":"txt"===a.exportType.toLowerCase()&&(c="text/plain");b=Data.getDefaultString(b,a.exportType).toLowerCase();if("csv"===
b){var f=W(a),e=[];for(g in f)f.hasOwnProperty(g)&&e.push([X(g),X(f[g])].join());0<e.length&&e.unshift([X(h.dateText),X(h.countText)].join());d=e.join("\n")}else if("json"===b)d=JSON.stringify(W(a));else if("xml"===b){var g=W(a);e=[];e.push('<?xml version="1.0" ?>');e.push("<Dates>");for(f in g)g.hasOwnProperty(f)&&(e.push("<Date>"),e.push("<FullDate>"+f+"</FullDate>"),e.push("<Count>"+g[f]+"</Count>"),e.push("</Date>"));e.push("</Dates>");d=e.join("\n")}else if("txt"===b){g=W(a);f=[];for(e in g)g.hasOwnProperty(e)&&
f.push(e+": "+g[e].toString());d=f.join("\n")}Is.definedString(d)&&(g=DomElement.create(document.body,"a"),g.style.display="none",g.setAttribute("target","_blank"),g.setAttribute("href","data:"+c+";charset=utf-8,"+encodeURIComponent(d)),c=g.setAttribute,e=new Date,f=Data.String.padNumber(e.getDate())+"-"+Data.String.padNumber(e.getMonth()+1)+"-"+e.getFullYear(),e=Data.String.padNumber(e.getHours())+"-"+Data.String.padNumber(e.getMinutes()),d="",a._currentView.type!==h.unknownTrendText&&(d=a._currentView.type.toLowerCase().replace(" ",
"_")+"_"),f=d+f+"_"+e+"."+a.exportType.toLowerCase(),c.call(g,"download",f),g.click(),document.body.removeChild(g),u(a.events.onExport,a._currentView.element))},W=function(a){var b={},d=H(a);if(a.exportOnlyYearBeingViewed)for(var c=0;12>c;c++)for(var f=DateTime.getTotalDaysInMonth(a._currentView.year,c),e=0;e<f;e++){var g=I(new Date(a._currentView.year,c,e+1));d.hasOwnProperty(g)&&(b[g]=d[g])}else{a=[];for(c in d)d.hasOwnProperty(c)&&a.push(c);a.sort();c=a.length;for(f=0;f<c;f++)e=a[f],d.hasOwnProperty(e)&&
(b[e]=d[e])}return b},X=function(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'},ha=function(a){a=Data.getDefaultObject(a,{});a.views=Data.getDefaultObject(a.views,{});a.exportOnlyYearBeingViewed=Data.getDefaultBoolean(a.exportOnlyYearBeingViewed,!0);a.year=Data.getDefaultNumber(a.year,(new Date).getFullYear());a.view=Data.getDefaultString(a.view,"map");a.exportType=Data.getDefaultString(a.exportType,"csv");a.useLocalStorageForData=Data.getDefaultBoolean(a.useLocalStorageForData,
!1);a.allowFileImports=Data.getDefaultBoolean(a.allowFileImports,!0);a.yearsToHide=Data.getDefaultArray(a.yearsToHide,[]);a.dataFetchDelay=Data.getDefaultNumber(a.dataFetchDelay,6E4);a.showOnlyDataForYearsAvailable=Data.getDefaultBoolean(a.showOnlyDataForYearsAvailable,!1);a.showHolidaysInDayToolTips=Data.getDefaultBoolean(a.showHolidaysInDayToolTips,!1);if(Is.definedArray(a.colorRanges))for(var b=a.colorRanges.length,d=0;d<b;d++){var c=a.colorRanges[d];c.id=Data.getDefaultString(c.id,Data.String.newGuid());
c.name=Data.getDefaultString(c.name,null);c.minimum=Data.getDefaultNumber(c.minimum,0);c.cssClassName=Data.getDefaultString(c.cssClassName,null);c.mapCssClassName=Data.getDefaultString(c.mapCssClassName,null);c.chartCssClassName=Data.getDefaultString(c.chartCssClassName,null);c.statisticsCssClassName=Data.getDefaultString(c.statisticsCssClassName,null);c.tooltipText=Data.getDefaultString(c.tooltipText,null);c.visible=Data.getDefaultBoolean(c.visible,!0)}else a.colorRanges=[{id:Data.String.newGuid(),
name:"Day Color 1",minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1",visible:!0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:""},{id:Data.String.newGuid(),name:"Day Color 2",minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2",visible:!0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:""},{id:Data.String.newGuid(),name:"Day Color 3",minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0,mapCssClassName:"",chartCssClassName:"",
statisticsCssClassName:""},{id:Data.String.newGuid(),name:"Day Color 4",minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:""}];if(Is.definedArray(a.holidays))for(b=a.holidays.length,d=0;d<b;d++)c=a.holidays[d],c.date=Data.getDefaultString(c.date,null),c.name=Data.getDefaultString(c.name,null),c.showInViews=Data.getDefaultBoolean(c.showInViews,!0);else a.holidays=[];a.title=Data.getDefaultObject(a.title,{});a.title.text=
Data.getDefaultString(a.title.text,"Heat.js");a.title.showText=Data.getDefaultBoolean(a.title.showText,!0);a.title.showYearSelector=Data.getDefaultBoolean(a.title.showYearSelector,!0);a.title.showRefreshButton=Data.getDefaultBoolean(a.title.showRefreshButton,!1);a.title.showExportButton=Data.getDefaultBoolean(a.title.showExportButton,!1);a.title.extraSelectionYears=Data.getDefaultNumber(a.title.extraSelectionYears,50);a.title.showYearSelectionDropDown=Data.getDefaultBoolean(a.title.showYearSelectionDropDown,
!0);a.title.showImportButton=Data.getDefaultBoolean(a.title.showImportButton,!1);a.title.showConfigurationButton=Data.getDefaultBoolean(a.title.showConfigurationButton,!0);a.title.showTitleDropDownButton=Data.getDefaultBoolean(a.title.showTitleDropDownButton,!0);a.title.showTitleDropDownHeaders=Data.getDefaultBoolean(a.title.showTitleDropDownHeaders,!0);a.description=Data.getDefaultObject(a.description,{});a.description.text=Data.getDefaultString(a.description.text,null);a.description.url=Data.getDefaultString(a.description.url,
null);a.description.urlTarget=Data.getDefaultString(a.description.urlTarget,"_blank");a.guide=Data.getDefaultObject(a.guide,{});a.guide.enabled=Data.getDefaultBoolean(a.guide.enabled,!0);a.guide.colorRangeTogglesEnabled=Data.getDefaultBoolean(a.guide.colorRangeTogglesEnabled,!0);a.guide.showLessAndMoreLabels=Data.getDefaultBoolean(a.guide.showLessAndMoreLabels,!0);a.guide.showNumbersInGuide=Data.getDefaultBoolean(a.guide.showNumbersInGuide,!1);a.tooltip=Data.getDefaultObject(a.tooltip,{});a.tooltip.delay=
Data.getDefaultNumber(a.tooltip.delay,750);a.tooltip.dayText=Data.getDefaultString(a.tooltip.dayText,"{d}{o} {mmmm} {yyyy}");a.views.map=Data.getDefaultObject(a.views.map,{});a.views.map.showMonthDayGaps=Data.getDefaultBoolean(a.views.map.showMonthDayGaps,!0);a.views.map.showDayNames=Data.getDefaultBoolean(a.views.map.showDayNames,!0);a.views.map.placeMonthNamesOnTheBottom=Data.getDefaultBoolean(a.views.map.placeMonthNamesOnTheBottom,!1);a.views.map.showDayNumbers=Data.getDefaultBoolean(a.views.map.showDayNumbers,
!1);a.views.map.showMonthNames=Data.getDefaultBoolean(a.views.map.showMonthNames,!0);a.views.map.showDaysInReverseOrder=Data.getDefaultBoolean(a.views.map.showDaysInReverseOrder,!1);a.views.map.showNoDataMessageWhenDataIsNotAvailable=Data.getDefaultBoolean(a.views.map.showNoDataMessageWhenDataIsNotAvailable,!1);a.views.map.showMinimalDayNames=Data.getDefaultBoolean(a.views.map.showMinimalDayNames,!1);a.views.map.showMonthsInReverseOrder=Data.getDefaultBoolean(a.views.map.showMonthsInReverseOrder,
!1);a.views.map.keepScrollPositions=Data.getDefaultBoolean(a.views.map.keepScrollPositions,!1);Is.invalidOptionArray(a.views.map.monthsToShow)&&(a.views.map.monthsToShow=Y);Is.invalidOptionArray(a.views.map.daysToShow)&&(a.views.map.daysToShow=Z);a.views.chart=Data.getDefaultObject(a.views.chart,{});a.views.chart.enabled=Data.getDefaultBoolean(a.views.chart.enabled,!0);a.views.chart.showChartYLabels=Data.getDefaultBoolean(a.views.chart.showChartYLabels,!0);a.views.chart.showMonthNames=Data.getDefaultBoolean(a.views.chart.showMonthNames,
!0);a.views.chart.showLineNumbers=Data.getDefaultBoolean(a.views.chart.showLineNumbers,!1);a.views.chart.showInReverseOrder=Data.getDefaultBoolean(a.views.chart.showInReverseOrder,!1);a.views.chart.keepScrollPositions=Data.getDefaultBoolean(a.views.chart.keepScrollPositions,!1);Is.invalidOptionArray(a.views.chart.monthsToShow)&&(a.views.chart.monthsToShow=Y);Is.invalidOptionArray(a.views.chart.daysToShow)&&(a.views.chart.daysToShow=Z);a.views.days=Data.getDefaultObject(a.views.days,{});a.views.days.enabled=
Data.getDefaultBoolean(a.views.days.enabled,!0);a.views.days.showChartYLabels=Data.getDefaultBoolean(a.views.days.showChartYLabels,!0);a.views.days.showDayNames=Data.getDefaultBoolean(a.views.days.showDayNames,!0);a.views.days.showInReverseOrder=Data.getDefaultBoolean(a.views.days.showInReverseOrder,!1);a.views.days.showDayNumbers=Data.getDefaultBoolean(a.views.days.showDayNumbers,!1);a.views.days.keepScrollPositions=Data.getDefaultBoolean(a.views.days.keepScrollPositions,!1);Is.invalidOptionArray(a.views.days.monthsToShow)&&
(a.views.days.monthsToShow=Y);Is.invalidOptionArray(a.views.days.daysToShow)&&(a.views.days.daysToShow=Z);a.views.statistics=Data.getDefaultObject(a.views.statistics,{});a.views.statistics.enabled=Data.getDefaultBoolean(a.views.statistics.enabled,!0);a.views.statistics.showChartYLabels=Data.getDefaultBoolean(a.views.statistics.showChartYLabels,!0);a.views.statistics.showColorRangeLabels=Data.getDefaultBoolean(a.views.statistics.showColorRangeLabels,!0);a.views.statistics.useColorRangeNamesForLabels=
Data.getDefaultBoolean(a.views.statistics.useColorRangeNamesForLabels,!1);a.views.statistics.showRangeNumbers=Data.getDefaultBoolean(a.views.statistics.showRangeNumbers,!1);a.views.statistics.showInReverseOrder=Data.getDefaultBoolean(a.views.statistics.showInReverseOrder,!1);a.views.statistics.keepScrollPositions=Data.getDefaultBoolean(a.views.statistics.keepScrollPositions,!1);Is.invalidOptionArray(a.views.statistics.monthsToShow)&&(a.views.statistics.monthsToShow=Y);Is.invalidOptionArray(a.views.statistics.daysToShow)&&
(a.views.statistics.daysToShow=Z);a.events=Data.getDefaultObject(a.events,{});a.events.onDayClick=Data.getDefaultFunction(a.events.onDayClick,null);a.events.onBackYear=Data.getDefaultFunction(a.events.onBackYear,null);a.events.onNextYear=Data.getDefaultFunction(a.events.onNextYear,null);a.events.onRefresh=Data.getDefaultFunction(a.events.onRefresh,null);a.events.onBeforeRender=Data.getDefaultFunction(a.events.onBeforeRender,null);a.events.onRenderComplete=Data.getDefaultFunction(a.events.onRenderComplete,
null);a.events.onDestroy=Data.getDefaultFunction(a.events.onDestroy,null);a.events.onExport=Data.getDefaultFunction(a.events.onExport,null);a.events.onSetYear=Data.getDefaultFunction(a.events.onSetYear,null);a.events.onTypeSwitch=Data.getDefaultFunction(a.events.onTypeSwitch,null);a.events.onDayToolTipRender=Data.getDefaultFunction(a.events.onDayToolTipRender,null);a.events.onAdd=Data.getDefaultFunction(a.events.onAdd,null);a.events.onRemove=Data.getDefaultFunction(a.events.onRemove,null);a.events.onReset=
Data.getDefaultFunction(a.events.onReset,null);a.events.onViewSwitch=Data.getDefaultFunction(a.events.onViewSwitch,null);a.events.onColorRangeTypeToggle=Data.getDefaultFunction(a.events.onColorRangeTypeToggle,null);a.events.onImport=Data.getDefaultFunction(a.events.onImport,null);a.events.onStatisticClick=Data.getDefaultFunction(a.events.onStatisticClick,null);a.events.onDataFetch=Data.getDefaultFunction(a.events.onDataFetch,null);a.events.onClear=Data.getDefaultFunction(a.events.onClear,null);a.events.onUpdate=
Data.getDefaultFunction(a.events.onUpdate,null);a.events.onOptionsUpdate=Data.getDefaultFunction(a.events.onOptionsUpdate,null);a.events.onWeekDayClick=Data.getDefaultFunction(a.events.onWeekDayClick,null);return a},u=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),c=1;c<b;c++)d[c-1]=arguments[c];b=null;Is.definedFunction(a)&&(b=a.apply(null,[].slice.call(d,0)));return b},aa=function(a){var b=!0,d=null;try{Is.definedString(a)&&(d=JSON.parse(a))}catch(f){try{var c=d=eval("("+a+")");Is.definedFunction(d)&&
(d=c())}catch(e){h.safeMode||(console.error(h.objectErrorText.replace("{{error_1}}",f.message).replace("{{error_2}}",e.message)),b=!1),d=null}}return{parsed:b,result:d}},I=function(a){return a.getFullYear()+"-"+Data.String.padNumber(a.getMonth()+1)+"-"+Data.String.padNumber(a.getDate())},ea=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=!0,c=a._currentView.year;for(c--;!N(a,c);){if(0<a._currentView.yearsAvailable.length&&c<=a._currentView.yearsAvailable[0]){d=!1;break}c--}d&&
(a._currentView.year=c,m(a),b&&u(a.events.onBackYear,a._currentView.year))},Q=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=!0,c=a._currentView.year;for(c++;!N(a,c);){if(0<a._currentView.yearsAvailable.length&&c>=a._currentView.yearsAvailable[a._currentView.yearsAvailable.length-1]){d=!1;break}c++}d&&(a._currentView.year=c,m(a),b&&u(a.events.onBackYear,a._currentView.year))},pa=function(a){a._currentView.element.innerHTML="";DomElement.removeClass(a._currentView.element,
"heat-js");r(a,!1);document.body.removeChild(a._currentView.tooltip);a._currentView.isInFetchMode&&Is.defined(a._currentView.isInFetchModeTimer)&&clearInterval(a._currentView.isInFetchModeTimer);u(a.events.onDestroy,a._currentView.element)},qa=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;h=Is.definedObject(a)?a:{};h.safeMode=Data.getDefaultBoolean(h.safeMode,!0);h.domElementTypes=Data.getDefaultStringOrArray(h.domElementTypes,["*"]);h.stText=Data.getDefaultAnyString(h.stText,
"st");h.ndText=Data.getDefaultAnyString(h.ndText,"nd");h.rdText=Data.getDefaultAnyString(h.rdText,"rd");h.thText=Data.getDefaultAnyString(h.thText,"th");h.backButtonText=Data.getDefaultAnyString(h.backButtonText,"Back");h.nextButtonText=Data.getDefaultAnyString(h.nextButtonText,"Next");h.refreshButtonText=Data.getDefaultAnyString(h.refreshButtonText,"Refresh");h.exportButtonText=Data.getDefaultAnyString(h.exportButtonText,"Export");h.lessText=Data.getDefaultAnyString(h.lessText,"Less");h.moreText=
Data.getDefaultAnyString(h.moreText,"More");h.dateText=Data.getDefaultAnyString(h.dateText,"Date");h.countText=Data.getDefaultAnyString(h.countText,"Count");h.mapText=Data.getDefaultAnyString(h.mapText,"Map");h.chartText=Data.getDefaultAnyString(h.chartText,"Chart");h.noChartDataMessage=Data.getDefaultAnyString(h.noChartDataMessage,"There is currently no data to view.");h.statisticsText=Data.getDefaultAnyString(h.statisticsText,"Statistics");h.noStatisticsDataMessage=Data.getDefaultAnyString(h.noStatisticsDataMessage,
"There are currently no statistics to view.");h.unknownTrendText=Data.getDefaultAnyString(h.unknownTrendText,"Unknown");h.importButtonText=Data.getDefaultAnyString(h.importButtonText,"Import");h.noMapDataMessage=Data.getDefaultAnyString(h.noMapDataMessage,"There is currently no data to view.");h.objectErrorText=Data.getDefaultAnyString(h.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}");h.attributeNotValidErrorText=Data.getDefaultAnyString(h.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object.");
h.attributeNotSetErrorText=Data.getDefaultAnyString(h.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly.");h.closeToolTipText=Data.getDefaultAnyString(h.closeToolTipText,"Close");h.configurationToolTipText=Data.getDefaultAnyString(h.configurationToolTipText,"Configuration");h.configurationTitleText=Data.getDefaultAnyString(h.configurationTitleText,"Configuration");h.visibleMonthsText=Data.getDefaultAnyString(h.visibleMonthsText,"Visible Months");h.visibleDaysText=
Data.getDefaultAnyString(h.visibleDaysText,"Visible Days");h.dataText=Data.getDefaultAnyString(h.dataText,"Data");h.colorRangesText=Data.getDefaultAnyString(h.colorRangesText,"Color Ranges");h.yearText=Data.getDefaultAnyString(h.yearText,"Year");h.daysText=Data.getDefaultAnyString(h.daysText,"Days");h.noDaysDataMessage=Data.getDefaultAnyString(h.noDaysDataMessage,"There are currently no days to view.");Is.invalidOptionArray(h.monthNames,12)&&(h.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));
Is.invalidOptionArray(h.dayNames,7)&&(h.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))},h={},P=null,l={},oa="HOLIDAY",ca="HJS_",Y=[1,2,3,4,5,6,7,8,9,10,11,12],Z=[1,2,3,4,5,6,7],w={addDates:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.unknownTrendText,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(Is.definedString(a)&&Is.definedArray(b)&&l.hasOwnProperty(a)){var f=l[a].options;if(!f._currentView.isInFetchMode){for(var e=b.length,g=0;g<e;g++)w.addDate(a,
b[g],d,!1);c&&m(f,!0)}}return w},addDate:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.unknownTrendText,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(Is.definedString(a)&&Is.definedDate(b)&&l.hasOwnProperty(a)){var f=l[a].options;if(!f._currentView.isInFetchMode){var e=I(b);l[a].type.hasOwnProperty(d)||(l[a].type[d]={},l[a].types++);l[a].type[d].hasOwnProperty(e)||(l[a].type[d][e]=0);l[a].type[d][e]++;u(f.events.onAdd,f._currentView.element);c&&m(f,
!0)}}return w},updateDate:function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:h.unknownTrendText,f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!0;if(Is.definedString(a)&&Is.definedDate(b)&&l.hasOwnProperty(a)){var e=l[a].options;if(!e._currentView.isInFetchMode&&0<d){var g=I(b);l[a].type.hasOwnProperty(c)&&(l[a].type[c][g]=d,u(e.events.onUpdate,e._currentView.element),f&&m(e,!0))}}return w},removeDates:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:h.unknownTrendText,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(Is.definedString(a)&&Is.definedArray(b)&&l.hasOwnProperty(a)){var f=l[a].options;if(!f._currentView.isInFetchMode){for(var e=b.length,g=0;g<e;g++)w.removeDate(a,b[g],d,!1);c&&m(f,!0)}}return w},removeDate:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.unknownTrendText,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(Is.definedString(a)&&Is.definedDate(b)&&l.hasOwnProperty(a)){var f=
l[a].options;if(!f._currentView.isInFetchMode){var e=I(b);l[a].type.hasOwnProperty(d)&&l[a].type[d].hasOwnProperty(e)&&(0<l[a].type[d][e]&&l[a].type[d][e]--,u(f.events.onRemove,f._currentView.element),c&&m(f,!0))}}return w},clearDate:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.unknownTrendText,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(Is.definedString(a)&&Is.definedDate(b)&&l.hasOwnProperty(a)){var f=l[a].options;if(!f._currentView.isInFetchMode){var e=
I(b);l[a].type.hasOwnProperty(d)&&l[a].type[d].hasOwnProperty(e)&&(delete l[a].type[d][e],u(f.events.onClear,f._currentView.element),c&&m(f,!0))}}return w},resetAll:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,b;for(b in l)l.hasOwnProperty(b)&&w.reset(b,a);return w},reset:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;if(Is.definedString(a)&&l.hasOwnProperty(a)){var d=l[a].options;d._currentView.isInFetchMode||(d._currentView.type=h.unknownTrendText,
ba(a,d,!1),u(d.events.onReset,d._currentView.element),b&&m(d,!0))}return w},import:function(a,b){Is.definedString(a)&&l.hasOwnProperty(a)&&Is.definedArray(b)&&fa(b,l[a].options);return w},export:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Is.definedString(a)&&l.hasOwnProperty(a)&&ja(l[a].options,b);return w},refresh:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&(a=l[a].options,m(a,!0),u(a.events.onRefresh,a._currentView.element));return w},refreshAll:function(){for(var a in l)if(l.hasOwnProperty(a)){var b=
l[a].options;m(b,!0);u(b.events.onRefresh,b._currentView.element)}return w},setYear:function(a,b){Is.definedString(a)&&Is.definedNumber(b)&&l.hasOwnProperty(a)&&(a=l[a].options,a._currentView.year=b,N(a,a._currentView.year)?m(a):Q(a,!1),u(a.events.onSetYear,a._currentView.year));return w},setYearToHighest:function(a){if(Is.definedString(a)&&l.hasOwnProperty(a)){a=l[a].options;var b=H(a),d=0,c;for(c in b)b.hasOwnProperty(c)&&(d=Math.max(d,parseInt(c.split("-")[0])));0<d&&(a._currentView.year=d,N(a,
a._currentView.year)?m(a):Q(a,!1),u(a.events.onSetYear,a._currentView.year))}return w},setYearToLowest:function(a){if(Is.definedString(a)&&l.hasOwnProperty(a)){a=l[a].options;var b=H(a),d=9999,c;for(c in b)b.hasOwnProperty(c)&&(d=Math.min(d,parseInt(c.split("-")[0])));9999>d&&(a._currentView.year=d,N(a,a._currentView.year)?m(a):ea(a,!1),u(a.events.onSetYear,a._currentView.year))}return w},moveToPreviousYear:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&ea(l[a].options);return w},moveToNextYear:function(a){Is.definedString(a)&&
l.hasOwnProperty(a)&&Q(l[a].options);return w},moveToCurrentYear:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&(a=l[a].options,a._currentView.year=(new Date).getFullYear(),N(a,a._currentView.year)?m(a):Q(a,!1),u(a.events.onSetYear,a._currentView.year));return w},getYear:function(a){var b=null;Is.definedString(a)&&l.hasOwnProperty(a)&&(b=l[a].options._currentView.year);return b},render:function(a,b){Is.definedObject(a)&&Is.definedObject(b)&&t(z(b,a));return w},renderAll:function(){q();return w},
switchView:function(a,b){if(Is.definedString(a)&&Is.definedString(b)&&l.hasOwnProperty(a)){a=l[a].options;var d=null;"map"===b.toLowerCase()?d=1:"chart"===b.toLowerCase()?d=2:"days"===b.toLowerCase()?d=3:"statistics"===b.toLowerCase()&&(d=4);Is.definedNumber(d)&&(a._currentView.view=d,u(a.events.onViewSwitch,b),m(a,!1,!0))}return w},switchType:function(a,b){Is.definedString(a)&&Is.definedString(b)&&l.hasOwnProperty(a)&&l[a].type.hasOwnProperty(b)&&(a=l[a].options,a._currentView.type!==b&&(a._currentView.type=
b,u(a.events.onTypeSwitch,b),m(a)));return w},updateOptions:function(a,b){if(Is.definedString(a)&&Is.definedObject(b)&&l.hasOwnProperty(a)){a=l[a].options;b=ha(b);var d=!1,c;for(c in b)b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!==b[c]&&(a[c]=b[c],d=!0);d&&(m(a,!0),u(a.events.onRefresh,a._currentView.element),u(a.events.onOptionsUpdate,a._currentView.element,a))}return w},destroyAll:function(){for(var a in l)l.hasOwnProperty(a)&&pa(l[a].options);l={};return w},destroy:function(a){Is.definedString(a)&&
l.hasOwnProperty(a)&&(pa(l[a].options),delete l[a]);return w},setConfiguration:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;if(Is.definedObject(a)){var d=!1,c;for(c in a)a.hasOwnProperty(c)&&h.hasOwnProperty(c)&&h[c]!==a[c]&&(h[c]=a[c],d=!0);d&&(qa(h),b&&w.refreshAll())}return w},getIds:function(){var a=[],b;for(b in l)l.hasOwnProperty(b)&&a.push(b);return a},getVersion:function(){return"4.0.0"}};(function(){qa();document.addEventListener("DOMContentLoaded",function(){q()});
window.addEventListener("pagehide",function(){for(var a in l)if(l.hasOwnProperty(a)){var b=l[a].options;Is.defined(b._currentView.isInFetchModeTimer)&&clearInterval(b._currentView.isInFetchModeTimer)}});Is.defined(window.$heat)||(window.$heat=w)})()})();