/*! Heat.js v4.0.0 | (c) Bunoon 2024 | MIT License */
var HEAT_JS_ATTRIBUTE_NAME="data-heat-js",Is;
(t=>{function A(k){return null!==k&&void 0!==k&&""!==k.toString()}function r(k){return A(k)&&"object"===typeof k}function m(k){return r(k)&&k instanceof Array}t.defined=A;t.definedObject=r;t.definedBoolean=function(k){return A(k)&&"boolean"===typeof k};t.definedString=function(k){return A(k)&&"string"===typeof k};t.definedFunction=function(k){return A(k)&&"function"===typeof k};t.definedNumber=function(k){return A(k)&&"number"===typeof k};t.definedArray=m;t.definedDate=function(k){return r(k)&&k instanceof
Date};t.invalidOptionArray=function(k,q=1){return!m(k)||k.length<q}})(Is||={});var Data;
(t=>{function A(r,m){return Is.definedArray(r)?r:m}(r=>{r.newGuid=function(){const m=[];for(let k=0;32>k;k++){8!==k&&12!==k&&16!==k&&20!==k||m.push("-");const q=Math.floor(16*Math.random()).toString(16);m.push(q)}return m.join("")};r.padNumber=function(m){m=m.toString();return 1===m.length?"0"+m:m};r.startsWithAnyCase=function(m,k){return m.substring(0,k.length).toLowerCase()===k.toLowerCase()}})(t.String||(t.String={}));t.getDefaultAnyString=function(r,m){return"string"===typeof r?r:m};t.getDefaultString=
function(r,m){return Is.definedString(r)?r:m};t.getDefaultBoolean=function(r,m){return Is.definedBoolean(r)?r:m};t.getDefaultNumber=function(r,m){return Is.definedNumber(r)?r:m};t.getDefaultFunction=function(r,m){return Is.definedFunction(r)?r:m};t.getDefaultArray=A;t.getDefaultObject=function(r,m){return Is.definedObject(r)?r:m};t.getDefaultStringOrArray=function(r,m){let k=m;Is.definedString(r)?(r=r.toString().split(" "),0!==r.length&&(k=r)):k=A(r,m);return k}})(Data||={});var DomElement;
(t=>{function A(k,q,w="",B=null){q=q.toLowerCase();q="text"===q?document.createTextNode(""):document.createElement(q);Is.defined(w)&&(q.className=w);Is.defined(B)?k.insertBefore(q,B):k.appendChild(q);return q}function r(k,q,w,B,E=null){k=A(k,q,w,E);k.innerHTML=B;return k}function m(){const k=document.documentElement;return{left:(window.pageXOffset||k.scrollLeft)-(k.clientLeft||0),top:(window.pageYOffset||k.scrollTop)-(k.clientTop||0)}}t.createWithNoContainer=function(k){k=k.toLowerCase();return"text"===
k?document.createTextNode(""):document.createElement(k)};t.create=A;t.createWithHTML=r;t.getStyleValueByName=function(k,q,w=!1){let B=null;document.defaultView.getComputedStyle?B=document.defaultView.getComputedStyle(k,null).getPropertyValue(q):k.currentStyle&&(B=k.currentStyle[q]);w&&(B=parseFloat(B));return B};t.addClass=function(k,q){k.className+=" "+q;k.className=k.className.trim()};t.removeClass=function(k,q){k.className=k.className.replace(q,"");k.className=k.className.trim()};t.cancelBubble=
function(k){k.preventDefault();k.cancelBubble=!0};t.getScrollPosition=m;t.showElementAtMousePosition=function(k,q){let w=k.pageX,B=k.pageY;const E=m();q.style.display="block";w+q.offsetWidth>window.innerWidth?w-=q.offsetWidth:w++;B+q.offsetHeight>window.innerHeight?B-=q.offsetHeight:B++;w<E.left&&(w=k.pageX+1);B<E.top&&(B=k.pageY+1);q.style.left=w+"px";q.style.top=B+"px"};t.reverseChildrenOrder=function(k){const q=k.children;let w=q.length-1;for(;w--;)k.appendChild(q[w])};t.createCheckBox=function(k,
q,w=null,B=null){k=A(k,"div");k=A(k,"label","checkbox");const E=A(k,"input");E.type="checkbox";Is.defined(B)&&(E.onclick=B);Is.defined(w)&&(E.checked=w);A(k,"span","check-mark");r(k,"span","text",q);return{input:E,label:k}}})(DomElement||={});var DateTime;
(t=>{function A(m){return 0>m.getDay()-1?6:m.getDay()-1}function r(m,k){let q=m.thText;if(31===k||21===k||1===k)q=m.stText;else if(22===k||2===k)q=m.ndText;else if(23===k||3===k)q=m.rdText;return q}t.getTotalDaysInMonth=function(m,k){return(new Date(m,k+1,0)).getDate()};t.getWeekdayNumber=A;t.getDayOrdinal=r;t.getCustomFormattedDateText=function(m,k,q){const w=A(q);k=k.replace("{dddd}",m.dayNames[w]);k=k.replace("{dd}",Data.String.padNumber(q.getDate()));k=k.replace("{d}",q.getDate().toString());
k=k.replace("{o}",r(m,q.getDate()));k=k.replace("{mmmm}",m.monthNames[q.getMonth()]);k=k.replace("{mm}",Data.String.padNumber(q.getMonth()+1));k=k.replace("{m}",(q.getMonth()+1).toString());k=k.replace("{yyyy}",q.getFullYear().toString());k=k.replace("{yyy}",q.getFullYear().toString().substring(1));k=k.replace("{yy}",q.getFullYear().toString().substring(2));return k=k.replace("{y}",parseInt(q.getFullYear().toString().substring(2)).toString())}})(DateTime||={});
(()=>{function t(){const a=g.domElementTypes,b=a.length;for(let e=0;e<b;e++){var d=document.getElementsByTagName(a[e]);const f=[].slice.call(d),h=f.length;for(let n=0;n<h;n++){d=f[n];let p=!0;if(Is.defined(d)&&d.hasAttribute(HEAT_JS_ATTRIBUTE_NAME)){var c=d.getAttribute(HEAT_JS_ATTRIBUTE_NAME);Is.definedString(c)?(c=Z(c),c.parsed&&Is.definedObject(c.result)?r(A(c.result,d)):g.safeMode||(console.error(g.attributeNotValidErrorText.replace("{{attribute_name}}",HEAT_JS_ATTRIBUTE_NAME)),p=!1)):g.safeMode||
(console.error(g.attributeNotSetErrorText.replace("{{attribute_name}}",HEAT_JS_ATTRIBUTE_NAME)),p=!1)}if(!p)break}}}function A(a,b){a=ea(a);const d=Is.definedString(a.view)?a.view.toLowerCase():"";let c={};c.element=b;c.disabledBackground=null;c.configurationDialog=null;c.dayCheckBoxes=[];c.monthCheckBoxes=[];c.tooltip=null;c.tooltipTimer=0;c.mapContents=null;c.mapContentsScrollLeft=0;c.year=a.year;c.type=g.unknownTrendText;c.isInFetchMode=Is.definedFunction(a.events.onDataFetch);c.isInFetchModeTimer=
0;c.yearsAvailable=[];a.views.chart.enabled&&(c.chartContents=null,c.chartContentsScrollLeft=0);a.views.days.enabled&&(c.daysContents=null,c.daysContentsScrollLeft=0);a.views.statistics.enabled&&(c.statisticsContents=null,c.statisticsContentsScrollLeft=0);c.view="map"===d?1:"chart"===d?2:"days"===d?3:"statistics"===d?4:1;a._currentView=c;return a}function r(a){u(a.events.onBeforeRender,a._currentView.element);Is.definedString(a._currentView.element.id)||(a._currentView.element.id=Data.String.newGuid());
""===a._currentView.element.className.trim()?a._currentView.element.className="heat-js":DomElement.addClass(a._currentView.element,"heat-js");a._currentView.element.removeAttribute(HEAT_JS_ATTRIBUTE_NAME);aa(a._currentView.element.id,a);m(a);u(a.events.onRenderComplete,a._currentView.element)}function m(a,b=!1,d=!1){var c;if(b&&a.useLocalStorageForData&&window.localStorage){b=a._currentView.element.id;if(a.useLocalStorageForData&&window.localStorage){var e=window.localStorage.length,f=[];var h=a._currentView.element.id;
for(c=0;c<e;c++)Data.String.startsWithAnyCase(window.localStorage.key(c),"HJS_"+h)&&f.push(window.localStorage.key(c));e=f.length;for(h=0;h<e;h++)window.localStorage.removeItem(f[h])}f=JSON.stringify(l[b].typeData);window.localStorage.setItem("HJS_"+b,f)}Is.defined(a._currentView.mapContents)&&(a._currentView.mapContentsScrollLeft=a._currentView.mapContents.scrollLeft);a.views.chart.enabled&&Is.defined(a._currentView.chartContents)&&(a._currentView.chartContentsScrollLeft=a._currentView.chartContents.scrollLeft);
a.views.days.enabled&&Is.defined(a._currentView.daysContents)&&(a._currentView.daysContentsScrollLeft=a._currentView.daysContents.scrollLeft);a.views.statistics.enabled&&Is.defined(a._currentView.statisticsContents)&&(a._currentView.statisticsContentsScrollLeft=a._currentView.statisticsContents.scrollLeft);a._currentView.element.innerHTML="";a._currentView.yearsAvailable=oa(a);E(a);pa(a);a.title.showConfigurationButton&&(a._currentView.disabledBackground=DomElement.create(a._currentView.element,"div",
"disabled"),k(a));Is.defined(a._currentView.tooltip)||(a._currentView.tooltip=DomElement.create(document.body,"div","heat-js-tooltip"),a._currentView.tooltip.style.display="none",q(a));qa(a);a._currentView.mapContents=DomElement.create(a._currentView.element,"div","map-contents");a.views.chart.enabled&&(a._currentView.chartContents=DomElement.create(a._currentView.element,"div","chart-contents"),Q(a._currentView.chartContents,a));a.views.days.enabled&&(a._currentView.daysContents=DomElement.create(a._currentView.element,
"div","days-contents"),Q(a._currentView.daysContents,a));a.views.statistics.enabled&&(a._currentView.statisticsContents=DomElement.create(a._currentView.element,"div","statistics-contents"),Q(a._currentView.statisticsContents,a));ra(a);if(b=a.views.map.showNoDataMessageWhenDataIsNotAvailable){b=!1;f=H(a);e=a._currentView.year.toString();for(var n in f)if(f.hasOwnProperty(n)&&n.split("-")[0]===e){b=!0;break}b=!b}if(b)n=DomElement.createWithHTML(a._currentView.mapContents,"div","no-data-message",g.noMapDataMessage),
d&&DomElement.addClass(n,"view-switch");else{a._currentView.mapContents.style.minHeight="unset";Q(a._currentView.mapContents,a);f=DomElement.create(a._currentView.mapContents,"div","map");n=a._currentView.year;b=!1;d&&DomElement.addClass(f,"view-switch");if(a.views.map.showDayNames){e=DomElement.create(f,"div","days");h=a.views.map.showMinimalDayNames&&7===a.views.map.daysToShow.length;if(!a.views.map.showMonthNames||a.views.map.placeMonthNamesOnTheBottom)e.className="days-months-bottom";for(c=0;7>
c;c++)J(a.views.map.daysToShow,c+1)&&DomElement.createWithHTML(e,"div","day-name",h&&0!==c%3?" ":g.dayNames[c]);a.views.map.showDaysInReverseOrder&&DomElement.reverseChildrenOrder(e)}f=DomElement.create(f,"div","months");e=R(a);for(h=0;12>h;h++)if(K(a.views.map.monthsToShow,h)){c=DomElement.create(f,"div","month");var p=DomElement.create(c,"div","day-columns"),C=DateTime.getTotalDaysInMonth(n,h),x=DomElement.create(p,"div","day-column"),y=!1,D=DateTime.getWeekdayNumber(new Date(n,h,1)),z=1;C+=D;for(var G=
0;G<C;G++){G>=D?y=!0:J(a.views.map.daysToShow,z)&&DomElement.create(x,"div","day-disabled");if(y){let O=null;J(a.views.map.daysToShow,z)&&(O=sa(a,x,G-D,h,n,e));if(0===(G+1)%7&&(a.views.map.showDaysInReverseOrder&&DomElement.reverseChildrenOrder(x),x=DomElement.create(p,"div","day-column"),z=0,0===N&&Is.defined(O))){let ta=DomElement.getStyleValueByName(O,"margin-left",!0),ua=DomElement.getStyleValueByName(O,"margin-right",!0);N=O.offsetWidth+ta+ua}}z++}a.views.map.showMonthNames&&(x=c.offsetWidth,
C=a.views.map.placeMonthNamesOnTheBottom?DomElement.createWithHTML(c,"div","month-name-bottom",g.monthNames[h]):DomElement.createWithHTML(c,"div","month-name",g.monthNames[h],p),Is.defined(C)&&(C.style.width=a.views.map.showMonthDayGaps?x+"px":x-N+"px"));b&&Is.defined(N)&&(0<D&&!a.views.map.showMonthDayGaps?c.style.marginLeft=-N+"px":0===D&&a.views.map.showMonthDayGaps&&(c.style.marginLeft=N+"px"));a.views.map.showMonthsInReverseOrder&&DomElement.reverseChildrenOrder(p);b=!0}a.views.map.showMonthsInReverseOrder&&
DomElement.reverseChildrenOrder(f);a.views.map.keepScrollPositions&&(a._currentView.mapContents.scrollLeft=a._currentView.mapContentsScrollLeft)}a.views.chart.enabled&&(va(a,d),a._currentView.chartContents.style.display="none");if(a.views.days.enabled){f=DomElement.create(a._currentView.daysContents,"div","days");n=DomElement.create(a._currentView.daysContents,"div","day-names");e=DomElement.create(f,"div","y-labels");b=DomElement.create(f,"div","day-lines");h=0;c=H(a);p={1:0,2:0,3:0,4:0,5:0,6:0,
7:0};for(D=0;12>D;D++)for(C=DateTime.getTotalDaysInMonth(a._currentView.year,D),x=0;x<C;x++)y=I(new Date(a._currentView.year,D,x+1)),c.hasOwnProperty(y)&&(z=y.split("-"),z=new Date(parseInt(z[2]),parseInt(z[1]),parseInt(z[0])),G=DateTime.getWeekdayNumber(z)+1,!S(a,z).matched&&K(a.views.days.monthsToShow,z.getMonth())&&J(a.views.days.daysToShow,G)&&(p[G]+=c[y],h=Math.max(h,p[G])));c=p;d&&DomElement.addClass(f,"view-switch");0<h&&a.views.days.showChartYLabels?(p=DomElement.createWithHTML(e,"div","label-0",
h.toString()),DomElement.createWithHTML(e,"div","label-25",(3*Math.floor(h/4)).toString()),DomElement.createWithHTML(e,"div","label-50",Math.floor(h/2).toString()),DomElement.createWithHTML(e,"div","label-75",Math.floor(h/4).toString()),DomElement.createWithHTML(e,"div","label-100","0"),e.style.width=p.offsetWidth+"px",n.style.paddingLeft=e.offsetWidth+DomElement.getStyleValueByName(e,"margin-right",!0)+"px"):e.parentNode.removeChild(e);if(0===h){a._currentView.daysContents.style.minHeight=a._currentView.mapContents.offsetHeight+
"px";f.parentNode.removeChild(f);n.parentNode.removeChild(n);var F=DomElement.createWithHTML(a._currentView.daysContents,"div","no-days-message",g.noDaysDataMessage);d&&DomElement.addClass(F,"view-switch")}else{f=a._currentView.mapContents.offsetHeight/h;for(F in c)c.hasOwnProperty(F)&&J(a.views.days.daysToShow,parseInt(F))&&(wa(b,parseInt(F),c[F],a,f),a.views.days.showDayNames&&DomElement.createWithHTML(n,"div","day-name",g.dayNames[parseInt(F)-1]));a.views.days.showInReverseOrder&&(DomElement.reverseChildrenOrder(b),
DomElement.reverseChildrenOrder(n));a.views.days.keepScrollPositions&&(a._currentView.daysContents.scrollLeft=a._currentView.daysContentsScrollLeft)}a._currentView.daysContents.style.display="none"}if(a.views.statistics.enabled){f=DomElement.create(a._currentView.statisticsContents,"div","statistics");F=DomElement.create(a._currentView.statisticsContents,"div","statistics-ranges");e=DomElement.create(f,"div","y-labels");n=DomElement.create(f,"div","range-lines");b=R(a);c={};p=H(a);h=0;c["0"]=0;for(D=
0;12>D;D++)for(C=DateTime.getTotalDaysInMonth(a._currentView.year,D),x=0;x<C;x++)y=I(new Date(a._currentView.year,D,x+1)),p.hasOwnProperty(y)&&(z=y.split("-"),z=new Date(parseInt(z[2]),parseInt(z[1]),parseInt(z[0])),G=DateTime.getWeekdayNumber(z)+1,!S(a,z).matched&&K(a.views.statistics.monthsToShow,z.getMonth())&&J(a.views.statistics.daysToShow,G)&&(y=ba(a,b,p[y]),Is.defined(y)?(c.hasOwnProperty(y.minimum.toString())||(c[y.minimum.toString()]=0),c[y.minimum]++,h=Math.max(h,c[y.minimum])):c["0"]++));
d&&DomElement.addClass(f,"view-switch");0<h&&a.views.statistics.showChartYLabels?(p=DomElement.createWithHTML(e,"div","label-0",h.toString()),DomElement.createWithHTML(e,"div","label-25",(3*Math.floor(h/4)).toString()),DomElement.createWithHTML(e,"div","label-50",Math.floor(h/2).toString()),DomElement.createWithHTML(e,"div","label-75",Math.floor(h/4).toString()),DomElement.createWithHTML(e,"div","label-100","0"),e.style.width=p.offsetWidth+"px",F.style.paddingLeft=e.offsetWidth+DomElement.getStyleValueByName(e,
"margin-right",!0)+"px"):e.parentNode.removeChild(e);if(0===h){a._currentView.statisticsContents.style.minHeight=a._currentView.mapContents.offsetHeight+"px";f.parentNode.removeChild(f);F.parentNode.removeChild(F);var L=DomElement.createWithHTML(a._currentView.statisticsContents,"div","no-statistics-message",g.noStatisticsDataMessage);d&&DomElement.addClass(L,"view-switch")}else{d=a._currentView.mapContents.offsetHeight/h;a.views.statistics.showColorRangeLabels||F.parentNode.removeChild(F);for(L in c)c.hasOwnProperty(L)&&
(xa(parseInt(L),n,c[L],a,b,d),f=fa(b,parseInt(L)),a.views.statistics.showColorRangeLabels&&(a.views.statistics.useColorRangeNamesForLabels&&Is.defined(f)&&Is.definedString(f.name)?DomElement.createWithHTML(F,"div","range-name",f.name):DomElement.createWithHTML(F,"div","range-name",L+"+")));a.views.statistics.showInReverseOrder&&(DomElement.reverseChildrenOrder(n),DomElement.reverseChildrenOrder(F));a.views.statistics.keepScrollPositions&&(a._currentView.statisticsContents.scrollLeft=a._currentView.statisticsContentsScrollLeft)}a._currentView.statisticsContents.style.display=
"none"}a._currentView.mapContents.style.display="none";1===a._currentView.view?a._currentView.mapContents.style.display="block":a.views.chart.enabled&&2===a._currentView.view?a._currentView.chartContents.style.display="block":a.views.days.enabled&&3===a._currentView.view?a._currentView.daysContents.style.display="block":a.views.statistics.enabled&&4===a._currentView.view?a._currentView.statisticsContents.style.display="block":(a._currentView.view=1,a._currentView.mapContents.style.display="block")}
function k(a){a._currentView.configurationDialog=DomElement.create(a._currentView.disabledBackground,"div","dialog configuration");var b=DomElement.create(a._currentView.configurationDialog,"div","dialog-title-bar"),d=DomElement.create(a._currentView.configurationDialog,"div","dialog-contents");const c=DomElement.create(b,"div","dialog-close");var e=DomElement.create(d,"div","side-container panel");d=DomElement.create(d,"div","side-container panel");DomElement.createWithHTML(b,"span","dialog-title-bar-text",
g.configurationTitleText);DomElement.createWithHTML(e,"div","side-container-title-text",g.visibleDaysText+":");DomElement.createWithHTML(d,"div","side-container-title-text",g.visibleMonthsText+":");b=DomElement.create(d,"div","side-container");d=DomElement.create(d,"div","side-container");c.onclick=()=>{Is.defined(a._currentView.disabledBackground)&&"none"!==a._currentView.disabledBackground.style.display&&(a._currentView.disabledBackground.style.display="none");Is.defined(a._currentView.configurationDialog)&&
"none"!==a._currentView.configurationDialog.style.display&&(a._currentView.configurationDialog.style.display="none");const f=[],h=[];let n=!1;for(var p=0;7>p;p++)a._currentView.dayCheckBoxes[p].checked&&f.push(p+1);for(p=0;12>p;p++)a._currentView.monthCheckBoxes[p].checked&&h.push(p+1);1<=f.length&&(1===a._currentView.view?a.views.map.daysToShow=f:a.views.chart.enabled&&2===a._currentView.view?a.views.chart.daysToShow=f:a.views.days.enabled&&3===a._currentView.view?a.views.days.daysToShow=f:a.views.statistics.enabled&&
4===a._currentView.view?a.views.statistics.daysToShow=f:a.views.map.daysToShow=f,n=!0);1<=h.length&&(1===a._currentView.view?a.views.map.monthsToShow=h:a.views.chart.enabled&&2===a._currentView.view?a.views.chart.monthsToShow=h:a.views.days.enabled&&3===a._currentView.view?a.views.days.monthsToShow=h:a.views.statistics.enabled&&4===a._currentView.view?a.views.statistics.monthsToShow=h:a.views.map.monthsToShow=h,n=!0);n?(m(a),u(a.events.onOptionsUpdate,a._currentView.element,a)):E(a)};for(let f=0;7>
f;f++)a._currentView.dayCheckBoxes[f]=DomElement.createCheckBox(e,g.dayNames[f]).input;for(e=0;7>e;e++)a._currentView.monthCheckBoxes[e]=DomElement.createCheckBox(b,g.monthNames[e]).input;for(e=7;12>e;e++)a._currentView.monthCheckBoxes[e]=DomElement.createCheckBox(d,g.monthNames[e]).input;w(c,a,g.closeToolTipText)}function q(a,b=!0){let d=b?document.addEventListener:document.removeEventListener;(b?window.addEventListener:window.removeEventListener)("mousemove",()=>{E(a)});d("scroll",()=>{E(a)})}function w(a,
b,d){null!==a&&(a.onmousemove=c=>{B(c,b,d)})}function B(a,b,d){DomElement.cancelBubble(a);E(b);b._currentView.tooltipTimer=setTimeout(()=>{b._currentView.tooltip.innerHTML=d;b._currentView.tooltip.style.display="block";DomElement.showElementAtMousePosition(a,b._currentView.tooltip)},b.tooltip.delay)}function E(a){Is.defined(a._currentView.tooltip)&&(Is.defined(a._currentView.tooltipTimer)&&(clearTimeout(a._currentView.tooltipTimer),a._currentView.tooltipTimer=null),"none"!==a._currentView.tooltip.style.display&&
(a._currentView.tooltip.style.display="none"))}function qa(a){if(a.title.showText||a.title.showYearSelector||a.title.showRefreshButton||a.title.showExportButton||a.title.showImportButton){var b=DomElement.create(a._currentView.element,"div","title-bar"),d=DomElement.create(b,"div","title");a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled?a.title.showTitleDropDownButton&&DomElement.create(d,"div","down-arrow"):DomElement.addClass(d,"no-click");a.title.showText&&(d.innerHTML+=
a.title.text);(a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled)&&ya(a,d);a.title.showImportButton&&!a._currentView.isInFetchMode&&(DomElement.createWithHTML(b,"button","import",g.importButtonText).onclick=()=>{za(a)});a.title.showExportButton&&(DomElement.createWithHTML(b,"button","export",g.exportButtonText).onclick=()=>{ha(a)});a.title.showRefreshButton&&(DomElement.createWithHTML(b,"button","refresh",g.refreshButtonText).onclick=()=>{m(a);u(a.events.onRefresh,a._currentView.element)});
a.title.showYearSelector&&(d=DomElement.createWithHTML(b,"button","back",g.backButtonText),d.onclick=()=>{ca(a)},0<a._currentView.yearsAvailable.length&&a._currentView.year<=a._currentView.yearsAvailable[0]&&(d.disabled=!0),a._currentView.yearText=DomElement.createWithHTML(b,"div","year-text",a._currentView.year.toString()),a.title.showYearSelectionDropDown?Aa(a):DomElement.addClass(a._currentView.yearText,"no-click"),a.title.showConfigurationButton&&(d=DomElement.create(b,"div","configure"),w(d,
a,g.configurationToolTipText),d.onclick=()=>{Is.defined(a._currentView.disabledBackground)&&"block"!==a._currentView.disabledBackground.style.display&&(a._currentView.disabledBackground.style.display="block");Is.defined(a._currentView.configurationDialog)&&"block"!==a._currentView.configurationDialog.style.display&&(a._currentView.configurationDialog.style.display="block");let c;if(1===a._currentView.view){var e=a.views.map.daysToShow;c=a.views.map.monthsToShow}else a.views.chart.enabled&&2===a._currentView.view?
(e=a.views.chart.daysToShow,c=a.views.chart.monthsToShow):a.views.days.enabled&&3===a._currentView.view?(e=a.views.days.daysToShow,c=a.views.days.monthsToShow):a.views.statistics.enabled&&4===a._currentView.view?(e=a.views.statistics.daysToShow,c=a.views.statistics.monthsToShow):(e=a.views.map.daysToShow,c=a.views.map.monthsToShow);for(let f=0;7>f;f++)a._currentView.dayCheckBoxes[f].checked=J(e,f+1);for(e=0;12>e;e++)a._currentView.monthCheckBoxes[e].checked=K(c,e);E(a)}),b=DomElement.createWithHTML(b,
"button","next",g.nextButtonText),b.onclick=()=>{P(a)},0<a._currentView.yearsAvailable.length&&a._currentView.year>=a._currentView.yearsAvailable[a._currentView.yearsAvailable.length-1]&&(b.disabled=!0))}}function ya(a,b){b=DomElement.create(b,"div","titles-menu-container");b=DomElement.create(b,"div","titles-menu");a.title.showTitleDropDownHeaders&&DomElement.createWithHTML(b,"div","title-menu-header",g.dataText+":");var d=DomElement.createWithHTML(b,"div","title-menu-item",g.mapText);T(a,d,1,"map");
a.views.chart.enabled&&(d=DomElement.createWithHTML(b,"div","title-menu-item",g.chartText),T(a,d,2,"chart"));a.views.days.enabled&&(a.title.showTitleDropDownHeaders&&DomElement.createWithHTML(b,"div","title-menu-header",g.yearText+":"),d=DomElement.createWithHTML(b,"div","title-menu-item",g.daysText),T(a,d,3,"days"));a.views.statistics.enabled&&(a.title.showTitleDropDownHeaders&&DomElement.createWithHTML(b,"div","title-menu-header",g.statisticsText+":"),b=DomElement.createWithHTML(b,"div","title-menu-item",
g.colorRangesText),T(a,b,4,"statistics"))}function T(a,b,d,c){a._currentView.view===d?DomElement.addClass(b,"title-menu-item-active"):b.onclick=()=>{a._currentView.view=d;u(a.events.onViewSwitch,c);m(a,!1,!0)}}function Aa(a){DomElement.create(a._currentView.yearText,"div","down-arrow");const b=DomElement.create(a._currentView.yearText,"div","years-menu-container"),d=DomElement.create(b,"div","years-menu"),c=(new Date).getFullYear();let e=null;b.style.display="block";b.style.visibility="hidden";for(let f=
c-a.title.extraSelectionYears;f<c+a.title.extraSelectionYears;f++)if(M(a,f)){let h=Ba(a,d,f,c);Is.defined(e)||(e=h)}Is.defined(e)&&(d.scrollTop=e.offsetTop-d.offsetHeight/2);b.style.display="none";b.style.visibility="visible"}function Ba(a,b,d,c){let e=null;b=DomElement.createWithHTML(b,"div","year-menu-item",d.toString());a._currentView.year!==d?(b.onclick=()=>{a._currentView.year=d;m(a);u(a.events.onSetYear,a._currentView.year)},d===c&&DomElement.addClass(b,"year-menu-item-current")):(DomElement.addClass(b,
"year-menu-item-active"),e=b);return e}function sa(a,b,d,c,e,f){d+=1;b=DomElement.create(b,"div","day");const h=new Date(e,c,d);let n=l[a._currentView.element.id].typeData[a._currentView.type][I(h)];n=Data.getDefaultNumber(n,0);ia(a,b,h,n);a.views.map.showDayNumbers&&0<n&&(b.innerHTML=n.toString());Is.definedFunction(a.events.onDayClick)?b.onclick=()=>{u(a.events.onDayClick,h,n)}:DomElement.addClass(b,"no-hover");c=ba(a,f,n,h);Is.defined(c)&&U(a,c.id)&&(Is.definedString(c.mapCssClassName)?DomElement.addClass(b,
c.mapCssClassName):DomElement.addClass(b,c.cssClassName));return b}function va(a,b){var d=DomElement.create(a._currentView.chartContents,"div","chart"),c=DomElement.create(d,"div","y-labels"),e=DomElement.create(d,"div","day-lines"),f=R(a),h=Ca(a),n=a._currentView.year;let p=0;b&&DomElement.addClass(d,"view-switch");if(0<h&&a.views.chart.showChartYLabels){var C=DomElement.createWithHTML(c,"div","label-0",h.toString());DomElement.createWithHTML(c,"div","label-25",(3*Math.floor(h/4)).toString());DomElement.createWithHTML(c,
"div","label-50",Math.floor(h/2).toString());DomElement.createWithHTML(c,"div","label-75",Math.floor(h/4).toString());DomElement.createWithHTML(c,"div","label-100","0");c.style.width=C.offsetWidth+"px";p=c.offsetWidth+DomElement.getStyleValueByName(c,"margin-right",!0)}else c.parentNode.removeChild(c),c=null;if(0===h)a._currentView.chartContents.style.minHeight=a._currentView.mapContents.offsetHeight+"px",d.parentNode.removeChild(d),e=DomElement.createWithHTML(a._currentView.chartContents,"div","no-data-message",
g.noChartDataMessage),b&&DomElement.addClass(e,"view-switch");else{b=a._currentView.mapContents.offsetHeight/h;c=d=0;for(h=0;12>h;h++)if(K(a.views.chart.monthsToShow,h)){C=DateTime.getTotalDaysInMonth(n,h);let x=1;d++;for(let y=0;y<C;y++)J(a.views.chart.daysToShow,x)&&Da(e,a,y+1,h,n,f,b),0===(y+1)%7&&(x=0),x++,c++}a.views.chart.showInReverseOrder&&DomElement.reverseChildrenOrder(e);if(a.views.chart.showMonthNames){const x=DomElement.create(a._currentView.chartContents,"div","chart-months"),y=e.offsetWidth/
d;let D=0;f=z=>{K(a.views.chart.monthsToShow,z)&&(DomElement.createWithHTML(x,"div","month-name",g.monthNames[z]).style.left=p+y*D+"px",D++)};if(a.views.chart.showInReverseOrder)for(n=12;n--;)f(n);else for(n=0;12>n;n++)f(n);x.style.width=e.offsetWidth+"px";e=DomElement.create(x,"div","month-name-space");e.style.height=x.offsetHeight+"px";e.style.width=p+"px"}a.views.chart.keepScrollPositions&&(a._currentView.chartContents.scrollLeft=a._currentView.chartContentsScrollLeft)}}function Da(a,b,d,c,e,f,
h){const n=new Date(e,c,d);a=DomElement.create(a,"div","day-line");let p=H(b)[I(n)];p=Data.getDefaultNumber(p,0);ia(b,a,n,p);b.views.chart.showLineNumbers&&0<p&&(DomElement.addClass(a,"day-line-number"),a.innerHTML=p.toString());h*=p;a.style.height=h+"px";0>=h&&(a.style.visibility="hidden");Is.definedFunction(b.events.onDayClick)?a.onclick=()=>{u(b.events.onDayClick,n,p)}:DomElement.addClass(a,"no-hover");f=ba(b,f,p,n);Is.defined(f)&&U(b,f.id)&&(Is.definedString(f.chartCssClassName)?DomElement.addClass(a,
f.chartCssClassName):DomElement.addClass(a,f.cssClassName))}function Ca(a){let b=0;const d=H(a);for(let c=0;12>c;c++){const e=DateTime.getTotalDaysInMonth(a._currentView.year,c);for(let f=0;f<e;f++){const h=I(new Date(a._currentView.year,c,f+1));d.hasOwnProperty(h)&&K(a.views.chart.monthsToShow,c)&&J(a.views.chart.daysToShow,f+1)&&(b=Math.max(b,d[h]))}}return b}function wa(a,b,d,c,e){a=DomElement.create(a,"div","day-line");e*=d;a.style.height=e+"px";0>=e&&(a.style.visibility="hidden");w(a,c,d.toString());
Is.definedFunction(c.events.onWeekDayClick)?a.onclick=()=>{u(c.events.onWeekDayClick,b,d)}:DomElement.addClass(a,"no-hover");c.views.days.showDayNumbers&&0<d&&(DomElement.addClass(a,"day-line-number"),DomElement.createWithHTML(a,"div","count",d.toString()))}function xa(a,b,d,c,e,f){b=DomElement.create(b,"div","range-line");const h=fa(e,a);a=d*f;b.style.height=a+"px";0>=a&&(b.style.visibility="hidden");w(b,c,d.toString());c.views.statistics.showRangeNumbers&&0<d&&(DomElement.addClass(b,"range-line-number"),
DomElement.createWithHTML(b,"div","count",d.toString()));Is.definedFunction(c.events.onStatisticClick)?b.onclick=()=>{u(c.events.onStatisticClick,h)}:DomElement.addClass(b,"no-hover");Is.defined(h)&&U(c,h.id)&&(Is.definedString(h.statisticsCssClassName)?DomElement.addClass(b,h.statisticsCssClassName):DomElement.addClass(b,h.cssClassName))}function ra(a){var b=DomElement.create(a._currentView.element,"div","guide"),d=DomElement.create(b,"div","map-types"),c=0;for(var e in l[a._currentView.element.id].typeData[g.unknownTrendText])if(l[a._currentView.element.id].typeData[g.unknownTrendText].hasOwnProperty(e)){c++;
break}if(1<l[a._currentView.element.id].totalTypes){Is.definedString(a.description.text)&&(e=DomElement.create(a._currentView.element,"div","description",b),ja(a,e));for(var f in l[a._currentView.element.id].typeData)if(f!==g.unknownTrendText||0<c)0===c&&a._currentView.type===g.unknownTrendText&&(a._currentView.type=f),Ea(a,d,f)}else ja(a,d);if(a.guide.enabled){b=DomElement.create(b,"div","map-toggles");a.guide.showLessAndMoreLabels&&(d=DomElement.createWithHTML(b,"div","less-text",g.lessText),a.guide.colorRangeTogglesEnabled?
d.onclick=()=>{ka(a,!1)}:DomElement.addClass(d,"no-click"));d=DomElement.create(b,"div","days");c=R(a);f=c.length;for(e=0;e<f;e++)Fa(a,d,c[e]);a.guide.showLessAndMoreLabels&&(b=DomElement.createWithHTML(b,"div","more-text",g.moreText),a.guide.colorRangeTogglesEnabled?b.onclick=()=>{ka(a,!0)}:DomElement.addClass(b,"no-click"))}}function Ea(a,b,d){b=DomElement.createWithHTML(b,"button","type",d);a._currentView.type===d&&DomElement.addClass(b,"active");b.onclick=()=>{a._currentView.type!==d&&(a._currentView.type=
d,u(a.events.onTypeSwitch,d),m(a))}}function Fa(a,b,d){b=DomElement.create(b,"div");b.className="day";w(b,a,d.tooltipText);U(a,d.id)&&(1===a._currentView.view&&Is.definedString(d.mapCssClassName)?DomElement.addClass(b,d.mapCssClassName):a.views.chart.enabled&&2===a._currentView.view&&Is.definedString(d.chartCssClassName)?DomElement.addClass(b,d.chartCssClassName):a.views.statistics.enabled&&4===a._currentView.view&&Is.definedString(d.statisticsCssClassName)?DomElement.addClass(b,d.statisticsCssClassName):
DomElement.addClass(b,d.cssClassName));a.guide.showNumbersInGuide&&(DomElement.addClass(b,"day-number"),b.innerHTML=d.minimum+"+");a.guide.colorRangeTogglesEnabled?b.onclick=()=>{var c=d.id;const e=a.colorRanges.length;for(let f=0;f<e;f++){const h=a.colorRanges[f];if(h.id===c){h.visible=!Data.getDefaultBoolean(h.visible,!0);u(a.events.onColorRangeTypeToggle,h.id,h.visible);m(a);break}}}:DomElement.addClass(b,"no-hover")}function ja(a,b){Is.definedString(a.description.text)&&(Is.definedString(a.description.url)?
(b=DomElement.createWithHTML(b,"a","label",a.description.text),b.href=a.description.url,b.target=a.description.urlTarget):DomElement.createWithHTML(b,"span","label",a.description.text))}function ia(a,b,d,c){Is.definedFunction(a.events.onDayToolTipRender)?w(b,a,u(a.events.onDayToolTipRender,d,c)):(c=DateTime.getCustomFormattedDateText(g,a.tooltip.dayText,d),a.showHolidaysInDayToolTips&&(d=S(a,d),d.matched&&Is.definedString(d.name)&&(c+=": "+d.name)),w(b,a,c))}function aa(a,b,d=!0){l[a]={options:b,
typeData:{},totalTypes:1};l[a].typeData[g.unknownTrendText]={};if(d&&!b._currentView.isInFetchMode&&b.useLocalStorageForData&&window.localStorage)for(a=window.localStorage.length,b=b._currentView.element.id,d=0;d<a;d++){var c=window.localStorage.key(d);if(Data.String.startsWithAnyCase(c,"HJS_")&&(c=window.localStorage.getItem(c),c=Z(c),c.parsed)){l[b].typeData=c.result;l[b].totalTypes=0;for(let e in l[b].typeData)l[b].typeData.hasOwnProperty(e)&&l[b].totalTypes++}}}function H(a){return l[a._currentView.element.id].typeData[a._currentView.type]}
function K(a,b){return-1<a.indexOf(b+1)}function J(a,b){return-1<a.indexOf(b)}function oa(a){let b=[];if(a.showOnlyDataForYearsAvailable){a=H(a);for(let d in a)if(a.hasOwnProperty(d)){let c=parseInt(d.split("-")[0]);-1===b.indexOf(c)&&b.push(c)}}return b=b.sort(function(d,c){return d-c})}function M(a,b){return-1===a.yearsToHide.indexOf(b)&&(0===a._currentView.yearsAvailable.length||-1<a._currentView.yearsAvailable.indexOf(b))}function pa(a){a._currentView.isInFetchMode&&(Is.defined(a._currentView.isInFetchModeTimer)||
la(a),Is.defined(a._currentView.isInFetchModeTimer)||(a._currentView.isInFetchModeTimer=setInterval(()=>{la(a);m(a)},a.dataFetchDelay)))}function la(a){const b=a._currentView.element.id,d=u(a.events.onDataFetch,b);if(Is.definedObject(d)){aa(b,a,!1);for(let c in d)d.hasOwnProperty(c)&&(l[b].typeData[g.unknownTrendText].hasOwnProperty(c)||(l[b].typeData[g.unknownTrendText][c]=0),l[b].typeData[g.unknownTrendText][c]+=d[c])}}function U(a,b){let d=!1;if("HOLIDAY"===b)d=!0;else{const c=a.colorRanges.length;
for(let e=0;e<c;e++){const f=a.colorRanges[e];if(f.id===b&&Data.getDefaultBoolean(f.visible,!0)){d=!0;break}}}return d}function ka(a,b){const d=a.colorRanges.length;for(let c=0;c<d;c++)a.colorRanges[c].visible=b,u(a.events.onColorRangeTypeToggle,a.colorRanges[c].id,b);m(a)}function ba(a,b,d,c=null){let e=null;Is.defined(c)&&S(a,c).matched&&(e={cssClassName:"holiday",id:"HOLIDAY",visible:!0,minimum:0});if(!Is.defined(e))for(a=b.length,c=0;c<a;c++){const f=b[c];if(d>=f.minimum)e=f;else break}return e}
function fa(a,b){const d=a.length;let c=null;for(let e=0;e<d;e++){const f=a[e];if(b.toString()===f.minimum.toString()){c=f;break}}return c}function R(a){return a.colorRanges.sort(function(b,d){return b.minimum-d.minimum})}function S(a,b){const d=a.holidays.length,c=b.getDate(),e=b.getMonth()+1;b=b.getFullYear();let f=!1,h=null;for(let n=0;n<d;n++){let p=a.holidays[n];if(Is.definedString(p.date)&&p.showInViews){const C=p.date.split("/");2===C.length?f=c===parseInt(C[0])&&e===parseInt(C[1]):3===C.length&&
(f=c===parseInt(C[0])&&e===parseInt(C[1])&&b===parseInt(C[2]));if(f){h=p.name;break}}}return{matched:f,name:h}}function Q(a,b){b.allowFileImports&&!b._currentView.isInFetchMode&&(a.ondragover=DomElement.cancelBubble,a.ondragenter=DomElement.cancelBubble,a.ondragleave=DomElement.cancelBubble,a.ondrop=d=>{DomElement.cancelBubble(d);Is.defined(window.FileReader)&&0<d.dataTransfer.files.length&&da(d.dataTransfer.files,b)})}function za(a){const b=DomElement.createWithNoContainer("input");b.type="file";
b.accept=".json, .txt, .csv";b.multiple="multiple";b.onchange=()=>{da(b.files,a)};b.click()}function da(a,b){const d=a.length,c=[],e=H(b),f=(h,n)=>{c.push(h);for(let p in n)n.hasOwnProperty(p)&&(e.hasOwnProperty(p)||(e[p]=0),e[p]+=n[p]);c.length===d&&(u(b.events.onImport,b._currentView.element),m(b))};for(let h=0;h<d;h++){const n=a[h],p=n.name.split(".").pop().toLowerCase();"json"===p?Ga(n,f):"txt"===p?Ha(n,f):"csv"===p&&Ia(n,f)}}function Ga(a,b){const d=new FileReader;let c={};d.readAsText(a);d.onloadend=
()=>{b(a.name,c)};d.onload=e=>{e=Z(e.target.result);e.parsed&&Is.definedObject(e.result)&&(c=e.result)}}function Ha(a,b){const d=new FileReader,c={};d.readAsText(a);d.onloadend=()=>{b(a.name,c)};d.onload=e=>{e=e.target.result.toString().split("\n");const f=e.length;for(let h=0;h<f;h++){const n=e[h].split(":");c[n[0].trim()]=parseInt(n[1].trim())}}}function Ia(a,b){const d=new FileReader,c={};d.readAsText(a);d.onloadend=()=>{b(a.name,c)};d.onload=e=>{e=e.target.result.toString().replace(RegExp('"',
"g"),"").split("\n");e.shift();let f=e.length;for(let h=0;h<f;h++){let n=e[h].split(",");c[n[0].trim()]=parseInt(n[1].trim())}}}function ha(a,b=null){var d=null;var c=null;"csv"===a.exportType.toLowerCase()?c="text/csv":"json"===a.exportType.toLowerCase()?c="application/json":"xml"===a.exportType.toLowerCase()?c="application/xml":"txt"===a.exportType.toLowerCase()&&(c="text/plain");b=Data.getDefaultString(b,a.exportType).toLowerCase();if("csv"===b){var e=V(a),f=[];for(var h in e)e.hasOwnProperty(h)&&
f.push([W(h),W(e[h].toString())].join());0<f.length&&f.unshift([W(g.dateText),W(g.countText)].join());d=f.join("\n")}else if("json"===b)d=JSON.stringify(V(a));else if("xml"===b){h=V(a);f=[];f.push('<?xml version="1.0" ?>');f.push("<Dates>");for(e in h)h.hasOwnProperty(e)&&(f.push("<Date>"),f.push("<FullDate>"+e+"</FullDate>"),f.push("<Count>"+h[e].toString()+"</Count>"),f.push("</Date>"));f.push("</Dates>");d=f.join("\n")}else if("txt"===b){h=V(a);e=[];for(f in h)h.hasOwnProperty(f)&&e.push(f+": "+
h[f].toString());d=e.join("\n")}Is.definedString(d)&&(h=DomElement.create(document.body,"a"),h.style.display="none",h.setAttribute("target","_blank"),h.setAttribute("href","data:"+c+";charset=utf-8,"+encodeURIComponent(d)),c=h,e=c.setAttribute,d=new Date,f=Data.String.padNumber(d.getDate())+"-"+Data.String.padNumber(d.getMonth()+1)+"-"+d.getFullYear(),d=Data.String.padNumber(d.getHours())+"-"+Data.String.padNumber(d.getMinutes()),b="",a._currentView.type!==g.unknownTrendText&&(b=a._currentView.type.toLowerCase().replace(" ",
"_")+"_"),f=b+f+"_"+d+"."+a.exportType.toLowerCase(),e.call(c,"download",f),h.click(),document.body.removeChild(h),u(a.events.onExport,a._currentView.element))}function V(a){const b={},d=H(a);if(a.exportOnlyYearBeingViewed)for(var c=0;12>c;c++){var e=DateTime.getTotalDaysInMonth(a._currentView.year,c);for(var f=0;f<e;f++){const h=I(new Date(a._currentView.year,c,f+1));d.hasOwnProperty(h)&&(b[h]=d[h])}}else{a=[];for(c in d)d.hasOwnProperty(c)&&a.push(c);a.sort();c=a.length;for(e=0;e<c;e++)f=a[e],d.hasOwnProperty(f)&&
(b[f]=d[f])}return b}function W(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function ea(a){a=Data.getDefaultObject(a,{});a.views=Data.getDefaultObject(a.views,{});a.exportOnlyYearBeingViewed=Data.getDefaultBoolean(a.exportOnlyYearBeingViewed,!0);a.year=Data.getDefaultNumber(a.year,(new Date).getFullYear());a.view=Data.getDefaultString(a.view,"map");a.exportType=Data.getDefaultString(a.exportType,"csv");a.useLocalStorageForData=Data.getDefaultBoolean(a.useLocalStorageForData,
!1);a.allowFileImports=Data.getDefaultBoolean(a.allowFileImports,!0);a.yearsToHide=Data.getDefaultArray(a.yearsToHide,[]);a.dataFetchDelay=Data.getDefaultNumber(a.dataFetchDelay,6E4);a.showOnlyDataForYearsAvailable=Data.getDefaultBoolean(a.showOnlyDataForYearsAvailable,!1);a.showHolidaysInDayToolTips=Data.getDefaultBoolean(a.showHolidaysInDayToolTips,!1);if(Is.definedArray(a.colorRanges)){var b=a.colorRanges.length;for(var d=0;d<b;d++){var c=a.colorRanges[d];c.id=Data.getDefaultString(c.id,Data.String.newGuid());
c.name=Data.getDefaultString(c.name,null);c.minimum=Data.getDefaultNumber(c.minimum,0);c.cssClassName=Data.getDefaultString(c.cssClassName,null);c.mapCssClassName=Data.getDefaultString(c.mapCssClassName,null);c.chartCssClassName=Data.getDefaultString(c.chartCssClassName,null);c.statisticsCssClassName=Data.getDefaultString(c.statisticsCssClassName,null);c.tooltipText=Data.getDefaultString(c.tooltipText,null);c.visible=Data.getDefaultBoolean(c.visible,!0)}}else a.colorRanges=[{id:Data.String.newGuid(),
name:"Day Color 1",minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1",visible:!0},{id:Data.String.newGuid(),name:"Day Color 2",minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2",visible:!0},{id:Data.String.newGuid(),name:"Day Color 3",minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0},{id:Data.String.newGuid(),name:"Day Color 4",minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0}];if(Is.definedArray(a.holidays))for(b=a.holidays.length,
d=0;d<b;d++)c=a.holidays[d],c.date=Data.getDefaultString(c.date,null),c.name=Data.getDefaultString(c.name,null),c.showInViews=Data.getDefaultBoolean(c.showInViews,!0);else a.holidays=[];a.title=Data.getDefaultObject(a.title,{});a.title.text=Data.getDefaultString(a.title.text,"Heat.js");a.title.showText=Data.getDefaultBoolean(a.title.showText,!0);a.title.showYearSelector=Data.getDefaultBoolean(a.title.showYearSelector,!0);a.title.showRefreshButton=Data.getDefaultBoolean(a.title.showRefreshButton,!1);
a.title.showExportButton=Data.getDefaultBoolean(a.title.showExportButton,!1);a.title.extraSelectionYears=Data.getDefaultNumber(a.title.extraSelectionYears,50);a.title.showYearSelectionDropDown=Data.getDefaultBoolean(a.title.showYearSelectionDropDown,!0);a.title.showImportButton=Data.getDefaultBoolean(a.title.showImportButton,!1);a.title.showConfigurationButton=Data.getDefaultBoolean(a.title.showConfigurationButton,!0);a.title.showTitleDropDownButton=Data.getDefaultBoolean(a.title.showTitleDropDownButton,
!0);a.title.showTitleDropDownHeaders=Data.getDefaultBoolean(a.title.showTitleDropDownHeaders,!0);a.description=Data.getDefaultObject(a.description,{});a.description.text=Data.getDefaultString(a.description.text,null);a.description.url=Data.getDefaultString(a.description.url,null);a.description.urlTarget=Data.getDefaultString(a.description.urlTarget,"_blank");a.guide=Data.getDefaultObject(a.guide,{});a.guide.enabled=Data.getDefaultBoolean(a.guide.enabled,!0);a.guide.colorRangeTogglesEnabled=Data.getDefaultBoolean(a.guide.colorRangeTogglesEnabled,
!0);a.guide.showLessAndMoreLabels=Data.getDefaultBoolean(a.guide.showLessAndMoreLabels,!0);a.guide.showNumbersInGuide=Data.getDefaultBoolean(a.guide.showNumbersInGuide,!1);a.tooltip=Data.getDefaultObject(a.tooltip,{});a.tooltip.delay=Data.getDefaultNumber(a.tooltip.delay,750);a.tooltip.dayText=Data.getDefaultString(a.tooltip.dayText,"{d}{o} {mmmm} {yyyy}");a.views.map=Data.getDefaultObject(a.views.map,{});a.views.map.showMonthDayGaps=Data.getDefaultBoolean(a.views.map.showMonthDayGaps,!0);a.views.map.showDayNames=
Data.getDefaultBoolean(a.views.map.showDayNames,!0);a.views.map.placeMonthNamesOnTheBottom=Data.getDefaultBoolean(a.views.map.placeMonthNamesOnTheBottom,!1);a.views.map.showDayNumbers=Data.getDefaultBoolean(a.views.map.showDayNumbers,!1);a.views.map.showMonthNames=Data.getDefaultBoolean(a.views.map.showMonthNames,!0);a.views.map.showDaysInReverseOrder=Data.getDefaultBoolean(a.views.map.showDaysInReverseOrder,!1);a.views.map.showNoDataMessageWhenDataIsNotAvailable=Data.getDefaultBoolean(a.views.map.showNoDataMessageWhenDataIsNotAvailable,
!1);a.views.map.showMinimalDayNames=Data.getDefaultBoolean(a.views.map.showMinimalDayNames,!1);a.views.map.showMonthsInReverseOrder=Data.getDefaultBoolean(a.views.map.showMonthsInReverseOrder,!1);a.views.map.keepScrollPositions=Data.getDefaultBoolean(a.views.map.keepScrollPositions,!1);Is.invalidOptionArray(a.views.map.monthsToShow)&&(a.views.map.monthsToShow=X);Is.invalidOptionArray(a.views.map.daysToShow)&&(a.views.map.daysToShow=Y);a.views.chart=Data.getDefaultObject(a.views.chart,{});a.views.chart.enabled=
Data.getDefaultBoolean(a.views.chart.enabled,!0);a.views.chart.showChartYLabels=Data.getDefaultBoolean(a.views.chart.showChartYLabels,!0);a.views.chart.showMonthNames=Data.getDefaultBoolean(a.views.chart.showMonthNames,!0);a.views.chart.showLineNumbers=Data.getDefaultBoolean(a.views.chart.showLineNumbers,!1);a.views.chart.showInReverseOrder=Data.getDefaultBoolean(a.views.chart.showInReverseOrder,!1);a.views.chart.keepScrollPositions=Data.getDefaultBoolean(a.views.chart.keepScrollPositions,!1);Is.invalidOptionArray(a.views.chart.monthsToShow)&&
(a.views.chart.monthsToShow=X);Is.invalidOptionArray(a.views.chart.daysToShow)&&(a.views.chart.daysToShow=Y);a.views.days=Data.getDefaultObject(a.views.days,{});a.views.days.enabled=Data.getDefaultBoolean(a.views.days.enabled,!0);a.views.days.showChartYLabels=Data.getDefaultBoolean(a.views.days.showChartYLabels,!0);a.views.days.showDayNames=Data.getDefaultBoolean(a.views.days.showDayNames,!0);a.views.days.showInReverseOrder=Data.getDefaultBoolean(a.views.days.showInReverseOrder,!1);a.views.days.showDayNumbers=
Data.getDefaultBoolean(a.views.days.showDayNumbers,!1);a.views.days.keepScrollPositions=Data.getDefaultBoolean(a.views.days.keepScrollPositions,!1);Is.invalidOptionArray(a.views.days.monthsToShow)&&(a.views.days.monthsToShow=X);Is.invalidOptionArray(a.views.days.daysToShow)&&(a.views.days.daysToShow=Y);a.views.statistics=Data.getDefaultObject(a.views.statistics,{});a.views.statistics.enabled=Data.getDefaultBoolean(a.views.statistics.enabled,!0);a.views.statistics.showChartYLabels=Data.getDefaultBoolean(a.views.statistics.showChartYLabels,
!0);a.views.statistics.showColorRangeLabels=Data.getDefaultBoolean(a.views.statistics.showColorRangeLabels,!0);a.views.statistics.useColorRangeNamesForLabels=Data.getDefaultBoolean(a.views.statistics.useColorRangeNamesForLabels,!1);a.views.statistics.showRangeNumbers=Data.getDefaultBoolean(a.views.statistics.showRangeNumbers,!1);a.views.statistics.showInReverseOrder=Data.getDefaultBoolean(a.views.statistics.showInReverseOrder,!1);a.views.statistics.keepScrollPositions=Data.getDefaultBoolean(a.views.statistics.keepScrollPositions,
!1);Is.invalidOptionArray(a.views.statistics.monthsToShow)&&(a.views.statistics.monthsToShow=X);Is.invalidOptionArray(a.views.statistics.daysToShow)&&(a.views.statistics.daysToShow=Y);a.events=Data.getDefaultObject(a.events,{});a.events.onDayClick=Data.getDefaultFunction(a.events.onDayClick,null);a.events.onBackYear=Data.getDefaultFunction(a.events.onBackYear,null);a.events.onNextYear=Data.getDefaultFunction(a.events.onNextYear,null);a.events.onRefresh=Data.getDefaultFunction(a.events.onRefresh,null);
a.events.onBeforeRender=Data.getDefaultFunction(a.events.onBeforeRender,null);a.events.onRenderComplete=Data.getDefaultFunction(a.events.onRenderComplete,null);a.events.onDestroy=Data.getDefaultFunction(a.events.onDestroy,null);a.events.onExport=Data.getDefaultFunction(a.events.onExport,null);a.events.onSetYear=Data.getDefaultFunction(a.events.onSetYear,null);a.events.onTypeSwitch=Data.getDefaultFunction(a.events.onTypeSwitch,null);a.events.onDayToolTipRender=Data.getDefaultFunction(a.events.onDayToolTipRender,
null);a.events.onAdd=Data.getDefaultFunction(a.events.onAdd,null);a.events.onRemove=Data.getDefaultFunction(a.events.onRemove,null);a.events.onReset=Data.getDefaultFunction(a.events.onReset,null);a.events.onViewSwitch=Data.getDefaultFunction(a.events.onViewSwitch,null);a.events.onColorRangeTypeToggle=Data.getDefaultFunction(a.events.onColorRangeTypeToggle,null);a.events.onImport=Data.getDefaultFunction(a.events.onImport,null);a.events.onStatisticClick=Data.getDefaultFunction(a.events.onStatisticClick,
null);a.events.onDataFetch=Data.getDefaultFunction(a.events.onDataFetch,null);a.events.onClear=Data.getDefaultFunction(a.events.onClear,null);a.events.onUpdate=Data.getDefaultFunction(a.events.onUpdate,null);a.events.onOptionsUpdate=Data.getDefaultFunction(a.events.onOptionsUpdate,null);a.events.onWeekDayClick=Data.getDefaultFunction(a.events.onWeekDayClick,null);return a}function u(a,...b){let d=null;Is.definedFunction(a)&&(d=a.apply(null,[].slice.call(b,0)));return d}function Z(a){let b=!0,d=null;
try{Is.definedString(a)&&(d=JSON.parse(a))}catch(c){try{let e=d=eval("("+a+")");Is.definedFunction(d)&&(d=e())}catch(e){g.safeMode||(console.error(g.objectErrorText.replace("{{error_1}}",c.message).replace("{{error_2}}",e.message)),b=!1),d=null}}return{parsed:b,result:d}}function I(a){return a.getFullYear()+"-"+Data.String.padNumber(a.getMonth()+1)+"-"+Data.String.padNumber(a.getDate())}function ca(a,b=!0){let d=!0,c=a._currentView.year;for(c--;!M(a,c);){if(0<a._currentView.yearsAvailable.length&&
c<=a._currentView.yearsAvailable[0]){d=!1;break}c--}d&&(a._currentView.year=c,m(a),b&&u(a.events.onBackYear,a._currentView.year))}function P(a,b=!0){let d=!0,c=a._currentView.year;for(c++;!M(a,c);){if(0<a._currentView.yearsAvailable.length&&c>=a._currentView.yearsAvailable[a._currentView.yearsAvailable.length-1]){d=!1;break}c++}d&&(a._currentView.year=c,m(a),b&&u(a.events.onBackYear,a._currentView.year))}function ma(a){a._currentView.element.innerHTML="";DomElement.removeClass(a._currentView.element,
"heat-js");q(a,!1);document.body.removeChild(a._currentView.tooltip);a._currentView.isInFetchMode&&Is.defined(a._currentView.isInFetchModeTimer)&&clearInterval(a._currentView.isInFetchModeTimer);u(a.events.onDestroy,a._currentView.element)}function na(a=null){g=Is.definedObject(a)?a:{};g.safeMode=Data.getDefaultBoolean(g.safeMode,!0);g.domElementTypes=Data.getDefaultStringOrArray(g.domElementTypes,["*"]);g.stText=Data.getDefaultAnyString(g.stText,"st");g.ndText=Data.getDefaultAnyString(g.ndText,"nd");
g.rdText=Data.getDefaultAnyString(g.rdText,"rd");g.thText=Data.getDefaultAnyString(g.thText,"th");g.backButtonText=Data.getDefaultAnyString(g.backButtonText,"Back");g.nextButtonText=Data.getDefaultAnyString(g.nextButtonText,"Next");g.refreshButtonText=Data.getDefaultAnyString(g.refreshButtonText,"Refresh");g.exportButtonText=Data.getDefaultAnyString(g.exportButtonText,"Export");g.lessText=Data.getDefaultAnyString(g.lessText,"Less");g.moreText=Data.getDefaultAnyString(g.moreText,"More");g.dateText=
Data.getDefaultAnyString(g.dateText,"Date");g.countText=Data.getDefaultAnyString(g.countText,"Count");g.mapText=Data.getDefaultAnyString(g.mapText,"Map");g.chartText=Data.getDefaultAnyString(g.chartText,"Chart");g.noChartDataMessage=Data.getDefaultAnyString(g.noChartDataMessage,"There is currently no data to view.");g.statisticsText=Data.getDefaultAnyString(g.statisticsText,"Statistics");g.noStatisticsDataMessage=Data.getDefaultAnyString(g.noStatisticsDataMessage,"There are currently no statistics to view.");
g.unknownTrendText=Data.getDefaultAnyString(g.unknownTrendText,"Unknown");g.importButtonText=Data.getDefaultAnyString(g.importButtonText,"Import");g.noMapDataMessage=Data.getDefaultAnyString(g.noMapDataMessage,"There is currently no data to view.");g.objectErrorText=Data.getDefaultAnyString(g.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}");g.attributeNotValidErrorText=Data.getDefaultAnyString(g.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object.");g.attributeNotSetErrorText=
Data.getDefaultAnyString(g.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly.");g.closeToolTipText=Data.getDefaultAnyString(g.closeToolTipText,"Close");g.configurationToolTipText=Data.getDefaultAnyString(g.configurationToolTipText,"Configuration");g.configurationTitleText=Data.getDefaultAnyString(g.configurationTitleText,"Configuration");g.visibleMonthsText=Data.getDefaultAnyString(g.visibleMonthsText,"Visible Months");g.visibleDaysText=Data.getDefaultAnyString(g.visibleDaysText,
"Visible Days");g.dataText=Data.getDefaultAnyString(g.dataText,"Data");g.colorRangesText=Data.getDefaultAnyString(g.colorRangesText,"Color Ranges");g.yearText=Data.getDefaultAnyString(g.yearText,"Year");g.daysText=Data.getDefaultAnyString(g.daysText,"Days");g.noDaysDataMessage=Data.getDefaultAnyString(g.noDaysDataMessage,"There are currently no days to view.");Is.invalidOptionArray(g.monthNames,12)&&(g.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));Is.invalidOptionArray(g.dayNames,
7)&&(g.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}let g={},N=0,l={};const X=[1,2,3,4,5,6,7,8,9,10,11,12],Y=[1,2,3,4,5,6,7],v={addDates:function(a,b,d=null,c=!0){if(Is.definedString(a)&&Is.definedArray(b)&&l.hasOwnProperty(a)){const e=l[a].options;if(!e._currentView.isInFetchMode){d=Data.getDefaultString(d,g.unknownTrendText);const f=b.length;for(let h=0;h<f;h++)v.addDate(a,b[h],d,!1);c&&m(e,!0)}}return v},addDate:function(a,b,d=null,c=!0){if(Is.definedString(a)&&Is.definedDate(b)&&l.hasOwnProperty(a)){const e=
l[a].options;e._currentView.isInFetchMode||(d=Data.getDefaultString(d,g.unknownTrendText),b=I(b),l[a].typeData.hasOwnProperty(d)||(l[a].typeData[d]={},l[a].totalTypes++),l[a].typeData[d].hasOwnProperty(b)||(l[a].typeData[d][b]=0),l[a].typeData[d][b]++,u(e.events.onAdd,e._currentView.element),c&&m(e,!0))}return v},updateDate:function(a,b,d,c=null,e=!0){if(Is.definedString(a)&&Is.definedDate(b)&&l.hasOwnProperty(a)){const f=l[a].options;!f._currentView.isInFetchMode&&0<d&&(b=I(b),l[a].typeData.hasOwnProperty(c)&&
(c=Data.getDefaultString(c,g.unknownTrendText),l[a].typeData[c][b]=d,u(f.events.onUpdate,f._currentView.element),e&&m(f,!0)))}return v},removeDates:function(a,b,d=null,c=!0){if(Is.definedString(a)&&Is.definedArray(b)&&l.hasOwnProperty(a)){const e=l[a].options;if(!e._currentView.isInFetchMode){d=Data.getDefaultString(d,g.unknownTrendText);const f=b.length;for(let h=0;h<f;h++)v.removeDate(a,b[h],d,!1);c&&m(e,!0)}}return v},removeDate:function(a,b,d=null,c=!0){if(Is.definedString(a)&&Is.definedDate(b)&&
l.hasOwnProperty(a)){const e=l[a].options;e._currentView.isInFetchMode||(b=I(b),l[a].typeData.hasOwnProperty(d)&&l[a].typeData[d].hasOwnProperty(b)&&(d=Data.getDefaultString(d,g.unknownTrendText),0<l[a].typeData[d][b]&&l[a].typeData[d][b]--,u(e.events.onRemove,e._currentView.element),c&&m(e,!0)))}return v},clearDate:function(a,b,d=null,c=!0){if(Is.definedString(a)&&Is.definedDate(b)&&l.hasOwnProperty(a)){const e=l[a].options;e._currentView.isInFetchMode||(b=I(b),l[a].typeData.hasOwnProperty(d)&&l[a].typeData[d].hasOwnProperty(b)&&
(d=Data.getDefaultString(d,g.unknownTrendText),delete l[a].typeData[d][b],u(e.events.onClear,e._currentView.element),c&&m(e,!0)))}return v},resetAll:function(a=!0){for(let b in l)l.hasOwnProperty(b)&&v.reset(b,a);return v},reset:function(a,b=!0){if(Is.definedString(a)&&l.hasOwnProperty(a)){const d=l[a].options;d._currentView.isInFetchMode||(d._currentView.type=g.unknownTrendText,aa(a,d,!1),u(d.events.onReset,d._currentView.element),b&&m(d,!0))}return v},import:function(a,b){Is.definedString(a)&&l.hasOwnProperty(a)&&
Is.definedArray(b)&&da(b,l[a].options);return v},export:function(a,b=null){Is.definedString(a)&&l.hasOwnProperty(a)&&ha(l[a].options,b);return v},refresh:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&(a=l[a].options,m(a,!0),u(a.events.onRefresh,a._currentView.element));return v},refreshAll:function(){for(let a in l)if(l.hasOwnProperty(a)){const b=l[a].options;m(b,!0);u(b.events.onRefresh,b._currentView.element)}return v},setYear:function(a,b){Is.definedString(a)&&Is.definedNumber(b)&&l.hasOwnProperty(a)&&
(a=l[a].options,a._currentView.year=b,M(a,a._currentView.year)?m(a):P(a,!1),u(a.events.onSetYear,a._currentView.year));return v},setYearToHighest:function(a){if(Is.definedString(a)&&l.hasOwnProperty(a)){a=l[a].options;const b=H(a);let d=0;for(let c in b)b.hasOwnProperty(c)&&(d=Math.max(d,parseInt(c.split("-")[0])));0<d&&(a._currentView.year=d,M(a,a._currentView.year)?m(a):P(a,!1),u(a.events.onSetYear,a._currentView.year))}return v},setYearToLowest:function(a){if(Is.definedString(a)&&l.hasOwnProperty(a)){a=
l[a].options;const b=H(a);let d=9999;for(let c in b)b.hasOwnProperty(c)&&(d=Math.min(d,parseInt(c.split("-")[0])));9999>d&&(a._currentView.year=d,M(a,a._currentView.year)?m(a):ca(a,!1),u(a.events.onSetYear,a._currentView.year))}return v},moveToPreviousYear:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&ca(l[a].options);return v},moveToNextYear:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&P(l[a].options);return v},moveToCurrentYear:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&
(a=l[a].options,a._currentView.year=(new Date).getFullYear(),M(a,a._currentView.year)?m(a):P(a,!1),u(a.events.onSetYear,a._currentView.year));return v},getYear:function(a){let b=null;Is.definedString(a)&&l.hasOwnProperty(a)&&(b=l[a].options._currentView.year);return b},render:function(a,b){Is.definedObject(a)&&Is.definedObject(b)&&r(A(b,a));return v},renderAll:function(){t();return v},switchView:function(a,b){if(Is.definedString(a)&&Is.definedString(b)&&l.hasOwnProperty(a)){a=l[a].options;let d=null;
"map"===b.toLowerCase()?d=1:"chart"===b.toLowerCase()?d=2:"days"===b.toLowerCase()?d=3:"statistics"===b.toLowerCase()&&(d=4);Is.definedNumber(d)&&(a._currentView.view=d,u(a.events.onViewSwitch,b),m(a,!1,!0))}return v},switchType:function(a,b){Is.definedString(a)&&Is.definedString(b)&&l.hasOwnProperty(a)&&l[a].typeData.hasOwnProperty(b)&&(a=l[a].options,a._currentView.type!==b&&(a._currentView.type=b,u(a.events.onTypeSwitch,b),m(a)));return v},updateOptions:function(a,b){if(Is.definedString(a)&&Is.definedObject(b)&&
l.hasOwnProperty(a)){a=l[a].options;b=ea(b);let d=!1;for(let c in b)b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!==b[c]&&(a[c]=b[c],d=!0);d&&(m(a,!0),u(a.events.onRefresh,a._currentView.element),u(a.events.onOptionsUpdate,a._currentView.element,a))}return v},destroyAll:function(){for(let a in l)l.hasOwnProperty(a)&&ma(l[a].options);l={};return v},destroy:function(a){Is.definedString(a)&&l.hasOwnProperty(a)&&(ma(l[a].options),delete l[a]);return v},setConfiguration:function(a,b=!0){if(Is.definedObject(a)){let d=
!1;for(let c in a)a.hasOwnProperty(c)&&g.hasOwnProperty(c)&&g[c]!==a[c]&&(g[c]=a[c],d=!0);d&&(na(g),b&&v.refreshAll())}return v},getIds:function(){const a=[];for(let b in l)l.hasOwnProperty(b)&&a.push(b);return a},getVersion:function(){return"4.0.0"}};(()=>{na();document.addEventListener("DOMContentLoaded",()=>{t()});window.addEventListener("pagehide",()=>{for(let a in l)if(l.hasOwnProperty(a)){const b=l[a].options;Is.defined(b._currentView.isInFetchModeTimer)&&clearInterval(b._currentView.isInFetchModeTimer)}});
Is.defined(window.$heat)||(window.$heat=v)})()})();