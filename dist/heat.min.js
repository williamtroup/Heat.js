/*! Heat.js v4.0.0 | (c) Bunoon 2024 | MIT License */
function _instanceof(F,B){return null!=B&&"undefined"!==typeof Symbol&&B[Symbol.hasInstance]?!!B[Symbol.hasInstance](F):F instanceof B}function _type_of(F){"@swc/helpers - typeof";return F&&"undefined"!==typeof Symbol&&F.constructor===Symbol?"symbol":typeof F}var HEAT_JS_ATTRIBUTE_NAME="data-heat-js";
(function(F,B,I,va){var Ga=function(){for(var a=h.domElementTypes,b=a.length,d=0;d<b;d++){var c=F.getElementsByTagName(a[d]);c=[].slice.call(c);for(var e=c.length,f=0;f<e;f++){var g=c[f],l=!0;if(t(g)&&g.hasAttribute(HEAT_JS_ATTRIBUTE_NAME)){var q=g.getAttribute(HEAT_JS_ATTRIBUTE_NAME);r(q)?(q=wa(q),q.parsed&&L(q.result)?Ea(Fa(q.result,g)):h.safeMode||(console.error(h.attributeNotValidErrorText.replace("{{attribute_name}}",HEAT_JS_ATTRIBUTE_NAME)),l=!1)):h.safeMode||(console.error(h.attributeNotSetErrorText.replace("{{attribute_name}}",
HEAT_JS_ATTRIBUTE_NAME)),l=!1)}if(!l)break}}},Fa=function(a,b){a=Ha(a);var d=r(a.view)?a.view.toLowerCase():"",c={};c.element=b;c.disabledBackground=null;c.configurationDialog=null;c.dayCheckBoxes=[];c.monthCheckBoxes=[];c.tooltip=null;c.tooltipTimer=null;c.mapContents=null;c.mapContentsScrollLeft=0;c.year=a.year;c.type=h.unknownTrendText;c.isInFetchMode=Q(a.events.onDataFetch);c.isInFetchModeTimer=null;c.yearsAvailable=[];a.views.chart.enabled&&(c.chartContents=null,c.chartContentsScrollLeft=0);
a.views.days.enabled&&(c.daysContents=null,c.daysContentsScrollLeft=0);a.views.statistics.enabled&&(c.statisticsContents=null,c.statisticsContentsScrollLeft=0);c.view="map"===d?1:"chart"===d?2:"days"===d?3:"statistics"===d?4:1;a._currentView=c;return a},Ea=function(a){v(a.events.onBeforeRender,a._currentView.element);r(a._currentView.element.id)||(a._currentView.element.id=ba());""===a._currentView.element.className.trim()?a._currentView.element.className="heat-js":u(a._currentView.element,"heat-js");
a._currentView.element.removeAttribute(HEAT_JS_ATTRIBUTE_NAME);xa(a._currentView.element.id,a);z(a);v(a.events.onRenderComplete,a._currentView.element)},z=function(a){var b,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&a.useLocalStorageForData&&B.localStorage){var c=a._currentView.element.id;if(a.useLocalStorageForData&&B.localStorage){var e=B.localStorage.length,f=[],g=a._currentView.element.id;for(b=0;b<e;b++)Ia(B.localStorage.key(b),
ya+g)&&f.push(B.localStorage.key(b));e=f.length;for(g=0;g<e;g++)B.localStorage.removeItem(f[g])}f=va.stringify(k[c].type);B.localStorage.setItem(ya+c,f)}t(a._currentView.mapContents)&&(a._currentView.mapContentsScrollLeft=a._currentView.mapContents.scrollLeft);a.views.chart.enabled&&t(a._currentView.chartContents)&&(a._currentView.chartContentsScrollLeft=a._currentView.chartContents.scrollLeft);a.views.days.enabled&&t(a._currentView.daysContents)&&(a._currentView.daysContentsScrollLeft=a._currentView.daysContents.scrollLeft);
a.views.statistics.enabled&&t(a._currentView.statisticsContents)&&(a._currentView.statisticsContentsScrollLeft=a._currentView.statisticsContents.scrollLeft);a._currentView.element.innerHTML="";a._currentView.yearsAvailable=Ta(a);ca(a);Ua(a);a.title.showConfigurationButton&&(a._currentView.disabledBackground=m(a._currentView.element,"div","disabled"),Va(a));t(a._currentView.tooltip)||(a._currentView.tooltip=m(F.body,"div","heat-js-tooltip"),a._currentView.tooltip.style.display="none",Ja(a));Wa(a);
a._currentView.mapContents=m(a._currentView.element,"div","map-contents");a.views.chart.enabled&&(a._currentView.chartContents=m(a._currentView.element,"div","chart-contents"),ka(a._currentView.chartContents,a));a.views.days.enabled&&(a._currentView.daysContents=m(a._currentView.element,"div","days-contents"),ka(a._currentView.daysContents,a));a.views.statistics.enabled&&(a._currentView.statisticsContents=m(a._currentView.element,"div","statistics-contents"),ka(a._currentView.statisticsContents,a));
Xa(a);if(c=a.views.map.showNoDataMessageWhenDataIsNotAvailable){c=!1;f=N(a);e=a._currentView.year.toString();for(var l in f)if(f.hasOwnProperty(l)&&l.split("-")[0]===e){c=!0;break}c=!c}if(c)l=p(a._currentView.mapContents,"div","no-data-message",h.noMapDataMessage),d&&u(l,"view-switch");else{a._currentView.mapContents.style.minHeight="unset";ka(a._currentView.mapContents,a);f=m(a._currentView.mapContents,"div","map");l=a._currentView.year;c=!1;d&&u(f,"view-switch");if(a.views.map.showDayNames){e=m(f,
"div","days");g=a.views.map.showMinimalDayNames&&7===a.views.map.daysToShow.length;if(!a.views.map.showMonthNames||a.views.map.placeMonthNamesOnTheBottom)e.className="days-months-bottom";for(b=0;7>b;b++)R(a.views.map.daysToShow,b+1)&&p(e,"div","day-name",g&&0!==b%3?" ":h.dayNames[b]);a.views.map.showDaysInReverseOrder&&S(e)}f=m(f,"div","months");e=la(a);for(g=0;12>g;g++)if(W(a.views.map.monthsToShow,g)){b=m(f,"div","month");var q=m(b,"div","day-columns"),w=da(l,g),C=m(q,"div","day-column"),A=!1,H=
ma(new Date(l,g,1)),G=1;w+=H;for(var K=0;K<w;K++){K>=H?A=!0:R(a.views.map.daysToShow,G)&&m(C,"div","day-disabled");if(A){var T=null;R(a.views.map.daysToShow,G)&&(T=Ya(a,C,K-H,g,l,e));if(0===(K+1)%7&&(a.views.map.showDaysInReverseOrder&&S(C),C=m(q,"div","day-column"),G=0,!t(ea)&&t(T))){var Za=ha(T,"margin-left",!0),$a=ha(T,"margin-right",!0);ea=T.offsetWidth+Za+$a}}G++}a.views.map.showMonthNames&&(C=b.offsetWidth,w=a.views.map.placeMonthNamesOnTheBottom?p(b,"div","month-name-bottom",h.monthNames[g]):
p(b,"div","month-name",h.monthNames[g],q),t(w)&&(w.style.width=a.views.map.showMonthDayGaps?C+"px":C-ea+"px"));c&&t(ea)&&(0<H&&!a.views.map.showMonthDayGaps?b.style.marginLeft=-ea+"px":0===H&&a.views.map.showMonthDayGaps&&(b.style.marginLeft=ea+"px"));a.views.map.showMonthsInReverseOrder&&S(q);c=!0}a.views.map.showMonthsInReverseOrder&&S(f);a.views.map.keepScrollPositions&&(a._currentView.mapContents.scrollLeft=a._currentView.mapContentsScrollLeft)}a.views.chart.enabled&&(ab(a,d),a._currentView.chartContents.style.display=
"none");if(a.views.days.enabled){e=m(a._currentView.daysContents,"div","days");l=m(a._currentView.daysContents,"div","day-names");g=m(e,"div","y-labels");c=m(e,"div","day-lines");b=0;q=N(a);f={1:0,2:0,3:0,4:0,5:0,6:0,7:0};for(H=0;12>H;H++)for(w=da(a._currentView.year,H),C=0;C<w;C++)A=O(new Date(a._currentView.year,H,C+1)),q.hasOwnProperty(A)&&(G=A.split("-"),G=new Date(parseInt(G[2]),parseInt(G[1]),parseInt(G[0])),K=ma(G)+1,!na(a,G).matched&&W(a.views.days.monthsToShow,G.getMonth())&&R(a.views.days.daysToShow,
K)&&(f[K]+=q[A],b=I.max(b,f[K])));d&&u(e,"view-switch");0<b&&a.views.days.showChartYLabels?(q=p(g,"div","label-0",b.toString()),p(g,"div","label-25",(3*I.floor(b/4)).toString()),p(g,"div","label-50",I.floor(b/2).toString()),p(g,"div","label-75",I.floor(b/4).toString()),p(g,"div","label-100","0"),g.style.width=q.offsetWidth+"px",l.style.paddingLeft=g.offsetWidth+ha(g,"margin-right",!0)+"px"):g.parentNode.removeChild(g);if(0===b){a._currentView.daysContents.style.minHeight=a._currentView.mapContents.offsetHeight+
"px";e.parentNode.removeChild(e);l.parentNode.removeChild(l);var J=p(a._currentView.daysContents,"div","no-days-message",h.noDaysDataMessage);d&&u(J,"view-switch")}else{e=a._currentView.mapContents.offsetHeight/b;for(J in f)f.hasOwnProperty(J)&&R(a.views.days.daysToShow,parseInt(J))&&(bb(c,parseInt(J),f[J],a,e),a.views.days.showDayNames&&p(l,"div","day-name",h.dayNames[parseInt(J)-1]));a.views.days.showInReverseOrder&&(S(c),S(l));a.views.days.keepScrollPositions&&(a._currentView.daysContents.scrollLeft=
a._currentView.daysContentsScrollLeft)}a._currentView.daysContents.style.display="none"}if(a.views.statistics.enabled){e=m(a._currentView.statisticsContents,"div","statistics");J=m(a._currentView.statisticsContents,"div","statistics-ranges");g=m(e,"div","y-labels");l=m(e,"div","range-lines");c=la(a);f={};b=N(a);q=0;for(H=f["0"]=0;12>H;H++)for(w=da(a._currentView.year,H),C=0;C<w;C++)A=O(new Date(a._currentView.year,H,C+1)),b.hasOwnProperty(A)&&(G=A.split("-"),G=new Date(parseInt(G[2]),parseInt(G[1]),
parseInt(G[0])),K=ma(G)+1,!na(a,G).matched&&W(a.views.statistics.monthsToShow,G.getMonth())&&R(a.views.statistics.daysToShow,K)&&(A=za(a,c,b[A]),t(A)?(f.hasOwnProperty(A.minimum.toString())||(f[A.minimum.toString()]=0),f[A.minimum]++,q=I.max(q,f[A.minimum])):f["0"]++));b=q;d&&u(e,"view-switch");0<b&&a.views.statistics.showChartYLabels?(q=p(g,"div","label-0",b.toString()),p(g,"div","label-25",(3*I.floor(b/4)).toString()),p(g,"div","label-50",I.floor(b/2).toString()),p(g,"div","label-75",I.floor(b/
4).toString()),p(g,"div","label-100","0"),g.style.width=q.offsetWidth+"px",J.style.paddingLeft=g.offsetWidth+ha(g,"margin-right",!0)+"px"):g.parentNode.removeChild(g);if(0===b){a._currentView.statisticsContents.style.minHeight=a._currentView.mapContents.offsetHeight+"px";e.parentNode.removeChild(e);J.parentNode.removeChild(J);var X=p(a._currentView.statisticsContents,"div","no-statistics-message",h.noStatisticsDataMessage);d&&u(X,"view-switch")}else{d=a._currentView.mapContents.offsetHeight/b;a.views.statistics.showColorRangeLabels||
J.parentNode.removeChild(J);for(X in f)f.hasOwnProperty(X)&&(cb(parseInt(X),l,f[X],a,c,d),e=Ka(c,parseInt(X)),a.views.statistics.showColorRangeLabels&&(a.views.statistics.useColorRangeNamesForLabels&&t(e)&&r(e.name)?p(J,"div","range-name",e.name):p(J,"div","range-name",X+"+")));a.views.statistics.showInReverseOrder&&(S(l),S(J));a.views.statistics.keepScrollPositions&&(a._currentView.statisticsContents.scrollLeft=a._currentView.statisticsContentsScrollLeft)}a._currentView.statisticsContents.style.display=
"none"}a._currentView.mapContents.style.display="none";1===a._currentView.view?a._currentView.mapContents.style.display="block":a.views.chart.enabled&&2===a._currentView.view?a._currentView.chartContents.style.display="block":a.views.days.enabled&&3===a._currentView.view?a._currentView.daysContents.style.display="block":a.views.statistics.enabled&&4===a._currentView.view?a._currentView.statisticsContents.style.display="block":(a._currentView.view=1,a._currentView.mapContents.style.display="block")},
Va=function(a){a._currentView.configurationDialog=m(a._currentView.disabledBackground,"div","dialog configuration");var b=m(a._currentView.configurationDialog,"div","dialog-title-bar"),d=m(a._currentView.configurationDialog,"div","dialog-contents"),c=m(b,"div","dialog-close"),e=m(d,"div","side-container panel");d=m(d,"div","side-container panel");p(b,"span","dialog-title-bar-text",h.configurationTitleText);p(e,"div","side-container-title-text",h.visibleDaysText+":");p(d,"div","side-container-title-text",
h.visibleMonthsText+":");b=m(d,"div","side-container");d=m(d,"div","side-container");c.onclick=function(){t(a._currentView.disabledBackground)&&"none"!==a._currentView.disabledBackground.style.display&&(a._currentView.disabledBackground.style.display="none");t(a._currentView.configurationDialog)&&"none"!==a._currentView.configurationDialog.style.display&&(a._currentView.configurationDialog.style.display="none");for(var g=[],l=[],q=!1,w=0;7>w;w++)a._currentView.dayCheckBoxes[w].checked&&g.push(w+1);
for(w=0;12>w;w++)a._currentView.monthCheckBoxes[w].checked&&l.push(w+1);1<=g.length&&(1===a._currentView.view?a.views.map.daysToShow=g:a.views.chart.enabled&&2===a._currentView.view?a.views.chart.daysToShow=g:a.views.days.enabled&&3===a._currentView.view?a.views.days.daysToShow=g:a.views.statistics.enabled&&4===a._currentView.view?a.views.statistics.daysToShow=g:a.views.map.daysToShow=g,q=!0);1<=l.length&&(1===a._currentView.view?a.views.map.monthsToShow=l:a.views.chart.enabled&&2===a._currentView.view?
a.views.chart.monthsToShow=l:a.views.days.enabled&&3===a._currentView.view?a.views.days.monthsToShow=l:a.views.statistics.enabled&&4===a._currentView.view?a.views.statistics.monthsToShow=l:a.views.map.monthsToShow=l,q=!0);q?(z(a),v(a.events.onOptionsUpdate,a._currentView.element,a)):ca(a)};for(var f=0;7>f;f++)a._currentView.dayCheckBoxes[f]=Aa(e,h.dayNames[f]).input;for(e=0;7>e;e++)a._currentView.monthCheckBoxes[e]=Aa(b,h.monthNames[e]).input;for(e=7;12>e;e++)a._currentView.monthCheckBoxes[e]=Aa(d,
h.monthNames[e]).input;Y(c,a,h.closeToolTipText)},Ja=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=b?F.addEventListener:F.removeEventListener;(b?B.addEventListener:B.removeEventListener)("mousemove",function(){ca(a)});d("scroll",function(){ca(a)})},Y=function(a,b,d){null!==a&&(a.onmousemove=function(c){db(c,b,d)})},db=function(a,b,d){ia(a);ca(b);b._currentView.tooltipTimer=setTimeout(function(){b._currentView.tooltip.innerHTML=d;b._currentView.tooltip.style.display=
"block";var c=b._currentView.tooltip,e=a.pageX,f=a.pageY;var g=F.documentElement;var l=(B.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(B.pageYOffset||g.scrollTop)-(g.clientTop||0);c.style.display="block";e+c.offsetWidth>B.innerWidth?e-=c.offsetWidth:e++;f+c.offsetHeight>B.innerHeight?f-=c.offsetHeight:f++;e<l&&(e=a.pageX+1);f<g&&(f=a.pageY+1);c.style.left=e+"px";c.style.top=f+"px"},b.tooltip.delay)},ca=function(a){t(a._currentView.tooltip)&&(t(a._currentView.tooltipTimer)&&(clearTimeout(a._currentView.tooltipTimer),
a._currentView.tooltipTimer=null),"none"!==a._currentView.tooltip.style.display&&(a._currentView.tooltip.style.display="none"))},Wa=function(a){if(a.title.showText||a.title.showYearSelector||a.title.showRefreshButton||a.title.showExportButton||a.title.showImportButton){var b=m(a._currentView.element,"div","title-bar"),d=m(b,"div","title");a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled?a.title.showTitleDropDownButton&&m(d,"div","down-arrow"):u(d,"no-click");a.title.showText&&
(d.innerHTML+=a.title.text);(a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled)&&eb(a,d);a.title.showImportButton&&!a._currentView.isInFetchMode&&(p(b,"button","import",h.importButtonText).onclick=function(){fb(a)});a.title.showExportButton&&(p(b,"button","export",h.exportButtonText).onclick=function(){La(a)});a.title.showRefreshButton&&(p(b,"button","refresh",h.refreshButtonText).onclick=function(){z(a);v(a.events.onRefresh,a._currentView.element)});a.title.showYearSelector&&
(d=p(b,"button","back",h.backButtonText),d.onclick=function(){Ba(a)},0<a._currentView.yearsAvailable.length&&a._currentView.year<=a._currentView.yearsAvailable[0]&&(d.disabled=!0),a._currentView.yearText=p(b,"div","year-text",a._currentView.year.toString()),a.title.showYearSelectionDropDown?gb(a):u(a._currentView.yearText,"no-click"),a.title.showConfigurationButton&&(d=m(b,"div","configure"),Y(d,a,h.configurationToolTipText),d.onclick=function(){t(a._currentView.disabledBackground)&&"block"!==a._currentView.disabledBackground.style.display&&
(a._currentView.disabledBackground.style.display="block");t(a._currentView.configurationDialog)&&"block"!==a._currentView.configurationDialog.style.display&&(a._currentView.configurationDialog.style.display="block");if(1===a._currentView.view){var c=a.views.map.daysToShow;var e=a.views.map.monthsToShow}else a.views.chart.enabled&&2===a._currentView.view?(c=a.views.chart.daysToShow,e=a.views.chart.monthsToShow):a.views.days.enabled&&3===a._currentView.view?(c=a.views.days.daysToShow,e=a.views.days.monthsToShow):
a.views.statistics.enabled&&4===a._currentView.view?(c=a.views.statistics.daysToShow,e=a.views.statistics.monthsToShow):(c=a.views.map.daysToShow,e=a.views.map.monthsToShow);for(var f=0;7>f;f++)a._currentView.dayCheckBoxes[f].checked=R(c,f+1);for(c=0;12>c;c++)a._currentView.monthCheckBoxes[c].checked=W(e,c);ca(a)}),b=p(b,"button","next",h.nextButtonText),b.onclick=function(){ja(a)},0<a._currentView.yearsAvailable.length&&a._currentView.year>=a._currentView.yearsAvailable[a._currentView.yearsAvailable.length-
1]&&(b.disabled=!0))}},eb=function(a,b){b=m(b,"div","titles-menu-container");b=m(b,"div","titles-menu");a.title.showTitleDropDownHeaders&&p(b,"div","title-menu-header",h.dataText+":");var d=p(b,"div","title-menu-item",h.mapText);oa(a,d,1,"map");a.views.chart.enabled&&(d=p(b,"div","title-menu-item",h.chartText),oa(a,d,2,"chart"));a.views.days.enabled&&(a.title.showTitleDropDownHeaders&&p(b,"div","title-menu-header",h.yearText+":"),d=p(b,"div","title-menu-item",h.daysText),oa(a,d,3,"days"));a.views.statistics.enabled&&
(a.title.showTitleDropDownHeaders&&p(b,"div","title-menu-header",h.statisticsText+":"),b=p(b,"div","title-menu-item",h.colorRangesText),oa(a,b,4,"statistics"))},oa=function(a,b,d,c){a._currentView.view===d?u(b,"title-menu-item-active"):b.onclick=function(){a._currentView.view=d;v(a.events.onViewSwitch,c);z(a,!1,!0)}},gb=function(a){m(a._currentView.yearText,"div","down-arrow");var b=m(a._currentView.yearText,"div","years-menu-container"),d=m(b,"div","years-menu"),c=(new Date).getFullYear(),e=null;
b.style.display="block";b.style.visibility="hidden";for(var f=c-a.title.extraSelectionYears;f<c+a.title.extraSelectionYears;f++)if(Z(a,f)){var g=hb(a,d,f,c);t(e)||(e=g)}t(e)&&(d.scrollTop=e.offsetTop-d.offsetHeight/2);b.style.display="none";b.style.visibility="visible"},hb=function(a,b,d,c){var e=null;b=p(b,"div","year-menu-item",d.toString());a._currentView.year!==d?(b.onclick=function(){a._currentView.year=d;z(a);v(a.events.onSetYear,a._currentView.year)},d===c&&u(b,"year-menu-item-current")):(u(b,
"year-menu-item-active"),e=b);return e},Ya=function(a,b,d,c,e,f){d+=1;b=m(b,"div","day");var g=new Date(e,c,d),l=k[a._currentView.element.id].type[a._currentView.type][O(g)];l=aa(l,0);Ma(a,b,g,l);a.views.map.showDayNumbers&&0<l&&(b.innerHTML=l.toString());Q(a.events.onDayClick)?b.onclick=function(){v(a.events.onDayClick,g,l)}:u(b,"no-hover");c=za(a,f,l,g);t(c)&&pa(a,c.id)&&(r(c.mapCssClassName)?u(b,c.mapCssClassName):u(b,c.cssClassName));return b},ab=function(a,b){var d=m(a._currentView.chartContents,
"div","chart"),c=m(d,"div","y-labels"),e=m(d,"div","day-lines"),f=la(a),g=ib(a),l=a._currentView.year,q=0;b&&u(d,"view-switch");if(0<g&&a.views.chart.showChartYLabels){var w=p(c,"div","label-0",g.toString());p(c,"div","label-25",(3*I.floor(g/4)).toString());p(c,"div","label-50",I.floor(g/2).toString());p(c,"div","label-75",I.floor(g/4).toString());p(c,"div","label-100","0");c.style.width=w.offsetWidth+"px";q=c.offsetWidth+ha(c,"margin-right",!0)}else c.parentNode.removeChild(c),c=null;if(0===g)a._currentView.chartContents.style.minHeight=
a._currentView.mapContents.offsetHeight+"px",d.parentNode.removeChild(d),e=p(a._currentView.chartContents,"div","no-data-message",h.noChartDataMessage),b&&u(e,"view-switch");else{b=a._currentView.mapContents.offsetHeight/g;for(g=c=d=0;12>g;g++)if(W(a.views.chart.monthsToShow,g)){w=da(l,g);var C=1;d++;for(var A=0;A<w;A++)R(a.views.chart.daysToShow,C)&&jb(e,a,A+1,g,l,f,b),0===(A+1)%7&&(C=0),C++,c++}a.views.chart.showInReverseOrder&&S(e);if(a.views.chart.showMonthNames){var H=m(a._currentView.chartContents,
"div","chart-months"),G=e.offsetWidth/d,K=0;f=function(T){W(a.views.chart.monthsToShow,T)&&(p(H,"div","month-name",h.monthNames[T]).style.left=q+G*K+"px",K++)};if(a.views.chart.showInReverseOrder)for(l=12;l--;)f(l);else for(l=0;12>l;l++)f(l);H.style.width=e.offsetWidth+"px";e=m(H,"div","month-name-space");e.style.height=H.offsetHeight+"px";e.style.width=q+"px"}a.views.chart.keepScrollPositions&&(a._currentView.chartContents.scrollLeft=a._currentView.chartContentsScrollLeft)}},jb=function(a,b,d,c,
e,f,g){var l=new Date(e,c,d);a=m(a,"div","day-line");var q=N(b)[O(l)];q=aa(q,0);Ma(b,a,l,q);b.views.chart.showLineNumbers&&0<q&&(u(a,"day-line-number"),a.innerHTML=q.toString());g*=q;a.style.height=g+"px";0>=g&&(a.style.visibility="hidden");Q(b.events.onDayClick)?a.onclick=function(){v(b.events.onDayClick,l,q)}:u(a,"no-hover");f=za(b,f,q,l);t(f)&&pa(b,f.id)&&(r(f.chartCssClassName)?u(a,f.chartCssClassName):u(a,f.cssClassName))},ib=function(a){for(var b=0,d=N(a),c=0;12>c;c++)for(var e=da(a._currentView.year,
c),f=0;f<e;f++){var g=O(new Date(a._currentView.year,c,f+1));d.hasOwnProperty(g)&&W(a.views.chart.monthsToShow,c)&&R(a.views.chart.daysToShow,f+1)&&(b=I.max(b,parseInt(d[g])))}return b},bb=function(a,b,d,c,e){a=m(a,"div","day-line");e*=d;a.style.height=e+"px";0>=e&&(a.style.visibility="hidden");Y(a,c,d.toString());Q(c.events.onWeekDayClick)?a.onclick=function(){v(c.events.onWeekDayClick,b,d)}:u(a,"no-hover");c.views.days.showDayNumbers&&0<d&&(u(a,"day-line-number"),p(a,"div","count",d.toString()))},
cb=function(a,b,d,c,e,f){b=m(b,"div","range-line");var g=Ka(e,a);a=d*f;b.style.height=a+"px";0>=a&&(b.style.visibility="hidden");Y(b,c,d.toString());c.views.statistics.showRangeNumbers&&0<d&&(u(b,"range-line-number"),p(b,"div","count",d.toString()));Q(c.events.onStatisticClick)?b.onclick=function(){v(c.events.onStatisticClick,g)}:u(b,"no-hover");t(g)&&pa(c,g.id)&&(r(g.statisticsCssClassName)?u(b,g.statisticsCssClassName):u(b,g.cssClassName))},Xa=function(a){var b=m(a._currentView.element,"div","guide"),
d=m(b,"div","map-types"),c=0;for(e in k[a._currentView.element.id].type[h.unknownTrendText])if(k[a._currentView.element.id].type[h.unknownTrendText].hasOwnProperty(e)){c++;break}if(1<k[a._currentView.element.id].types){if(r(a.description.text)){var e=m(a._currentView.element,"div","description",b);Na(a,e)}for(var f in k[a._currentView.element.id].type)if(f!==h.unknownTrendText||0<c)0===c&&a._currentView.type===h.unknownTrendText&&(a._currentView.type=f),kb(a,d,f)}else Na(a,d);if(a.guide.enabled){b=
m(b,"div","map-toggles");a.guide.showLessAndMoreLabels&&(d=p(b,"div","less-text",h.lessText),a.guide.colorRangeTogglesEnabled?d.onclick=function(){Oa(a,!1)}:u(d,"no-click"));d=m(b,"div","days");c=la(a);f=c.length;for(e=0;e<f;e++)lb(a,d,c[e]);a.guide.showLessAndMoreLabels&&(b=p(b,"div","more-text",h.moreText),a.guide.colorRangeTogglesEnabled?b.onclick=function(){Oa(a,!0)}:u(b,"no-click"))}},kb=function(a,b,d){b=p(b,"button","type",d);a._currentView.type===d&&u(b,"active");b.onclick=function(){a._currentView.type!==
d&&(a._currentView.type=d,v(a.events.onTypeSwitch,d),z(a))}},lb=function(a,b,d){b=m(b,"div");b.className="day";Y(b,a,d.tooltipText);pa(a,d.id)&&(1===a._currentView.view&&r(d.mapCssClassName)?u(b,d.mapCssClassName):a.views.chart.enabled&&2===a._currentView.view&&r(d.chartCssClassName)?u(b,d.chartCssClassName):a.views.statistics.enabled&&4===a._currentView.view&&r(d.statisticsCssClassName)?u(b,d.statisticsCssClassName):u(b,d.cssClassName));a.guide.showNumbersInGuide&&(u(b,"day-number"),b.innerHTML=
d.minimum+"+");a.guide.colorRangeTogglesEnabled?b.onclick=function(){for(var c=d.id,e=a.colorRanges.length,f=0;f<e;f++){var g=a.colorRanges[f];if(g.id===c){g.visible=!n(g.visible,!0);v(a.events.onColorRangeTypeToggle,g.id,g.visible);z(a);break}}}:u(b,"no-hover")},Na=function(a,b){r(a.description.text)&&(r(a.description.url)?(b=p(b,"a","label",a.description.text),b.href=a.description.url,b.target=a.description.urlTarget):p(b,"span","label",a.description.text))},Ma=function(a,b,d,c){if(Q(a.events.onDayToolTipRender))Y(b,
a,v(a.events.onDayToolTipRender,d,c));else{c=a.tooltip.dayText;var e=ma(d);c=c.replace("{dddd}",h.dayNames[e]);c=c.replace("{dd}",U(d.getDate()));c=c.replace("{d}",d.getDate().toString());e=c.replace;var f=d.getDate(),g=h.thText;if(31===f||21===f||1===f)g=h.stText;else if(22===f||2===f)g=h.ndText;else if(23===f||3===f)g=h.rdText;c=e.call(c,"{o}",g);c=c.replace("{mmmm}",h.monthNames[d.getMonth()]);c=c.replace("{mm}",U(d.getMonth()+1));c=c.replace("{m}",(d.getMonth()+1).toString());c=c.replace("{yyyy}",
d.getFullYear().toString());c=c.replace("{yyy}",d.getFullYear().toString().substring(1));c=c.replace("{yy}",d.getFullYear().toString().substring(2));c=c.replace("{y}",parseInt(d.getFullYear().toString().substring(2)).toString());a.showHolidaysInDayToolTips&&(d=na(a,d),d.matched&&r(d.name)&&(c+=": "+d.name));Y(b,a,c)}},xa=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;k[a]={options:b,type:{},types:1};k[a].type[h.unknownTrendText]={};if(d&&!b._currentView.isInFetchMode&&
b.useLocalStorageForData&&B.localStorage){d=B.localStorage.length;for(var c=b._currentView.element.id,e=0;e<d;e++){var f=B.localStorage.key(e);if(Ia(f,ya)&&(f=B.localStorage.getItem(f),f=wa(f),f.parsed)){k[c].type=f.result;k[c].types=0;for(var g in k[c].type)k[c].type.hasOwnProperty(g)&&k[c].types++}}}},N=function(a){return k[a._currentView.element.id].type[a._currentView.type]},W=function(a,b){return-1<a.indexOf(b+1)},R=function(a,b){return-1<a.indexOf(b)},Ta=function(a){var b=[];if(a.showOnlyDataForYearsAvailable){a=
N(a);for(var d in a)if(a.hasOwnProperty(d)){var c=parseInt(d.split("-")[0]);-1===b.indexOf(c)&&b.push(c)}}return b=b.sort(function(e,f){return e-f})},Z=function(a,b){return-1===a.yearsToHide.indexOf(b)&&(0===a._currentView.yearsAvailable.length||-1<a._currentView.yearsAvailable.indexOf(b))},Ua=function(a){a._currentView.isInFetchMode&&(t(a._currentView.isInFetchModeTimer)||Pa(a),t(a._currentView.isInFetchModeTimer)||(a._currentView.isInFetchModeTimer=setInterval(function(){Pa(a);z(a)},a.dataFetchDelay)))},
Pa=function(a){var b=a._currentView.element.id,d=v(a.events.onDataFetch,b);if(L(d)){xa(b,a,!1);for(var c in d)d.hasOwnProperty(c)&&(k[b].type[h.unknownTrendText].hasOwnProperty(c)||(k[b].type[h.unknownTrendText][c]=0),k[b].type[h.unknownTrendText][c]+=d[c])}},pa=function(a,b){var d=!1;if(b===Qa)d=!0;else for(var c=a.colorRanges.length,e=0;e<c;e++){var f=a.colorRanges[e];if(f.id===b&&n(f.visible,!0)){d=!0;break}}return d},Oa=function(a,b){for(var d=a.colorRanges.length,c=0;c<d;c++)a.colorRanges[c].visible=
b,v(a.events.onColorRangeTypeToggle,a.colorRanges[c].id,b);z(a)},za=function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,e=null;t(c)&&na(a,c).matched&&(e={cssClassName:"holiday",id:Qa,visible:!0,name:"",minimum:0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:"",tooltipText:""});if(!t(e)){c=b.length;for(var f=0;f<c;f++){var g=b[f];if(d>=g.minimum)e=g;else break}}return e},Ka=function(a,b){for(var d=a.length,c=null,e=0;e<d;e++){var f=a[e];if(b.toString()===
f.minimum.toString()){c=f;break}}return c},la=function(a){return a.colorRanges.sort(function(b,d){return b.minimum-d.minimum})},na=function(a,b){var d=a.holidays.length,c=b.getDate(),e=b.getMonth()+1;b=b.getFullYear();for(var f=!1,g=null,l=0;l<d;l++){var q=a.holidays[l];if(r(q.date)&&q.showInViews){var w=q.date.split("/");2===w.length?f=c===parseInt(w[0])&&e===parseInt(w[1]):3===w.length&&(f=c===parseInt(w[0])&&e===parseInt(w[1])&&b===parseInt(w[2]));if(f){g=q.name;break}}}return{matched:f,name:g}},
ka=function(a,b){b.allowFileImports&&!b._currentView.isInFetchMode&&(a.ondragover=ia,a.ondragenter=ia,a.ondragleave=ia,a.ondrop=function(d){ia(d);t(B.FileReader)&&0<d.dataTransfer.files.length&&Ca(d.dataTransfer.files,b)})},fb=function(a){var b=mb("input");b.type="file";b.accept=".json, .txt, .csv";b.multiple="multiple";b.onchange=function(){Ca(b.files,a)};b.click()},Ca=function(a,b){for(var d=a.length,c=[],e=N(b),f=function(w,C){c.push(w);for(var A in C)C.hasOwnProperty(A)&&(e.hasOwnProperty(A)||
(e[A]=0),e[A]+=C[A]);c.length===d&&(v(b.events.onImport,b._currentView.element),z(b))},g=0;g<d;g++){var l=a[g],q=l.name.split(".").pop().toLowerCase();"json"===q?nb(l,f):"txt"===q?ob(l,f):"csv"===q&&pb(l,f)}},nb=function(a,b){var d=new FileReader,c=null;d.readAsText(a);d.onloadend=function(){b(a.name,c)};d.onload=function(e){e=wa(e.target.result);e.parsed&&L(e.result)&&(c=e.result)}},ob=function(a,b){var d=new FileReader;d.readAsText(a);d.onloadend=function(){b(a.name,null)};d.onload=function(c){c=
c.target.result.toString().split("\n");for(var e=c.length,f=0;f<e;f++){var g=c[f].split(":");null[g[0].trim()]=parseInt(g[1].trim())}}},pb=function(a,b){var d=new FileReader;d.readAsText(a);d.onloadend=function(){b(a.name,null)};d.onload=function(c){c=c.target.result.toString().replace(RegExp('"',"g"),"").split("\n");c.shift();for(var e=c.length,f=0;f<e;f++){var g=c[f].split(",");null[g[0].trim()]=parseInt(g[1].trim())}}},La=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
null,d=null;var c=null;"csv"===a.exportType.toLowerCase()?c="text/csv":"json"===a.exportType.toLowerCase()?c="application/json":"xml"===a.exportType.toLowerCase()?c="application/xml":"txt"===a.exportType.toLowerCase()&&(c="text/plain");b=D(b,a.exportType).toLowerCase();if("csv"===b){var e=qa(a),f=[];for(g in e)e.hasOwnProperty(g)&&f.push([ra(g),ra(e[g])].join());0<f.length&&f.unshift([ra(h.dateText),ra(h.countText)].join());d=f.join("\n")}else if("json"===b)d=va.stringify(qa(a));else if("xml"===b){var g=
qa(a);f=[];f.push('<?xml version="1.0" ?>');f.push("<Dates>");for(e in g)g.hasOwnProperty(e)&&(f.push("<Date>"),f.push("<FullDate>"+e+"</FullDate>"),f.push("<Count>"+g[e]+"</Count>"),f.push("</Date>"));f.push("</Dates>");d=f.join("\n")}else if("txt"===b){g=qa(a);e=[];for(f in g)g.hasOwnProperty(f)&&e.push(f+": "+g[f].toString());d=e.join("\n")}r(d)&&(g=m(F.body,"a"),g.style.display="none",g.setAttribute("target","_blank"),g.setAttribute("href","data:"+c+";charset=utf-8,"+encodeURIComponent(d)),c=
g.setAttribute,f=new Date,e=U(f.getDate())+"-"+U(f.getMonth()+1)+"-"+f.getFullYear(),f=U(f.getHours())+"-"+U(f.getMinutes()),d="",a._currentView.type!==h.unknownTrendText&&(d=a._currentView.type.toLowerCase().replace(" ","_")+"_"),e=d+e+"_"+f+"."+a.exportType.toLowerCase(),c.call(g,"download",e),g.click(),F.body.removeChild(g),v(a.events.onExport,a._currentView.element))},qa=function(a){var b={},d=N(a);if(a.exportOnlyYearBeingViewed)for(var c=0;12>c;c++)for(var e=da(a._currentView.year,c),f=0;f<e;f++){var g=
O(new Date(a._currentView.year,c,f+1));d.hasOwnProperty(g)&&(b[g]=d[g])}else{a=[];for(c in d)d.hasOwnProperty(c)&&a.push(c);a.sort();c=a.length;for(e=0;e<c;e++)f=a[e],d.hasOwnProperty(f)&&(b[f]=d[f])}return b},ra=function(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'},Ha=function(a){a=M(a,{});a.views=M(a.views,{});a.exportOnlyYearBeingViewed=n(a.exportOnlyYearBeingViewed,!0);a.year=aa(a.year,(new Date).getFullYear());a.view=D(a.view,
"map");a.exportType=D(a.exportType,"csv");a.useLocalStorageForData=n(a.useLocalStorageForData,!1);a.allowFileImports=n(a.allowFileImports,!0);var b=a;var d=a.yearsToHide;var c=[];d=V(d)?d:c;b.yearsToHide=d;a.dataFetchDelay=aa(a.dataFetchDelay,6E4);a.showOnlyDataForYearsAvailable=n(a.showOnlyDataForYearsAvailable,!1);a.showHolidaysInDayToolTips=n(a.showHolidaysInDayToolTips,!1);if(V(a.colorRanges))for(b=a.colorRanges.length,d=0;d<b;d++)c=a.colorRanges[d],c.id=D(c.id,ba()),c.name=D(c.name,null),c.minimum=
aa(c.minimum,0),c.cssClassName=D(c.cssClassName,null),c.mapCssClassName=D(c.mapCssClassName,null),c.chartCssClassName=D(c.chartCssClassName,null),c.statisticsCssClassName=D(c.statisticsCssClassName,null),c.tooltipText=D(c.tooltipText,null),c.visible=n(c.visible,!0);else a.colorRanges=[{id:ba(),name:"Day Color 1",minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1",visible:!0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:""},{id:ba(),name:"Day Color 2",minimum:15,cssClassName:"day-color-2",
tooltipText:"Day Color 2",visible:!0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:""},{id:ba(),name:"Day Color 3",minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:""},{id:ba(),name:"Day Color 4",minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0,mapCssClassName:"",chartCssClassName:"",statisticsCssClassName:""}];if(V(a.holidays))for(b=a.holidays.length,d=0;d<b;d++)c=a.holidays[d],
c.date=D(c.date,null),c.name=D(c.name,null),c.showInViews=n(c.showInViews,!0);else a.holidays=[];a.title=M(a.title,{});a.title.text=D(a.title.text,"Heat.js");a.title.showText=n(a.title.showText,!0);a.title.showYearSelector=n(a.title.showYearSelector,!0);a.title.showRefreshButton=n(a.title.showRefreshButton,!1);a.title.showExportButton=n(a.title.showExportButton,!1);a.title.extraSelectionYears=aa(a.title.extraSelectionYears,50);a.title.showYearSelectionDropDown=n(a.title.showYearSelectionDropDown,
!0);a.title.showImportButton=n(a.title.showImportButton,!1);a.title.showConfigurationButton=n(a.title.showConfigurationButton,!0);a.title.showTitleDropDownButton=n(a.title.showTitleDropDownButton,!0);a.title.showTitleDropDownHeaders=n(a.title.showTitleDropDownHeaders,!0);a.description=M(a.description,{});a.description.text=D(a.description.text,null);a.description.url=D(a.description.url,null);a.description.urlTarget=D(a.description.urlTarget,"_blank");a.guide=M(a.guide,{});a.guide.enabled=n(a.guide.enabled,
!0);a.guide.colorRangeTogglesEnabled=n(a.guide.colorRangeTogglesEnabled,!0);a.guide.showLessAndMoreLabels=n(a.guide.showLessAndMoreLabels,!0);a.guide.showNumbersInGuide=n(a.guide.showNumbersInGuide,!1);a.tooltip=M(a.tooltip,{});a.tooltip.delay=aa(a.tooltip.delay,750);a.tooltip.dayText=D(a.tooltip.dayText,"{d}{o} {mmmm} {yyyy}");a.views.map=M(a.views.map,{});a.views.map.showMonthDayGaps=n(a.views.map.showMonthDayGaps,!0);a.views.map.showDayNames=n(a.views.map.showDayNames,!0);a.views.map.placeMonthNamesOnTheBottom=
n(a.views.map.placeMonthNamesOnTheBottom,!1);a.views.map.showDayNumbers=n(a.views.map.showDayNumbers,!1);a.views.map.showMonthNames=n(a.views.map.showMonthNames,!0);a.views.map.showDaysInReverseOrder=n(a.views.map.showDaysInReverseOrder,!1);a.views.map.showNoDataMessageWhenDataIsNotAvailable=n(a.views.map.showNoDataMessageWhenDataIsNotAvailable,!1);a.views.map.showMinimalDayNames=n(a.views.map.showMinimalDayNames,!1);a.views.map.showMonthsInReverseOrder=n(a.views.map.showMonthsInReverseOrder,!1);
a.views.map.keepScrollPositions=n(a.views.map.keepScrollPositions,!1);P(a.views.map.monthsToShow)&&(a.views.map.monthsToShow=sa);P(a.views.map.daysToShow)&&(a.views.map.daysToShow=ta);a.views.chart=M(a.views.chart,{});a.views.chart.enabled=n(a.views.chart.enabled,!0);a.views.chart.showChartYLabels=n(a.views.chart.showChartYLabels,!0);a.views.chart.showMonthNames=n(a.views.chart.showMonthNames,!0);a.views.chart.showLineNumbers=n(a.views.chart.showLineNumbers,!1);a.views.chart.showInReverseOrder=n(a.views.chart.showInReverseOrder,
!1);a.views.chart.keepScrollPositions=n(a.views.chart.keepScrollPositions,!1);P(a.views.chart.monthsToShow)&&(a.views.chart.monthsToShow=sa);P(a.views.chart.daysToShow)&&(a.views.chart.daysToShow=ta);a.views.days=M(a.views.days,{});a.views.days.enabled=n(a.views.days.enabled,!0);a.views.days.showChartYLabels=n(a.views.days.showChartYLabels,!0);a.views.days.showDayNames=n(a.views.days.showDayNames,!0);a.views.days.showInReverseOrder=n(a.views.days.showInReverseOrder,!1);a.views.days.showDayNumbers=
n(a.views.days.showDayNumbers,!1);a.views.days.keepScrollPositions=n(a.views.days.keepScrollPositions,!1);P(a.views.days.monthsToShow)&&(a.views.days.monthsToShow=sa);P(a.views.days.daysToShow)&&(a.views.days.daysToShow=ta);a.views.statistics=M(a.views.statistics,{});a.views.statistics.enabled=n(a.views.statistics.enabled,!0);a.views.statistics.showChartYLabels=n(a.views.statistics.showChartYLabels,!0);a.views.statistics.showColorRangeLabels=n(a.views.statistics.showColorRangeLabels,!0);a.views.statistics.useColorRangeNamesForLabels=
n(a.views.statistics.useColorRangeNamesForLabels,!1);a.views.statistics.showRangeNumbers=n(a.views.statistics.showRangeNumbers,!1);a.views.statistics.showInReverseOrder=n(a.views.statistics.showInReverseOrder,!1);a.views.statistics.keepScrollPositions=n(a.views.statistics.keepScrollPositions,!1);P(a.views.statistics.monthsToShow)&&(a.views.statistics.monthsToShow=sa);P(a.views.statistics.daysToShow)&&(a.views.statistics.daysToShow=ta);a.events=M(a.events,{});a.events.onDayClick=E(a.events.onDayClick,
null);a.events.onBackYear=E(a.events.onBackYear,null);a.events.onNextYear=E(a.events.onNextYear,null);a.events.onRefresh=E(a.events.onRefresh,null);a.events.onBeforeRender=E(a.events.onBeforeRender,null);a.events.onRenderComplete=E(a.events.onRenderComplete,null);a.events.onDestroy=E(a.events.onDestroy,null);a.events.onExport=E(a.events.onExport,null);a.events.onSetYear=E(a.events.onSetYear,null);a.events.onTypeSwitch=E(a.events.onTypeSwitch,null);a.events.onDayToolTipRender=E(a.events.onDayToolTipRender,
null);a.events.onAdd=E(a.events.onAdd,null);a.events.onRemove=E(a.events.onRemove,null);a.events.onReset=E(a.events.onReset,null);a.events.onViewSwitch=E(a.events.onViewSwitch,null);a.events.onColorRangeTypeToggle=E(a.events.onColorRangeTypeToggle,null);a.events.onImport=E(a.events.onImport,null);a.events.onStatisticClick=E(a.events.onStatisticClick,null);a.events.onDataFetch=E(a.events.onDataFetch,null);a.events.onClear=E(a.events.onClear,null);a.events.onUpdate=E(a.events.onUpdate,null);a.events.onOptionsUpdate=
E(a.events.onOptionsUpdate,null);a.events.onWeekDayClick=E(a.events.onWeekDayClick,null);return a},da=function(a,b){return(new Date(a,b+1,0)).getDate()},ma=function(a){return 0>a.getDay()-1?6:a.getDay()-1},mb=function(a){a=a.toLowerCase();var b="text"===a;fa.hasOwnProperty(a)||(fa[a]=b?F.createTextNode(""):F.createElement(a));return fa[a].cloneNode(!1)},m=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;var e=
b.toLowerCase();var f="text"===e;fa.hasOwnProperty(e)||(fa[e]=f?F.createTextNode(""):F.createElement(e));e=fa[e].cloneNode(!1);t(d)&&(e.className=d);t(c)?a.insertBefore(e,c):a.appendChild(e);return e},p=function(a,b,d,c){var e=m(a,b,d,4<arguments.length&&void 0!==arguments[4]?arguments[4]:null);e.innerHTML=c;return e},ha=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,c=null;F.defaultView.getComputedStyle?c=F.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&
(c=a.currentStyle[b]);d&&(c=parseFloat(c));return c},u=function(a,b){a.className+=" "+b;a.className=a.className.trim()},ia=function(a){a.preventDefault();a.cancelBubble=!0},S=function(a){for(var b=a.children,d=b.length-1;d--;)a.appendChild(b[d])},Aa=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,e=m(a,"div");e=m(e,"label","checkbox");var f=m(e,"input");f.type="checkbox";t(c)&&(f.onclick=c);t(d)&&(f.checked=
d);m(e,"span","check-mark");p(e,"span","text",b);return{input:f,label:e}},v=function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),c=1;c<b;c++)d[c-1]=arguments[c];b=null;Q(a)&&(b=a.apply(null,[].slice.call(d,0)));return b},t=function(a){return null!==a&&void 0!==a&&""!==a.toString()},L=function(a){return t(a)&&"object"===("undefined"===typeof a?"undefined":_type_of(a))},r=function(a){return t(a)&&"string"===typeof a},Q=function(a){return t(a)&&"function"===typeof a},Da=function(a){return t(a)&&
"number"===typeof a},V=function(a){return L(a)&&_instanceof(a,Array)},ua=function(a){return L(a)&&_instanceof(a,Date)},P=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return!V(a)||a.length<b},x=function(a,b){return"string"===typeof a?a:b},D=function(a,b){return r(a)?a:b},n=function(a,b){return t(a)&&"boolean"===typeof a?a:b},aa=function(a,b){return Da(a)?a:b},E=function(a,b){return Q(a)?a:b},M=function(a,b){return L(a)?a:b},wa=function(a){var b=!0,d=null;try{r(a)&&(d=
va.parse(a))}catch(e){try{var c=d=eval("("+a+")");Q(d)&&(d=c())}catch(f){h.safeMode||(console.error(h.objectErrorText.replace("{{error_1}}",e.message).replace("{{error_2}}",f.message)),b=!1),d=null}}return{parsed:b,result:d}},ba=function(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var d=I.floor(16*I.random()).toString(16);a.push(d)}return a.join("")},U=function(a){a=a.toString();return 1===a.length?"0"+a:a},Ia=function(a,b){return a.substring(0,b.length).toLowerCase()===
b.toLowerCase()},O=function(a){return a.getFullYear()+"-"+U(a.getMonth()+1)+"-"+U(a.getDate())},Ba=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=!0,c=a._currentView.year;for(c--;!Z(a,c);){if(0<a._currentView.yearsAvailable.length&&c<=a._currentView.yearsAvailable[0]){d=!1;break}c--}d&&(a._currentView.year=c,z(a),b&&v(a.events.onBackYear,a._currentView.year))},ja=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=!0,c=a._currentView.year;for(c++;!Z(a,
c);){if(0<a._currentView.yearsAvailable.length&&c>=a._currentView.yearsAvailable[a._currentView.yearsAvailable.length-1]){d=!1;break}c++}d&&(a._currentView.year=c,z(a),b&&v(a.events.onBackYear,a._currentView.year))},Ra=function(a){a._currentView.element.innerHTML="";var b=a._currentView.element;b.className=b.className.replace("heat-js","");b.className=b.className.trim();Ja(a,!1);F.body.removeChild(a._currentView.tooltip);a._currentView.isInFetchMode&&t(a._currentView.isInFetchModeTimer)&&clearInterval(a._currentView.isInFetchModeTimer);
v(a.events.onDestroy,a._currentView.element)},Sa=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;h=L(a)?a:{};h.safeMode=n(h.safeMode,!0);a=h;var b=h.domElementTypes,d=["*"],c=d;r(b)?(b=b.toString().split(" "),0!==b.length&&(c=b)):c=V(b)?b:d;a.domElementTypes=c;h.stText=x(h.stText,"st");h.ndText=x(h.ndText,"nd");h.rdText=x(h.rdText,"rd");h.thText=x(h.thText,"th");h.backButtonText=x(h.backButtonText,"Back");h.nextButtonText=x(h.nextButtonText,"Next");h.refreshButtonText=
x(h.refreshButtonText,"Refresh");h.exportButtonText=x(h.exportButtonText,"Export");h.lessText=x(h.lessText,"Less");h.moreText=x(h.moreText,"More");h.dateText=x(h.dateText,"Date");h.countText=x(h.countText,"Count");h.mapText=x(h.mapText,"Map");h.chartText=x(h.chartText,"Chart");h.noChartDataMessage=x(h.noChartDataMessage,"There is currently no data to view.");h.statisticsText=x(h.statisticsText,"Statistics");h.noStatisticsDataMessage=x(h.noStatisticsDataMessage,"There are currently no statistics to view.");
h.unknownTrendText=x(h.unknownTrendText,"Unknown");h.importButtonText=x(h.importButtonText,"Import");h.noMapDataMessage=x(h.noMapDataMessage,"There is currently no data to view.");h.objectErrorText=x(h.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}");h.attributeNotValidErrorText=x(h.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object.");h.attributeNotSetErrorText=x(h.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly.");
h.closeToolTipText=x(h.closeToolTipText,"Close");h.configurationToolTipText=x(h.configurationToolTipText,"Configuration");h.configurationTitleText=x(h.configurationTitleText,"Configuration");h.visibleMonthsText=x(h.visibleMonthsText,"Visible Months");h.visibleDaysText=x(h.visibleDaysText,"Visible Days");h.dataText=x(h.dataText,"Data");h.colorRangesText=x(h.colorRangesText,"Color Ranges");h.yearText=x(h.yearText,"Year");h.daysText=x(h.daysText,"Days");h.noDaysDataMessage=x(h.noDaysDataMessage,"There are currently no days to view.");
P(h.monthNames,12)&&(h.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));P(h.dayNames,7)&&(h.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))},h={},fa={},ea=null,k={},Qa="HOLIDAY",ya="HJS_",sa=[1,2,3,4,5,6,7,8,9,10,11,12],ta=[1,2,3,4,5,6,7],y={addDates:function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(r(a)&&V(b)&&k.hasOwnProperty(a)){var e=k[a].options;if(!e._currentView.isInFetchMode){d=D(d,h.unknownTrendText);for(var f=b.length,g=0;g<f;g++)y.addDate(a,
b[g],d,!1);c&&z(e,!0)}}return y},addDate:function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(r(a)&&ua(b)&&k.hasOwnProperty(a)){var e=k[a].options;if(!e._currentView.isInFetchMode){d=D(d,h.unknownTrendText);var f=O(b);k[a].type.hasOwnProperty(d)||(k[a].type[d]={},k[a].types++);k[a].type[d].hasOwnProperty(f)||(k[a].type[d][f]=0);k[a].type[d][f]++;v(e.events.onAdd,e._currentView.element);c&&z(e,!0)}}return y},updateDate:function(a,b,d,c){var e=4<arguments.length&&void 0!==
arguments[4]?arguments[4]:!0;if(r(a)&&ua(b)&&k.hasOwnProperty(a)){var f=k[a].options;if(!f._currentView.isInFetchMode&&0<d){c=D(c,h.unknownTrendText);var g=O(b);k[a].type.hasOwnProperty(c)&&(k[a].type[c][g]=d,v(f.events.onUpdate,f._currentView.element),e&&z(f,!0))}}return y},removeDates:function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(r(a)&&V(b)&&k.hasOwnProperty(a)){var e=k[a].options;if(!e._currentView.isInFetchMode){d=D(d,h.unknownTrendText);for(var f=b.length,
g=0;g<f;g++)y.removeDate(a,b[g],d,!1);c&&z(e,!0)}}return y},removeDate:function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if(r(a)&&ua(b)&&k.hasOwnProperty(a)){var e=k[a].options;if(!e._currentView.isInFetchMode){d=D(d,h.unknownTrendText);var f=O(b);k[a].type.hasOwnProperty(d)&&k[a].type[d].hasOwnProperty(f)&&(0<k[a].type[d][f]&&k[a].type[d][f]--,v(e.events.onRemove,e._currentView.element),c&&z(e,!0))}}return y},clearDate:function(a,b,d){var c=3<arguments.length&&void 0!==
arguments[3]?arguments[3]:!0;if(r(a)&&ua(b)&&k.hasOwnProperty(a)){var e=k[a].options;if(!e._currentView.isInFetchMode){d=D(d,h.unknownTrendText);var f=O(b);k[a].type.hasOwnProperty(d)&&k[a].type[d].hasOwnProperty(f)&&(delete k[a].type[d][f],v(e.events.onClear,e._currentView.element),c&&z(e,!0))}}return y},resetAll:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,b;for(b in k)k.hasOwnProperty(b)&&y.reset(b,a);return y},reset:function(a){var b=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:!0;if(r(a)&&k.hasOwnProperty(a)){var d=k[a].options;d._currentView.isInFetchMode||(d._currentView.type=h.unknownTrendText,xa(a,d,!1),v(d.events.onReset,d._currentView.element),b&&z(d,!0))}return y},import:function(a,b){r(a)&&k.hasOwnProperty(a)&&V(b)&&Ca(b,k[a].options);return y},export:function(a,b){r(a)&&k.hasOwnProperty(a)&&La(k[a].options,b);return y},refresh:function(a){r(a)&&k.hasOwnProperty(a)&&(a=k[a].options,z(a,!0),v(a.events.onRefresh,a._currentView.element));
return y},refreshAll:function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;z(b,!0);v(b.events.onRefresh,b._currentView.element)}return y},setYear:function(a,b){r(a)&&Da(b)&&k.hasOwnProperty(a)&&(a=k[a].options,a._currentView.year=b,Z(a,a._currentView.year)?z(a):ja(a,!1),v(a.events.onSetYear,a._currentView.year));return y},setYearToHighest:function(a){if(r(a)&&k.hasOwnProperty(a)){a=k[a].options;var b=N(a),d=0,c;for(c in b)b.hasOwnProperty(c)&&(d=I.max(d,parseInt(c.split("-")[0])));
0<d&&(a._currentView.year=d,Z(a,a._currentView.year)?z(a):ja(a,!1),v(a.events.onSetYear,a._currentView.year))}return y},setYearToLowest:function(a){if(r(a)&&k.hasOwnProperty(a)){a=k[a].options;var b=N(a),d=9999,c;for(c in b)b.hasOwnProperty(c)&&(d=I.min(d,parseInt(c.split("-")[0])));9999>d&&(a._currentView.year=d,Z(a,a._currentView.year)?z(a):Ba(a,!1),v(a.events.onSetYear,a._currentView.year))}return y},moveToPreviousYear:function(a){r(a)&&k.hasOwnProperty(a)&&Ba(k[a].options);return y},moveToNextYear:function(a){r(a)&&
k.hasOwnProperty(a)&&ja(k[a].options);return y},moveToCurrentYear:function(a){r(a)&&k.hasOwnProperty(a)&&(a=k[a].options,a._currentView.year=(new Date).getFullYear(),Z(a,a._currentView.year)?z(a):ja(a,!1),v(a.events.onSetYear,a._currentView.year));return y},getYear:function(a){var b=null;r(a)&&k.hasOwnProperty(a)&&(b=k[a].options._currentView.year);return b},render:function(a,b){L(a)&&L(b)&&Ea(Fa(b,a));return y},renderAll:function(){Ga();return y},switchView:function(a,b){if(r(a)&&r(b)&&k.hasOwnProperty(a)){a=
k[a].options;var d=null;"map"===b.toLowerCase()?d=1:"chart"===b.toLowerCase()?d=2:"days"===b.toLowerCase()?d=3:"statistics"===b.toLowerCase()&&(d=4);Da(d)&&(a._currentView.view=d,v(a.events.onViewSwitch,b),z(a,!1,!0))}return y},switchType:function(a,b){r(a)&&r(b)&&k.hasOwnProperty(a)&&k[a].type.hasOwnProperty(b)&&(a=k[a].options,a._currentView.type!==b&&(a._currentView.type=b,v(a.events.onTypeSwitch,b),z(a)));return y},updateOptions:function(a,b){if(r(a)&&L(b)&&k.hasOwnProperty(a)){a=k[a].options;
b=Ha(b);var d=!1,c;for(c in b)b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!==b[c]&&(a[c]=b[c],d=!0);d&&(z(a,!0),v(a.events.onRefresh,a._currentView.element),v(a.events.onOptionsUpdate,a._currentView.element,a))}return y},destroyAll:function(){for(var a in k)k.hasOwnProperty(a)&&Ra(k[a].options);k={};return y},destroy:function(a){r(a)&&k.hasOwnProperty(a)&&(Ra(k[a].options),delete k[a]);return y},setConfiguration:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;if(L(a)){var d=
!1,c;for(c in a)a.hasOwnProperty(c)&&h.hasOwnProperty(c)&&h[c]!==a[c]&&(h[c]=a[c],d=!0);d&&(Sa(h),b&&y.refreshAll())}return y},getIds:function(){var a=[],b;for(b in k)k.hasOwnProperty(b)&&a.push(b);return a},getVersion:function(){return"4.0.0"}};(function(){Sa();F.addEventListener("DOMContentLoaded",function(){Ga()});B.addEventListener("pagehide",function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;t(b._currentView.isInFetchModeTimer)&&clearInterval(b._currentView.isInFetchModeTimer)}});
t(B.$heat)||(B.$heat=y)})()})(document,window,Math,JSON);