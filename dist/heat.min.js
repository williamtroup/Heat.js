"use strict";var Constant,Is,Default2,Str,Str2,DateTime,DomElement,ToolTip,Trigger,Binding,Config,Disabled;(Constant||(Constant={})).HEAT_JS_ATTRIBUTE_NAME="data-heat-js",(e=>{function t(e){return null!=e&&""!==e.toString()}function n(e){return t(e)&&"object"==typeof e}function o(e){return n(e)&&e instanceof Array}e.defined=t,e.definedObject=n,e.definedBoolean=function(e){return t(e)&&"boolean"==typeof e},e.definedString=function(e){return t(e)&&"string"==typeof e},e.definedFunction=function(e){return t(e)&&"function"==typeof e},e.definedNumber=function(e){return t(e)&&"number"==typeof e},e.definedArray=o,e.definedDate=function(e){return n(e)&&e instanceof Date},e.invalidOptionArray=function(e,t=1){return!o(e)||e.length<t}})(Is||(Is={})),(Default=>{function getAnyString(e,t){return"string"==typeof e?e:t}function getString(e,t){return Is.definedString(e)?e:t}function getBoolean(e,t){return Is.definedBoolean(e)?e:t}function getNumber(e,t){return Is.definedNumber(e)?e:t}function getFunction(e,t){return Is.definedFunction(e)?e:t}function getArray(e,t){return Is.definedArray(e)?e:t}function getObject(e,t){return Is.definedObject(e)?e:t}function getStringOrArray(e,t){let n=t;if(Is.definedString(e)){const o=e.toString().split(" ");0===o.length?e=t:n=o}else n=getArray(e,t);return n}function getObjectFromString(objectString,configuration){const result={parsed:!0,object:null};try{Is.definedString(objectString)&&(result.object=JSON.parse(objectString))}catch(e1){try{result.object=eval(`(${objectString})`),Is.definedFunction(result.object)&&(result.object=result.object())}catch(e){configuration.safeMode||(console.error(configuration.text.objectErrorText.replace("{{error_1}}",e1.message).replace("{{error_2}}",e.message)),result.parsed=!1),result.object=null}}return result}Default.getAnyString=getAnyString,Default.getString=getString,Default.getBoolean=getBoolean,Default.getNumber=getNumber,Default.getFunction=getFunction,Default.getArray=getArray,Default.getObject=getObject,Default.getStringOrArray=getStringOrArray,Default.getObjectFromString=getObjectFromString})(Default2||(Default2={})),Str2=Str||(Str={}),Str2.padNumber=function(e){const t=e.toString();return 1===t.length?"0"+t:t},Str2.startsWithAnyCase=function(e,t){return e.substring(0,t.length).toLowerCase()===t.toLowerCase()},(e=>{function t(e){return e.getDay()-1<0?6:e.getDay()-1}function n(e,t){let n=e.text.thText;return 31===t||21===t||1===t?n=e.text.stText:22===t||2===t?n=e.text.ndText:23!==t&&3!==t||(n=e.text.rdText),n}e.getTotalDaysInMonth=function(e,t){return new Date(e,t+1,0).getDate()},e.getWeekdayNumber=t,e.getDayOrdinal=n,e.getCustomFormattedDateText=function(e,o,r){let i=o;const s=t(r);return i=i.replace("{dddd}",e.text.dayNames[s]),i=i.replace("{dd}",Str.padNumber(r.getDate())),i=i.replace("{d}",r.getDate().toString()),i=i.replace("{o}",n(e,r.getDate())),i=i.replace("{mmmm}",e.text.monthNames[r.getMonth()]),i=i.replace("{mm}",Str.padNumber(r.getMonth()+1)),i=i.replace("{m}",(r.getMonth()+1).toString()),i=i.replace("{yyyy}",r.getFullYear().toString()),i=i.replace("{yyy}",r.getFullYear().toString().substring(1)),i=i.replace("{yy}",r.getFullYear().toString().substring(2)),i=i.replace("{y}",parseInt(r.getFullYear().toString().substring(2)).toString()),i},e.toStorageDate=function(e){return e.getFullYear()+"-"+Str.padNumber(e.getMonth()+1)+"-"+Str.padNumber(e.getDate())},e.getStorageDate=function(e){return e.split("-")},e.getStorageDateYear=function(e){return e.split("-")[0]}})(DateTime||(DateTime={})),(e=>{function t(e,t,n="",o=null){const r=t.toLowerCase();let i="text"===r?document.createTextNode(""):document.createElement(r);return Is.defined(n)&&(i.className=n),Is.defined(o)?e.insertBefore(i,o):e.appendChild(i),i}function n(e,n,o,r,i=null){const s=t(e,n,o,i);return s.innerHTML=r,s}function o(){const e=document.documentElement;return{left:e.scrollLeft-(e.clientLeft||0),top:e.scrollTop-(e.clientTop||0)}}e.createWithNoContainer=function(e){const t=e.toLowerCase();return"text"===t?document.createTextNode(""):document.createElement(t)},e.create=t,e.createWithHTML=n,e.getStyleValueByName=function(e,t,n=!1){let o=getComputedStyle(e).getPropertyValue(t);return n&&(o=parseFloat(o)),o},e.addClass=function(e,t){e.classList.add(t)},e.removeClass=function(e,t){e.classList.remove(t)},e.cancelBubble=function(e){e.preventDefault(),e.stopPropagation()},e.getScrollPosition=o,e.showElementAtMousePosition=function(e,t){let n=e.pageX,r=e.pageY;const i=o();t.style.display="block",n+t.offsetWidth>window.innerWidth?n-=t.offsetWidth:n++,r+t.offsetHeight>window.innerHeight?r-=t.offsetHeight:r++,n<i.left&&(n=e.pageX+1),r<i.top&&(r=e.pageY+1),t.style.left=`${n}px`,t.style.top=`${r}px`},e.reverseChildrenOrder=function(e){const t=e.children;let n=t.length-1;for(;n--;)e.appendChild(t[n])},e.createCheckBox=function(e,o,r){const i=t(e,"div"),s=t(i,"label","checkbox"),a=t(s,"input");return a.type="checkbox",a.name=r,t(s,"span","check-mark"),n(s,"span","text",o),a}})(DomElement||(DomElement={})),(e=>{function t(e,t=!0){let n=t?window.addEventListener:window.removeEventListener,r=t?document.addEventListener:document.removeEventListener;n("mousemove",()=>o(e)),r("scroll",()=>o(e))}function n(e,t,n){DomElement.cancelBubble(e),o(t),t._currentView.tooltipTimer=setTimeout(()=>{t._currentView.tooltip.innerHTML=n,t._currentView.tooltip.style.display="block",DomElement.showElementAtMousePosition(e,t._currentView.tooltip)},t.tooltip.delay)}function o(e){Is.defined(e._currentView.tooltip)&&(0!==e._currentView.tooltipTimer&&(clearTimeout(e._currentView.tooltipTimer),e._currentView.tooltipTimer=0),"none"!==e._currentView.tooltip.style.display&&(e._currentView.tooltip.style.display="none"))}e.renderControl=function(e){Is.defined(e._currentView.tooltip)||(e._currentView.tooltip=DomElement.create(document.body,"div","heat-js-tooltip"),e._currentView.tooltip.style.display="none",t(e))},e.assignToEvents=t,e.add=function(e,t,o){null!==e&&(e.onmousemove=e=>n(e,t,o))},e.show=n,e.hide=o})(ToolTip||(ToolTip={})),(Trigger||(Trigger={})).customEvent=function(e,...t){let n=null;return Is.definedFunction(e)&&(n=e.apply(null,[].slice.call(t,0))),n},(e=>{let t;(e=>{const t=[1,2,3,4,5,6,7,8,9,10,11,12],n=[1,2,3,4,5,6,7];function o(e){const o=Default2.getObject(e,{});return o.views=Default2.getObject(o.views,{}),o.exportOnlyYearBeingViewed=Default2.getBoolean(o.exportOnlyYearBeingViewed,!0),o.year=Default2.getNumber(o.year,(new Date).getFullYear()),o.view=Default2.getString(o.view,"map"),o.exportType=Default2.getString(o.exportType,"csv"),o.useLocalStorageForData=Default2.getBoolean(o.useLocalStorageForData,!1),o.allowFileImports=Default2.getBoolean(o.allowFileImports,!0),o.yearsToHide=Default2.getArray(o.yearsToHide,[]),o.dataFetchDelay=Default2.getNumber(o.dataFetchDelay,6e4),o.showOnlyDataForYearsAvailable=Default2.getBoolean(o.showOnlyDataForYearsAvailable,!1),o.showHolidaysInDayToolTips=Default2.getBoolean(o.showHolidaysInDayToolTips,!1),o.resizable=Default2.getBoolean(o.resizable,!1),o.colorRanges=function(e){let t=[];if(Is.definedArray(e.colorRanges)){const n=e.colorRanges.length;for(let o=0;o<n;o++){const n=e.colorRanges[o];n.id=Default2.getString(n.id,crypto.randomUUID()),n.name=Default2.getString(n.name,""),n.minimum=Default2.getNumber(n.minimum,0),n.cssClassName=Default2.getString(n.cssClassName,""),n.mapCssClassName=Default2.getString(n.mapCssClassName,""),n.chartCssClassName=Default2.getString(n.chartCssClassName,""),n.statisticsCssClassName=Default2.getString(n.statisticsCssClassName,""),n.tooltipText=Default2.getString(n.tooltipText,""),n.visible=Default2.getBoolean(n.visible,!0),t.push(n)}}else t=[{id:crypto.randomUUID(),name:"Day Color 1",minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1",visible:!0},{id:crypto.randomUUID(),name:"Day Color 2",minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2",visible:!0},{id:crypto.randomUUID(),name:"Day Color 3",minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0},{id:crypto.randomUUID(),name:"Day Color 4",minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0}];return t}(o),o.holidays=function(e){let t=[];if(Is.definedArray(e.holidays)){const n=e.holidays.length;for(let o=0;o<n;o++){const n=e.holidays[o];n.date=Default2.getString(n.date,""),n.name=Default2.getString(n.name,""),n.showInViews=Default2.getBoolean(n.showInViews,!0),t.push(n)}}return t}(o),o.title=function(e){return e.title=Default2.getObject(e.title,{}),e.title.text=Default2.getString(e.title.text,"Heat.js"),e.title.showText=Default2.getBoolean(e.title.showText,!0),e.title.showYearSelector=Default2.getBoolean(e.title.showYearSelector,!0),e.title.showRefreshButton=Default2.getBoolean(e.title.showRefreshButton,!1),e.title.showExportButton=Default2.getBoolean(e.title.showExportButton,!1),e.title.extraSelectionYears=Default2.getNumber(e.title.extraSelectionYears,50),e.title.showYearSelectionDropDown=Default2.getBoolean(e.title.showYearSelectionDropDown,!0),e.title.showImportButton=Default2.getBoolean(e.title.showImportButton,!1),e.title.showConfigurationButton=Default2.getBoolean(e.title.showConfigurationButton,!0),e.title.showTitleDropDownButton=Default2.getBoolean(e.title.showTitleDropDownButton,!0),e.title.showTitleDropDownHeaders=Default2.getBoolean(e.title.showTitleDropDownHeaders,!0),e.title.showCurrentYearButton=Default2.getBoolean(e.title.showCurrentYearButton,!0),e.title.showSectionText=Default2.getBoolean(e.title.showSectionText,!0),e.title}(o),o.description=function(e){return e.description=Default2.getObject(e.description,{}),e.description.text=Default2.getString(e.description.text,""),e.description.url=Default2.getString(e.description.url,""),e.description.urlTarget=Default2.getString(e.description.urlTarget,"_blank"),e.description}(o),o.guide=function(e){return e.guide=Default2.getObject(e.guide,{}),e.guide.enabled=Default2.getBoolean(e.guide.enabled,!0),e.guide.colorRangeTogglesEnabled=Default2.getBoolean(e.guide.colorRangeTogglesEnabled,!0),e.guide.showLessAndMoreLabels=Default2.getBoolean(e.guide.showLessAndMoreLabels,!0),e.guide.showNumbersInGuide=Default2.getBoolean(e.guide.showNumbersInGuide,!1),e.guide}(o),o.tooltip=function(e){return e.tooltip=Default2.getObject(e.tooltip,{}),e.tooltip.delay=Default2.getNumber(e.tooltip.delay,750),e.tooltip.dayText=Default2.getString(e.tooltip.dayText,"{d}{o} {mmmm} {yyyy}"),e.tooltip}(o),o.views.map=function(e){e.views.map=Default2.getObject(e.views.map,{}),e.views.map.showMonthDayGaps=Default2.getBoolean(e.views.map.showMonthDayGaps,!0),e.views.map.showDayNames=Default2.getBoolean(e.views.map.showDayNames,!0),e.views.map.placeMonthNamesOnTheBottom=Default2.getBoolean(e.views.map.placeMonthNamesOnTheBottom,!1),e.views.map.showDayNumbers=Default2.getBoolean(e.views.map.showDayNumbers,!1),e.views.map.showMonthNames=Default2.getBoolean(e.views.map.showMonthNames,!0),e.views.map.showDaysInReverseOrder=Default2.getBoolean(e.views.map.showDaysInReverseOrder,!1),e.views.map.showNoDataMessageWhenDataIsNotAvailable=Default2.getBoolean(e.views.map.showNoDataMessageWhenDataIsNotAvailable,!1),e.views.map.showMinimalDayNames=Default2.getBoolean(e.views.map.showMinimalDayNames,!1),e.views.map.showMonthsInReverseOrder=Default2.getBoolean(e.views.map.showMonthsInReverseOrder,!1),e.views.map.keepScrollPositions=Default2.getBoolean(e.views.map.keepScrollPositions,!1),e.views.map.showDayDateNumbers=Default2.getBoolean(e.views.map.showDayDateNumbers,!1),Is.invalidOptionArray(e.views.map.monthsToShow)&&(e.views.map.monthsToShow=t);Is.invalidOptionArray(e.views.map.daysToShow)&&(e.views.map.daysToShow=n);return e.views.map}(o),o.views.chart=function(e){e.views.chart=Default2.getObject(e.views.chart,{}),e.views.chart.enabled=Default2.getBoolean(e.views.chart.enabled,!0),e.views.chart.showChartYLabels=Default2.getBoolean(e.views.chart.showChartYLabels,!0),e.views.chart.showMonthNames=Default2.getBoolean(e.views.chart.showMonthNames,!0),e.views.chart.showLineNumbers=Default2.getBoolean(e.views.chart.showLineNumbers,!1),e.views.chart.showInReverseOrder=Default2.getBoolean(e.views.chart.showInReverseOrder,!1),e.views.chart.keepScrollPositions=Default2.getBoolean(e.views.chart.keepScrollPositions,!1),e.views.chart.showLineDateNumbers=Default2.getBoolean(e.views.chart.showLineDateNumbers,!1),Is.invalidOptionArray(e.views.chart.monthsToShow)&&(e.views.chart.monthsToShow=t);Is.invalidOptionArray(e.views.chart.daysToShow)&&(e.views.chart.daysToShow=n);return e.views.chart}(o),o.views.days=function(e){e.views.days=Default2.getObject(e.views.days,{}),e.views.days.enabled=Default2.getBoolean(e.views.days.enabled,!0),e.views.days.showChartYLabels=Default2.getBoolean(e.views.days.showChartYLabels,!0),e.views.days.showDayNames=Default2.getBoolean(e.views.days.showDayNames,!0),e.views.days.showInReverseOrder=Default2.getBoolean(e.views.days.showInReverseOrder,!1),e.views.days.showDayNumbers=Default2.getBoolean(e.views.days.showDayNumbers,!1),e.views.days.keepScrollPositions=Default2.getBoolean(e.views.days.keepScrollPositions,!1),Is.invalidOptionArray(e.views.days.monthsToShow)&&(e.views.days.monthsToShow=t);Is.invalidOptionArray(e.views.days.daysToShow)&&(e.views.days.daysToShow=n);return e.views.days}(o),o.views.statistics=function(e){e.views.statistics=Default2.getObject(e.views.statistics,{}),e.views.statistics.enabled=Default2.getBoolean(e.views.statistics.enabled,!0),e.views.statistics.showChartYLabels=Default2.getBoolean(e.views.statistics.showChartYLabels,!0),e.views.statistics.showColorRangeLabels=Default2.getBoolean(e.views.statistics.showColorRangeLabels,!0),e.views.statistics.useColorRangeNamesForLabels=Default2.getBoolean(e.views.statistics.useColorRangeNamesForLabels,!1),e.views.statistics.showRangeNumbers=Default2.getBoolean(e.views.statistics.showRangeNumbers,!1),e.views.statistics.showInReverseOrder=Default2.getBoolean(e.views.statistics.showInReverseOrder,!1),e.views.statistics.keepScrollPositions=Default2.getBoolean(e.views.statistics.keepScrollPositions,!1),Is.invalidOptionArray(e.views.statistics.monthsToShow)&&(e.views.statistics.monthsToShow=t);Is.invalidOptionArray(e.views.statistics.daysToShow)&&(e.views.statistics.daysToShow=n);return e.views.statistics}(o),o.events=function(e){return e.events=Default2.getObject(e.events,{}),e.events.onDayClick=Default2.getFunction(e.events.onDayClick,null),e.events.onBackYear=Default2.getFunction(e.events.onBackYear,null),e.events.onNextYear=Default2.getFunction(e.events.onNextYear,null),e.events.onRefresh=Default2.getFunction(e.events.onRefresh,null),e.events.onBeforeRender=Default2.getFunction(e.events.onBeforeRender,null),e.events.onRenderComplete=Default2.getFunction(e.events.onRenderComplete,null),e.events.onDestroy=Default2.getFunction(e.events.onDestroy,null),e.events.onExport=Default2.getFunction(e.events.onExport,null),e.events.onSetYear=Default2.getFunction(e.events.onSetYear,null),e.events.onTypeSwitch=Default2.getFunction(e.events.onTypeSwitch,null),e.events.onDayToolTipRender=Default2.getFunction(e.events.onDayToolTipRender,null),e.events.onAdd=Default2.getFunction(e.events.onAdd,null),e.events.onRemove=Default2.getFunction(e.events.onRemove,null),e.events.onReset=Default2.getFunction(e.events.onReset,null),e.events.onViewSwitch=Default2.getFunction(e.events.onViewSwitch,null),e.events.onColorRangeTypeToggle=Default2.getFunction(e.events.onColorRangeTypeToggle,null),e.events.onImport=Default2.getFunction(e.events.onImport,null),e.events.onStatisticClick=Default2.getFunction(e.events.onStatisticClick,null),e.events.onDataFetch=Default2.getFunction(e.events.onDataFetch,null),e.events.onClear=Default2.getFunction(e.events.onClear,null),e.events.onUpdate=Default2.getFunction(e.events.onUpdate,null),e.events.onOptionsUpdate=Default2.getFunction(e.events.onOptionsUpdate,null),e.events.onWeekDayClick=Default2.getFunction(e.events.onWeekDayClick,null),e.events}(o),o}e.getForNewInstance=function(e,t,n){const r=o(t),i=Default2.getString(r.view,"").toLowerCase();return r._currentView={},r._currentView.element=n,r._currentView.disabledBackground=null,r._currentView.configurationDialog=null,r._currentView.dayCheckBoxes=[],r._currentView.monthCheckBoxes=[],r._currentView.tooltip=null,r._currentView.tooltipTimer=0,r._currentView.mapContents=null,r._currentView.mapContentsScrollLeft=0,r._currentView.year=r.year,r._currentView.type=e.text.unknownTrendText,r._currentView.isInFetchMode=Is.definedFunction(r.events.onDataFetch),r._currentView.isInFetchModeTimer=0,r._currentView.yearsAvailable=[],r._currentView.dayWidth=0,r.views.chart.enabled&&(r._currentView.chartContents=null,r._currentView.chartContentsScrollLeft=0),r.views.days.enabled&&(r._currentView.daysContents=null,r._currentView.daysContentsScrollLeft=0),r.views.statistics.enabled&&(r._currentView.statisticsContents=null,r._currentView.statisticsContentsScrollLeft=0),r._currentView.view="map"===i?1:"chart"===i?2:"days"===i?3:"statistics"===i?4:1,r},e.get=o})(t=e.Options||(e.Options={}))})(Binding||(Binding={})),(e=>{let t;(t=e.Options||(e.Options={})).get=function(e=null){const t=Default2.getObject(e,{});return t.safeMode=Default2.getBoolean(t.safeMode,!0),t.observationMode=Default2.getBoolean(t.observationMode,!0),t.domElementTypes=Default2.getStringOrArray(t.domElementTypes,["*"]),t.text=function(e){return e.text=Default2.getObject(e.text,{}),e.text.stText=Default2.getAnyString(e.text.stText,"st"),e.text.ndText=Default2.getAnyString(e.text.ndText,"nd"),e.text.rdText=Default2.getAnyString(e.text.rdText,"rd"),e.text.thText=Default2.getAnyString(e.text.thText,"th"),e.text.backButtonText=Default2.getAnyString(e.text.backButtonText,"Back"),e.text.nextButtonText=Default2.getAnyString(e.text.nextButtonText,"Next"),e.text.refreshButtonText=Default2.getAnyString(e.text.refreshButtonText,"Refresh"),e.text.exportButtonText=Default2.getAnyString(e.text.exportButtonText,"Export"),e.text.lessText=Default2.getAnyString(e.text.lessText,"Less"),e.text.moreText=Default2.getAnyString(e.text.moreText,"More"),e.text.dateText=Default2.getAnyString(e.text.dateText,"Date"),e.text.countText=Default2.getAnyString(e.text.countText,"Count"),e.text.mapText=Default2.getAnyString(e.text.mapText,"Map"),e.text.chartText=Default2.getAnyString(e.text.chartText,"Chart"),e.text.noChartDataMessage=Default2.getAnyString(e.text.noChartDataMessage,"There is currently no data to view."),e.text.statisticsText=Default2.getAnyString(e.text.statisticsText,"Statistics"),e.text.noStatisticsDataMessage=Default2.getAnyString(e.text.noStatisticsDataMessage,"There are currently no statistics to view."),e.text.unknownTrendText=Default2.getAnyString(e.text.unknownTrendText,"Unknown"),e.text.importButtonText=Default2.getAnyString(e.text.importButtonText,"Import"),e.text.noMapDataMessage=Default2.getAnyString(e.text.noMapDataMessage,"There is currently no data to view."),e.text.objectErrorText=Default2.getAnyString(e.text.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}"),e.text.attributeNotValidErrorText=Default2.getAnyString(e.text.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object."),e.text.attributeNotSetErrorText=Default2.getAnyString(e.text.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly."),e.text.closeToolTipText=Default2.getAnyString(e.text.closeToolTipText,"Close"),e.text.configurationToolTipText=Default2.getAnyString(e.text.configurationToolTipText,"Configuration"),e.text.configurationTitleText=Default2.getAnyString(e.text.configurationTitleText,"Configuration"),e.text.visibleMonthsText=Default2.getAnyString(e.text.visibleMonthsText,"Visible Months"),e.text.visibleDaysText=Default2.getAnyString(e.text.visibleDaysText,"Visible Days"),e.text.dataText=Default2.getAnyString(e.text.dataText,"Data"),e.text.colorRangesText=Default2.getAnyString(e.text.colorRangesText,"Color Ranges"),e.text.yearText=Default2.getAnyString(e.text.yearText,"Year"),e.text.daysText=Default2.getAnyString(e.text.daysText,"Days"),e.text.noDaysDataMessage=Default2.getAnyString(e.text.noDaysDataMessage,"There are currently no days to view."),e.text.backButtonSymbolText=Default2.getAnyString(e.text.backButtonSymbolText,"←"),e.text.nextButtonSymbolText=Default2.getAnyString(e.text.nextButtonSymbolText,"→"),e.text.refreshButtonSymbolText=Default2.getAnyString(e.text.refreshButtonSymbolText,"↻"),e.text.exportButtonSymbolText=Default2.getAnyString(e.text.exportButtonSymbolText,"↓"),e.text.importButtonSymbolText=Default2.getAnyString(e.text.importButtonSymbolText,"↑"),e.text.currentYearText=Default2.getAnyString(e.text.currentYearText,"Current Year"),e.text.currentYearSymbolText=Default2.getAnyString(e.text.currentYearSymbolText,"⏎"),e.text}(t),t.text=(n=t.text,Is.invalidOptionArray(n.monthNames,12)&&(n.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),Is.invalidOptionArray(n.dayNames,7)&&(n.dayNames=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]),n),t;var n}})(Config||(Config={})),(e=>{let t;var n;(n=t=e.Background||(e.Background={})).render=function(e){e._currentView.disabledBackground=DomElement.create(e._currentView.element,"div","disabled")},n.show=function(e){Is.defined(e._currentView.disabledBackground)&&"block"!==e._currentView.disabledBackground.style.display&&(e._currentView.disabledBackground.style.display="block")},n.hide=function(e){Is.defined(e._currentView.disabledBackground)&&"none"!==e._currentView.disabledBackground.style.display&&(e._currentView.disabledBackground.style.display="none")}})(Disabled||(Disabled={})),(()=>{let e={},t=null,n={};const o="HOLIDAY",r="HJS_";function i(){const t=e.domElementTypes,n=t.length;for(let e=0;e<n;e++){const n=document.getElementsByTagName(t[e]),o=[].slice.call(n),r=o.length;for(let e=0;e<r&&s(o[e]);e++);}}function s(t){let n=!0;if(Is.defined(t)&&t.hasAttribute(Constant.HEAT_JS_ATTRIBUTE_NAME)){const o=t.getAttribute(Constant.HEAT_JS_ATTRIBUTE_NAME);if(Is.definedString(o)){const r=Default2.getObjectFromString(o,e);r.parsed&&Is.definedObject(r.object)?a(Binding.Options.getForNewInstance(e,r.object,t)):e.safeMode||(console.error(e.text.attributeNotValidErrorText.replace("{{attribute_name}}",Constant.HEAT_JS_ATTRIBUTE_NAME)),n=!1)}else e.safeMode||(console.error(e.text.attributeNotSetErrorText.replace("{{attribute_name}}",Constant.HEAT_JS_ATTRIBUTE_NAME)),n=!1)}return n}function a(e){Trigger.customEvent(e.events.onBeforeRender,e._currentView.element),Is.definedString(e._currentView.element.id)||(e._currentView.element.id=crypto.randomUUID()),""===e._currentView.element.className.trim()?e._currentView.element.className="heat-js":DomElement.addClass(e._currentView.element,"heat-js"),e.resizable&&DomElement.addClass(e._currentView.element,"resizable"),e._currentView.element.removeAttribute(Constant.HEAT_JS_ATTRIBUTE_NAME),D(e._currentView.element.id,e),l(e),Trigger.customEvent(e.events.onRenderComplete,e._currentView.element)}function l(t,o=!1,i=!1){o&&function(e){if(e.useLocalStorageForData&&window.localStorage){const t=e._currentView.element.id;!function(e){if(e.useLocalStorageForData&&window.localStorage){const t=window.localStorage.length,n=[],o=e._currentView.element.id;for(let e=0;e<t;e++)Str.startsWithAnyCase(window.localStorage.key(e),r+o)&&n.push(window.localStorage.key(e));const i=n.length;for(let e=0;e<i;e++)window.localStorage.removeItem(n[e])}}(e);const o=JSON.stringify(n[t].typeData);window.localStorage.setItem(r+t,o)}}(t),Is.defined(t._currentView.mapContents)&&(t._currentView.mapContentsScrollLeft=t._currentView.mapContents.scrollLeft),t.views.chart.enabled&&Is.defined(t._currentView.chartContents)&&(t._currentView.chartContentsScrollLeft=t._currentView.chartContents.scrollLeft),t.views.days.enabled&&Is.defined(t._currentView.daysContents)&&(t._currentView.daysContentsScrollLeft=t._currentView.daysContents.scrollLeft),t.views.statistics.enabled&&Is.defined(t._currentView.statisticsContents)&&(t._currentView.statisticsContentsScrollLeft=t._currentView.statisticsContents.scrollLeft),t._currentView.element.innerHTML="",t._currentView.yearsAvailable=function(e){let t=[];if(e.showOnlyDataForYearsAvailable){let n=v(e);for(const e in n)if(n.hasOwnProperty(e)){let n=parseInt(DateTime.getStorageDateYear(e));-1===t.indexOf(n)&&t.push(n)}}return t=t.sort(function(e,t){return e-t}),t}(t),ToolTip.hide(t),function(e){e._currentView.isInFetchMode&&(0===e._currentView.isInFetchModeTimer&&_(e),0===e._currentView.isInFetchModeTimer&&(e._currentView.isInFetchModeTimer=setInterval(()=>{_(e),l(e)},e.dataFetchDelay)))}(t),t.title.showConfigurationButton&&(Disabled.Background.render(t),function(t){t._currentView.configurationDialog=DomElement.create(t._currentView.disabledBackground,"div","dialog configuration");const n=DomElement.create(t._currentView.configurationDialog,"div","dialog-title-bar"),o=DomElement.create(t._currentView.configurationDialog,"div","dialog-contents"),r=DomElement.create(n,"div","dialog-close"),i=DomElement.create(o,"div","side-container panel"),s=DomElement.create(o,"div","side-container panel");DomElement.createWithHTML(n,"span","dialog-title-bar-text",e.text.configurationTitleText),DomElement.createWithHTML(i,"div","side-container-title-text",`${e.text.visibleDaysText}:`),DomElement.createWithHTML(s,"div","side-container-title-text",`${e.text.visibleMonthsText}:`);const a=DomElement.create(s,"div","side-container"),c=DomElement.create(s,"div","side-container");r.onclick=()=>function(e){Disabled.Background.hide(e),Is.defined(e._currentView.configurationDialog)&&"none"!==e._currentView.configurationDialog.style.display&&(e._currentView.configurationDialog.style.display="none");const t=[],n=[];let o=!1;for(let n=0;n<7;n++)e._currentView.dayCheckBoxes[n].checked&&t.push(n+1);for(let t=0;t<12;t++)e._currentView.monthCheckBoxes[t].checked&&n.push(t+1);t.length>=1&&(1===e._currentView.view?e.views.map.daysToShow=t:e.views.chart.enabled&&2===e._currentView.view?e.views.chart.daysToShow=t:e.views.days.enabled&&3===e._currentView.view?e.views.days.daysToShow=t:e.views.statistics.enabled&&4===e._currentView.view?e.views.statistics.daysToShow=t:e.views.map.daysToShow=t,o=!0);n.length>=1&&(1===e._currentView.view?e.views.map.monthsToShow=n:e.views.chart.enabled&&2===e._currentView.view?e.views.chart.monthsToShow=n:e.views.days.enabled&&3===e._currentView.view?e.views.days.monthsToShow=n:e.views.statistics.enabled&&4===e._currentView.view?e.views.statistics.monthsToShow=n:e.views.map.monthsToShow=n,o=!0);o?(l(e),Trigger.customEvent(e.events.onOptionsUpdate,e._currentView.element,e)):ToolTip.hide(e)}(t);for(let n=0;n<7;n++)t._currentView.dayCheckBoxes[n]=DomElement.createCheckBox(i,e.text.dayNames[n],n.toString());for(let n=0;n<7;n++)t._currentView.monthCheckBoxes[n]=DomElement.createCheckBox(a,e.text.monthNames[n],n.toString());for(let n=7;n<12;n++)t._currentView.monthCheckBoxes[n]=DomElement.createCheckBox(c,e.text.monthNames[n],n.toString());ToolTip.add(r,t,e.text.closeToolTipText)}(t)),ToolTip.renderControl(t),function(t){if(t.title.showText||t.title.showYearSelector||t.title.showRefreshButton||t.title.showExportButton||t.title.showImportButton){const n=DomElement.create(t._currentView.element,"div","title-bar"),o=DomElement.create(n,"div","title");if(t.views.chart.enabled||t.views.days.enabled||t.views.statistics.enabled?t.title.showTitleDropDownButton&&DomElement.create(o,"div","down-arrow"):DomElement.addClass(o,"no-click"),t.title.showText&&(o.innerHTML+=t.title.text,t.title.showSectionText&&(DomElement.createWithHTML(o,"span","section-text","["),1===t._currentView.view?DomElement.createWithHTML(o,"span","section-text",e.text.mapText):t.views.chart.enabled&&2===t._currentView.view?DomElement.createWithHTML(o,"span","section-text",e.text.chartText):t.views.days.enabled&&3===t._currentView.view?DomElement.createWithHTML(o,"span","section-text",e.text.daysText):t.views.statistics.enabled&&4===t._currentView.view?DomElement.createWithHTML(o,"span","section-text",e.text.colorRangesText):DomElement.createWithHTML(o,"span","section-text",e.text.mapText),DomElement.createWithHTML(o,"span","section-text","]"))),(t.views.chart.enabled||t.views.days.enabled||t.views.statistics.enabled)&&function(t,n){const o=DomElement.create(n,"div","titles-menu-container"),r=DomElement.create(o,"div","titles-menu");t.title.showTitleDropDownHeaders&&DomElement.createWithHTML(r,"div","title-menu-header",`${e.text.dataText}:`);const i=DomElement.createWithHTML(r,"div","title-menu-item",e.text.mapText);if(c(t,i,1,"map"),t.views.chart.enabled){c(t,DomElement.createWithHTML(r,"div","title-menu-item",e.text.chartText),2,"chart")}if(t.views.days.enabled){t.title.showTitleDropDownHeaders&&DomElement.createWithHTML(r,"div","title-menu-header",`${e.text.yearText}:`);c(t,DomElement.createWithHTML(r,"div","title-menu-item",e.text.daysText),3,"days")}if(t.views.statistics.enabled){t.title.showTitleDropDownHeaders&&DomElement.createWithHTML(r,"div","title-menu-header",`${e.text.statisticsText}:`);c(t,DomElement.createWithHTML(r,"div","title-menu-item",e.text.colorRangesText),4,"statistics")}}(t,o),t.title.showImportButton&&!t._currentView.isInFetchMode){const o=DomElement.createWithHTML(n,"button","import",e.text.importButtonSymbolText);o.onclick=()=>L(t),ToolTip.add(o,t,e.text.importButtonText)}if(t.title.showExportButton){const o=DomElement.createWithHTML(n,"button","export",e.text.exportButtonSymbolText);o.onclick=()=>W(t),ToolTip.add(o,t,e.text.exportButtonText)}if(t.title.showRefreshButton){const o=DomElement.createWithHTML(n,"button","refresh",e.text.refreshButtonSymbolText);ToolTip.add(o,t,e.text.refreshButtonText),o.onclick=()=>{l(t),Trigger.customEvent(t.events.onRefresh,t._currentView.element)}}if(t.title.showYearSelector){const o=DomElement.createWithHTML(n,"button","back",e.text.backButtonSymbolText);if(o.onclick=()=>j(t),ToolTip.add(o,t,e.text.backButtonText),S(t,t._currentView.year)&&(o.disabled=!0),t._currentView.yearText=DomElement.createWithHTML(n,"div","year-text",t._currentView.year.toString()),t.title.showYearSelectionDropDown?function(e){DomElement.create(e._currentView.yearText,"div","down-arrow");const t=DomElement.create(e._currentView.yearText,"div","years-menu-container"),n=DomElement.create(t,"div","years-menu"),o=(new Date).getFullYear();let r=null;t.style.display="block",t.style.visibility="hidden";for(let t=o-e.title.extraSelectionYears;t<o+e.title.extraSelectionYears;t++)if(b(e,t)){let i=u(e,n,t,o);Is.defined(r)||(r=i)}Is.defined(r)&&(n.scrollTop=r.offsetTop-n.offsetHeight/2);t.style.display="none",t.style.visibility="visible"}(t):DomElement.addClass(t._currentView.yearText,"no-click"),t.title.showConfigurationButton){let o=DomElement.create(n,"div","configure");o.onclick=()=>function(e){Disabled.Background.show(e),Is.defined(e._currentView.configurationDialog)&&"block"!==e._currentView.configurationDialog.style.display&&(e._currentView.configurationDialog.style.display="block");let t=[],n=[];1===e._currentView.view?(t=e.views.map.daysToShow,n=e.views.map.monthsToShow):e.views.chart.enabled&&2===e._currentView.view?(t=e.views.chart.daysToShow,n=e.views.chart.monthsToShow):e.views.days.enabled&&3===e._currentView.view?(t=e.views.days.daysToShow,n=e.views.days.monthsToShow):e.views.statistics.enabled&&4===e._currentView.view?(t=e.views.statistics.daysToShow,n=e.views.statistics.monthsToShow):(t=e.views.map.daysToShow,n=e.views.map.monthsToShow);for(let n=0;n<7;n++)e._currentView.dayCheckBoxes[n].checked=x(t,n+1);for(let t=0;t<12;t++)e._currentView.monthCheckBoxes[t].checked=T(n,t);ToolTip.hide(e)}(t),ToolTip.add(o,t,e.text.configurationToolTipText)}if(t.title.showCurrentYearButton){const o=DomElement.createWithHTML(n,"button","current",e.text.currentYearSymbolText);ToolTip.add(o,t,e.text.currentYearText),o.onclick=()=>{t._currentView.year=(new Date).getFullYear()-1,$(t,!1),Trigger.customEvent(t.events.onSetYear,t._currentView.year)}}const r=DomElement.createWithHTML(n,"button","next",e.text.nextButtonSymbolText);r.onclick=()=>$(t),ToolTip.add(r,t,e.text.nextButtonText),V(t,t._currentView.year)&&(r.disabled=!0)}}}(t),function(t,o){t._currentView.mapContents=DomElement.create(t._currentView.element,"div","map-contents"),t.views.chart.enabled&&function(e){e._currentView.chartContents=DomElement.create(e._currentView.element,"div","chart-contents"),O(e._currentView.chartContents,e)}(t);t.views.days.enabled&&function(e){e._currentView.daysContents=DomElement.create(e._currentView.element,"div","days-contents"),O(e._currentView.daysContents,e)}(t);t.views.statistics.enabled&&function(e){e._currentView.statisticsContents=DomElement.create(e._currentView.element,"div","statistics-contents"),O(e._currentView.statisticsContents,e)}(t);if(function(t){const o=DomElement.create(t._currentView.element,"div","guide"),r=DomElement.create(o,"div","map-types");let i=0;for(const o in n[t._currentView.element.id].typeData[e.text.unknownTrendText])if(n[t._currentView.element.id].typeData[e.text.unknownTrendText].hasOwnProperty(o)){i++;break}if(n[t._currentView.element.id].totalTypes>1){if(Is.definedString(t.description.text)){const e=DomElement.create(t._currentView.element,"div","description",o);y(t,e)}for(const o in n[t._currentView.element.id].typeData)(o!==e.text.unknownTrendText||i>0)&&(0===i&&t._currentView.type===e.text.unknownTrendText&&(t._currentView.type=o),f(t,r,o))}else y(t,r);if(t.guide.enabled){const n=DomElement.create(o,"div","map-toggles");if(t.guide.showLessAndMoreLabels){let o=DomElement.createWithHTML(n,"div","less-text",e.text.lessText);t.guide.colorRangeTogglesEnabled?o.onclick=()=>E(t,!1):DomElement.addClass(o,"no-click")}const r=DomElement.create(n,"div","days"),i=B(t),s=i.length;for(let e=0;e<s;e++)h(t,r,i[e]);if(t.guide.showLessAndMoreLabels){const o=DomElement.createWithHTML(n,"div","more-text",e.text.moreText);t.guide.colorRangeTogglesEnabled?o.onclick=()=>E(t,!0):DomElement.addClass(o,"no-click")}}}(t),t.views.map.showNoDataMessageWhenDataIsNotAvailable&&!function(e){let t=!1;const n=v(e),o=e._currentView.year.toString();for(const e in n)if(n.hasOwnProperty(e)&&DateTime.getStorageDateYear(e)===o){t=!0;break}return t}(t)){const n=DomElement.createWithHTML(t._currentView.mapContents,"div","no-data-message",e.text.noMapDataMessage);o&&DomElement.addClass(n,"view-switch")}else{t._currentView.mapContents.style.minHeight="unset",O(t._currentView.mapContents,t);const n=DomElement.create(t._currentView.mapContents,"div","map"),r=t._currentView.year;let i=!1;if(o&&DomElement.addClass(n,"view-switch"),t.views.map.showDayNames){const o=DomElement.create(n,"div","days"),r=t.views.map.showMinimalDayNames&&7===t.views.map.daysToShow.length;t.views.map.showMonthNames&&!t.views.map.placeMonthNamesOnTheBottom||(o.className="days-months-bottom");for(let n=0;n<7;n++)if(x(t.views.map.daysToShow,n+1)){const t=r&&n%3!=0?" ":e.text.dayNames[n];DomElement.createWithHTML(o,"div","day-name",t)}t.views.map.showDaysInReverseOrder&&DomElement.reverseChildrenOrder(o)}const s=DomElement.create(n,"div","months"),a=B(t);for(let n=0;n<12;n++)if(T(t.views.map.monthsToShow,n)){const o=DomElement.create(s,"div","month"),l=DomElement.create(o,"div","day-columns");let c=DateTime.getTotalDaysInMonth(r,n),u=DomElement.create(l,"div","day-column"),m=!1;const w=new Date(r,n,1),g=DateTime.getWeekdayNumber(w);let f=1;c+=g;for(let e=0;e<c;e++){if(e>=g?m=!0:x(t.views.map.daysToShow,f)&&DomElement.create(u,"div","day-disabled"),m){let o=null;if(x(t.views.map.daysToShow,f)&&(o=d(t,u,e-g,n,r,a)),(e+1)%7==0&&(t.views.map.showDaysInReverseOrder&&DomElement.reverseChildrenOrder(u),u=DomElement.create(l,"div","day-column"),f=0,0===t._currentView.dayWidth&&Is.defined(o))){let e=DomElement.getStyleValueByName(o,"margin-left",!0),n=DomElement.getStyleValueByName(o,"margin-right",!0);t._currentView.dayWidth=o.offsetWidth+e+n}}f++}if(t.views.map.showMonthNames){let r;const i=o.offsetWidth;r=t.views.map.placeMonthNamesOnTheBottom?DomElement.createWithHTML(o,"div","month-name-bottom",e.text.monthNames[n]):DomElement.createWithHTML(o,"div","month-name",e.text.monthNames[n],l),Is.defined(r)&&(t.views.map.showMonthDayGaps?r.style.width=`${i}px`:r.style.width=i-t._currentView.dayWidth+"px")}i&&Is.defined(t._currentView.dayWidth)&&(g>0&&!t.views.map.showMonthDayGaps?o.style.marginLeft=-t._currentView.dayWidth+"px":0===g&&t.views.map.showMonthDayGaps&&(o.style.marginLeft=`${t._currentView.dayWidth}px`)),t.views.map.showMonthsInReverseOrder&&DomElement.reverseChildrenOrder(l),i=!0}t.views.map.showMonthsInReverseOrder&&DomElement.reverseChildrenOrder(s),t.views.map.keepScrollPositions&&(t._currentView.mapContents.scrollLeft=t._currentView.mapContentsScrollLeft)}}(t,i),t.views.chart.enabled&&(!function(t,n){const o=DomElement.create(t._currentView.chartContents,"div","chart");let r=DomElement.create(o,"div","y-labels");const i=DomElement.create(o,"div","day-lines"),s=B(t),a=function(e){let t=0;const n=v(e);for(let o=0;o<12;o++){const r=DateTime.getTotalDaysInMonth(e._currentView.year,o);for(let i=0;i<r;i++){const r=new Date(e._currentView.year,o,i+1),s=DateTime.toStorageDate(r),a=DateTime.getWeekdayNumber(r);n.hasOwnProperty(s)&&T(e.views.chart.monthsToShow,o)&&x(e.views.chart.daysToShow,a)&&(t=Math.max(t,n[s]))}}return t}(t),l=t._currentView.year;let c=0;n&&DomElement.addClass(o,"view-switch");if(a>0&&t.views.chart.showChartYLabels){const e=DomElement.createWithHTML(r,"div","label-0",a.toString());DomElement.createWithHTML(r,"div","label-25",(3*Math.floor(a/4)).toString()),DomElement.createWithHTML(r,"div","label-50",Math.floor(a/2).toString()),DomElement.createWithHTML(r,"div","label-75",Math.floor(a/4).toString()),DomElement.createWithHTML(r,"div","label-100","0"),r.style.width=`${e.offsetWidth}px`,c=r.offsetWidth+DomElement.getStyleValueByName(r,"margin-right",!0)}else r.parentNode.removeChild(r),r=null;if(0===a){t._currentView.chartContents.style.minHeight=`${t._currentView.mapContents.offsetHeight}px`,o.parentNode.removeChild(o);const r=DomElement.createWithHTML(t._currentView.chartContents,"div","no-data-message",e.text.noChartDataMessage);n&&DomElement.addClass(r,"view-switch")}else{const n=t._currentView.mapContents.offsetHeight/a;let o=0,r=0;for(let e=0;e<12;e++)if(T(t.views.chart.monthsToShow,e)){const a=DateTime.getTotalDaysInMonth(l,e);let c=1;o++;for(let o=0;o<a;o++)x(t.views.chart.daysToShow,c)&&m(i,t,o+1,e,l,s,n),(o+1)%7==0&&(c=0),c++,r++}if(t.views.chart.showInReverseOrder&&DomElement.reverseChildrenOrder(i),t.views.chart.showMonthNames){const n=DomElement.create(t._currentView.chartContents,"div","chart-months"),r=i.offsetWidth/o;let s=0;const a=o=>{if(T(t.views.chart.monthsToShow,o)){DomElement.createWithHTML(n,"div","month-name",e.text.monthNames[o]).style.left=`${c+r*s}px`,s++}};if(t.views.chart.showInReverseOrder)for(let e=12;e--;)a(e);else for(let e=0;e<12;e++)a(e);n.style.width=`${i.offsetWidth}px`;const l=DomElement.create(n,"div","month-name-space");l.style.height=`${n.offsetHeight}px`,l.style.width=`${c}px`}t.views.chart.keepScrollPositions&&(t._currentView.chartContents.scrollLeft=t._currentView.chartContentsScrollLeft)}}(t,i),t._currentView.chartContents.style.display="none"),t.views.days.enabled&&(!function(t,n){const o=DomElement.create(t._currentView.daysContents,"div","days"),r=DomElement.create(t._currentView.daysContents,"div","day-names");let i=DomElement.create(o,"div","y-labels");const s=DomElement.create(o,"div","day-lines"),a=function(e){const t={days:{1:0,2:0,3:0,4:0,5:0,6:0,7:0},largestValue:0},n=v(e);for(let o=0;o<12;o++){const r=DateTime.getTotalDaysInMonth(e._currentView.year,o);for(let i=0;i<r;i++){const r=DateTime.toStorageDate(new Date(e._currentView.year,o,i+1));if(n.hasOwnProperty(r)){const o=DateTime.getStorageDate(r),i=new Date(parseInt(o[2]),parseInt(o[1]),parseInt(o[0])),s=DateTime.getWeekdayNumber(i)+1;!N(e,i).matched&&T(e.views.days.monthsToShow,i.getMonth())&&x(e.views.days.daysToShow,s)&&(t.days[s]+=n[r],t.largestValue=Math.max(t.largestValue,t.days[s]))}}}return t}(t);n&&DomElement.addClass(o,"view-switch");if(a.largestValue>0&&t.views.days.showChartYLabels){const e=DomElement.createWithHTML(i,"div","label-0",a.largestValue.toString());DomElement.createWithHTML(i,"div","label-25",(3*Math.floor(a.largestValue/4)).toString()),DomElement.createWithHTML(i,"div","label-50",Math.floor(a.largestValue/2).toString()),DomElement.createWithHTML(i,"div","label-75",Math.floor(a.largestValue/4).toString()),DomElement.createWithHTML(i,"div","label-100","0"),i.style.width=`${e.offsetWidth}px`,r.style.paddingLeft=`${i.offsetWidth+DomElement.getStyleValueByName(i,"margin-right",!0)}px`}else i.parentNode.removeChild(i),i=null;if(0===a.largestValue){t._currentView.daysContents.style.minHeight=`${t._currentView.mapContents.offsetHeight}px`,o.parentNode.removeChild(o),r.parentNode.removeChild(r);const i=DomElement.createWithHTML(t._currentView.daysContents,"div","no-days-message",e.text.noDaysDataMessage);n&&DomElement.addClass(i,"view-switch")}else{const n=t._currentView.mapContents.offsetHeight/a.largestValue;for(const o in a.days)a.days.hasOwnProperty(o)&&x(t.views.days.daysToShow,parseInt(o))&&(w(s,parseInt(o),a.days[o],t,n),t.views.days.showDayNames&&DomElement.createWithHTML(r,"div","day-name",e.text.dayNames[parseInt(o)-1]));t.views.days.showInReverseOrder&&(DomElement.reverseChildrenOrder(s),DomElement.reverseChildrenOrder(r)),t.views.days.keepScrollPositions&&(t._currentView.daysContents.scrollLeft=t._currentView.daysContentsScrollLeft)}}(t,i),t._currentView.daysContents.style.display="none"),t.views.statistics.enabled&&(!function(t,n){const o=DomElement.create(t._currentView.statisticsContents,"div","statistics"),r=DomElement.create(t._currentView.statisticsContents,"div","statistics-ranges");let i=DomElement.create(o,"div","y-labels");const s=DomElement.create(o,"div","range-lines"),a=B(t),l=function(e,t){const n=v(e),o={types:{},largestValue:0};o.types[0]=0;for(let r=0;r<12;r++){const i=DateTime.getTotalDaysInMonth(e._currentView.year,r);for(let s=0;s<i;s++){const i=DateTime.toStorageDate(new Date(e._currentView.year,r,s+1));if(n.hasOwnProperty(i)){const r=DateTime.getStorageDate(i),s=new Date(parseInt(r[2]),parseInt(r[1]),parseInt(r[0])),a=DateTime.getWeekdayNumber(s)+1;if(!N(e,s).matched&&T(e.views.statistics.monthsToShow,s.getMonth())&&x(e.views.statistics.daysToShow,a)){const r=I(e,t,n[i]);Is.defined(r)?(o.types.hasOwnProperty(r.minimum.toString())||(o.types[r.minimum.toString()]=0),o.types[r.minimum]++,o.largestValue=Math.max(o.largestValue,o.types[r.minimum])):o.types[0]++}}}}return o}(t,a);n&&DomElement.addClass(o,"view-switch");if(l.largestValue>0&&t.views.statistics.showChartYLabels){const e=DomElement.createWithHTML(i,"div","label-0",l.largestValue.toString());DomElement.createWithHTML(i,"div","label-25",(3*Math.floor(l.largestValue/4)).toString()),DomElement.createWithHTML(i,"div","label-50",Math.floor(l.largestValue/2).toString()),DomElement.createWithHTML(i,"div","label-75",Math.floor(l.largestValue/4).toString()),DomElement.createWithHTML(i,"div","label-100","0"),i.style.width=`${e.offsetWidth}px`,r.style.paddingLeft=`${i.offsetWidth+DomElement.getStyleValueByName(i,"margin-right",!0)}px`}else i.parentNode.removeChild(i),i=null;if(0===l.largestValue){t._currentView.statisticsContents.style.minHeight=`${t._currentView.mapContents.offsetHeight}px`,o.parentNode.removeChild(o),r.parentNode.removeChild(r);const i=DomElement.createWithHTML(t._currentView.statisticsContents,"div","no-statistics-message",e.text.noStatisticsDataMessage);n&&DomElement.addClass(i,"view-switch")}else{const e=t._currentView.mapContents.offsetHeight/l.largestValue;t.views.statistics.showColorRangeLabels||r.parentNode.removeChild(r);for(const n in l.types)if(l.types.hasOwnProperty(n)){g(parseInt(n),s,l.types[n],t,a,e);const o=M(a,parseInt(n));t.views.statistics.showColorRangeLabels&&(t.views.statistics.useColorRangeNamesForLabels&&Is.defined(o)&&Is.definedString(o.name)?DomElement.createWithHTML(r,"div","range-name",o.name):DomElement.createWithHTML(r,"div","range-name",`${n}+`))}t.views.statistics.showInReverseOrder&&(DomElement.reverseChildrenOrder(s),DomElement.reverseChildrenOrder(r)),t.views.statistics.keepScrollPositions&&(t._currentView.statisticsContents.scrollLeft=t._currentView.statisticsContentsScrollLeft)}}(t,i),t._currentView.statisticsContents.style.display="none"),t._currentView.mapContents.style.display="none",1===t._currentView.view?t._currentView.mapContents.style.display="block":t.views.chart.enabled&&2===t._currentView.view?t._currentView.chartContents.style.display="block":t.views.days.enabled&&3===t._currentView.view?t._currentView.daysContents.style.display="block":t.views.statistics.enabled&&4===t._currentView.view?t._currentView.statisticsContents.style.display="block":(t._currentView.view=1,t._currentView.mapContents.style.display="block")}function c(e,t,n,o){e._currentView.view===n?DomElement.addClass(t,"title-menu-item-active"):t.onclick=()=>{e._currentView.view=n,Trigger.customEvent(e.events.onViewSwitch,o),l(e,!1,!0)}}function u(e,t,n,o){let r=null;const i=DomElement.createWithHTML(t,"div","year-menu-item",n.toString());return e._currentView.year!==n?(i.onclick=()=>{e._currentView.year=n,l(e),Trigger.customEvent(e.events.onSetYear,e._currentView.year)},n===o&&DomElement.addClass(i,"year-menu-item-current")):(DomElement.addClass(i,"year-menu-item-active"),r=i),r}function d(e,t,o,r,i,s){const a=o+1,l=DomElement.create(t,"div","day"),c=new Date(i,r,a),u=N(e,c);let d=n[e._currentView.element.id].typeData[e._currentView.type][DateTime.toStorageDate(c)];d=Default2.getNumber(d,0),l.setAttribute("data-heat-js-map-date",`${Str.padNumber(a)}-${Str.padNumber(r+1)}-${i}`),p(e,l,c,d),e.views.map.showDayNumbers&&d>0?l.innerHTML=d.toString():e.views.map.showDayDateNumbers&&(l.innerHTML=a.toString()),Is.definedFunction(e.events.onDayClick)?l.onclick=()=>Trigger.customEvent(e.events.onDayClick,c,d,u.matched):DomElement.addClass(l,"no-hover");const m=I(e,s,d,c);return Is.defined(m)&&C(e,m.id)&&(Is.definedString(m.mapCssClassName)?DomElement.addClass(l,m.mapCssClassName):DomElement.addClass(l,m.cssClassName)),l}function m(e,t,n,o,r,i,s){const a=new Date(r,o,n),l=DomElement.create(e,"div","day-line"),c=N(t,a);let u=v(t)[DateTime.toStorageDate(a)];u=Default2.getNumber(u,0),l.setAttribute("data-heat-js-chart-date",`${Str.padNumber(n)}-${Str.padNumber(o+1)}-${r}`),p(t,l,a,u),t.views.chart.showLineNumbers&&u>0?(DomElement.addClass(l,"day-line-number"),l.innerHTML=u.toString()):t.views.chart.showLineDateNumbers&&(DomElement.addClass(l,"day-line-number"),l.innerHTML=n.toString());const d=u*s;l.style.height=`${d}px`,d<=0&&(l.style.visibility="hidden"),Is.definedFunction(t.events.onDayClick)?l.onclick=()=>Trigger.customEvent(t.events.onDayClick,a,u,c.matched):DomElement.addClass(l,"no-hover");const m=I(t,i,u,a);Is.defined(m)&&C(t,m.id)&&(Is.definedString(m.chartCssClassName)?DomElement.addClass(l,m.chartCssClassName):DomElement.addClass(l,m.cssClassName))}function w(e,t,n,o,r){const i=DomElement.create(e,"div","day-line"),s=n*r;i.style.height=`${s}px`,i.setAttribute("data-heat-js-day-number",t.toString()),s<=0&&(i.style.visibility="hidden"),ToolTip.add(i,o,n.toString()),Is.definedFunction(o.events.onWeekDayClick)?i.onclick=()=>Trigger.customEvent(o.events.onWeekDayClick,t,n,o._currentView.year):DomElement.addClass(i,"no-hover"),o.views.days.showDayNumbers&&n>0&&(DomElement.addClass(i,"day-line-number"),DomElement.createWithHTML(i,"div","count",n.toString()))}function g(e,t,n,o,r,i){const s=DomElement.create(t,"div","range-line"),a=M(r,e),l=n*i;s.style.height=`${l}px`,Is.defined(a)&&Is.definedString(a.name)&&s.setAttribute("data-heat-js-statistics-color-range-name",a.name),l<=0&&(s.style.visibility="hidden"),ToolTip.add(s,o,n.toString()),o.views.statistics.showRangeNumbers&&n>0&&(DomElement.addClass(s,"range-line-number"),DomElement.createWithHTML(s,"div","count",n.toString())),Is.definedFunction(o.events.onStatisticClick)?s.onclick=()=>Trigger.customEvent(o.events.onStatisticClick,a,n,o._currentView.year):DomElement.addClass(s,"no-hover"),Is.defined(a)&&C(o,a.id)&&(Is.definedString(a.statisticsCssClassName)?DomElement.addClass(s,a.statisticsCssClassName):DomElement.addClass(s,a.cssClassName))}function f(e,t,n){const o=DomElement.createWithHTML(t,"button","type",n);e._currentView.type===n&&DomElement.addClass(o,"active"),o.onclick=()=>{e._currentView.type!==n&&(e._currentView.type=n,Trigger.customEvent(e.events.onTypeSwitch,n),l(e))}}function h(e,t,n){const o=DomElement.create(t,"div");o.className="day",ToolTip.add(o,e,n.tooltipText),C(e,n.id)&&(1===e._currentView.view&&Is.definedString(n.mapCssClassName)?DomElement.addClass(o,n.mapCssClassName):e.views.chart.enabled&&2===e._currentView.view&&Is.definedString(n.chartCssClassName)?DomElement.addClass(o,n.chartCssClassName):e.views.statistics.enabled&&4===e._currentView.view&&Is.definedString(n.statisticsCssClassName)?DomElement.addClass(o,n.statisticsCssClassName):DomElement.addClass(o,n.cssClassName)),e.guide.showNumbersInGuide&&(DomElement.addClass(o,"day-number"),o.innerHTML=`${n.minimum}+`),e.guide.colorRangeTogglesEnabled?o.onclick=()=>function(e,t){const n=e.colorRanges.length;for(let o=0;o<n;o++){const n=e.colorRanges[o];if(n.id===t){n.visible=!Default2.getBoolean(n.visible,!0),Trigger.customEvent(e.events.onColorRangeTypeToggle,n.id,n.visible),l(e);break}}}(e,n.id):DomElement.addClass(o,"no-hover")}function y(e,t){if(Is.definedString(e.description.text))if(Is.definedString(e.description.url)){const n=DomElement.createWithHTML(t,"a","label",e.description.text);n.href=e.description.url,n.target=e.description.urlTarget}else DomElement.createWithHTML(t,"span","label",e.description.text)}function p(t,n,o,r){if(Is.definedFunction(t.events.onDayToolTipRender))ToolTip.add(n,t,Trigger.customEvent(t.events.onDayToolTipRender,o,r));else{let r=DateTime.getCustomFormattedDateText(e,t.tooltip.dayText,o);if(t.showHolidaysInDayToolTips){let e=N(t,o);e.matched&&Is.definedString(e.name)&&(r+=`: ${e.name}`)}ToolTip.add(n,t,r)}}function D(t,o,i=!0){n[t]={options:o,typeData:{},totalTypes:1},n[t].typeData[e.text.unknownTrendText]={},i&&!o._currentView.isInFetchMode&&function(t){if(t.useLocalStorageForData&&window.localStorage){const o=window.localStorage.length,i=t._currentView.element.id;for(let t=0;t<o;t++){const o=window.localStorage.key(t);if(Str.startsWithAnyCase(o,r)){const t=window.localStorage.getItem(o),r=Default2.getObjectFromString(t,e);if(r.parsed){n[i].typeData=r.object,n[i].totalTypes=0;for(const e in n[i].typeData)n[i].typeData.hasOwnProperty(e)&&n[i].totalTypes++}}}}}(o)}function v(e){return n[e._currentView.element.id].typeData[e._currentView.type]}function T(e,t){return e.indexOf(t+1)>-1}function x(e,t){return e.indexOf(t)>-1}function b(e,t){return-1===e.yearsToHide.indexOf(t)&&(0===e._currentView.yearsAvailable.length||e._currentView.yearsAvailable.indexOf(t)>-1)}function S(e,t){return e._currentView.yearsAvailable.length>0&&t<=e._currentView.yearsAvailable[0]}function V(e,t){return e._currentView.yearsAvailable.length>0&&t>=e._currentView.yearsAvailable[e._currentView.yearsAvailable.length-1]}function _(t){const o=t._currentView.element.id,r=Trigger.customEvent(t.events.onDataFetch,o);if(Is.definedObject(r)){D(o,t,!1);for(const t in r)r.hasOwnProperty(t)&&(n[o].typeData[e.text.unknownTrendText].hasOwnProperty(t)||(n[o].typeData[e.text.unknownTrendText][t]=0),n[o].typeData[e.text.unknownTrendText][t]+=r[t])}}function C(e,t){let n=!1;if(t===o)n=!0;else{const o=e.colorRanges.length;for(let r=0;r<o;r++){const o=e.colorRanges[r];if(o.id===t&&Default2.getBoolean(o.visible,!0)){n=!0;break}}}return n}function E(e,t){const n=e.colorRanges.length;for(let o=0;o<n;o++)e.colorRanges[o].visible=t,Trigger.customEvent(e.events.onColorRangeTypeToggle,e.colorRanges[o].id,t);l(e)}function I(e,t,n,r=null){let i=null;if(Is.defined(r)&&N(e,r).matched&&(i={cssClassName:"holiday",id:o,visible:!0,minimum:0}),!Is.defined(i)){const e=t.length;for(let o=0;o<e;o++){const e=t[o];if(!(n>=e.minimum))break;i=e}}return i}function M(e,t){const n=e.length;let o=null;for(let r=0;r<n;r++){const n=e[r];if(t.toString()===n.minimum.toString()){o=n;break}}return o}function B(e){return e.colorRanges.sort(function(e,t){return e.minimum-t.minimum})}function N(e,t){const n={matched:!1,name:null},o=e.holidays.length,r=t.getDate(),i=t.getMonth()+1,s=t.getFullYear();for(let t=0;t<o;t++){let o=e.holidays[t];if(Is.definedString(o.date)&&o.showInViews){const e=o.date.split("/");if(2===e.length?n.matched=r===parseInt(e[0])&&i===parseInt(e[1]):3===e.length&&(n.matched=r===parseInt(e[0])&&i===parseInt(e[1])&&s===parseInt(e[2])),n.matched){n.name=o.name;break}}}return n}function O(e,t){t.allowFileImports&&!t._currentView.isInFetchMode&&(e.ondragover=DomElement.cancelBubble,e.ondragenter=DomElement.cancelBubble,e.ondragleave=DomElement.cancelBubble,e.ondrop=e=>{DomElement.cancelBubble(e),Is.defined(window.FileReader)&&e.dataTransfer.files.length>0&&k(e.dataTransfer.files,t)})}function L(e){const t=DomElement.createWithNoContainer("input");t.type="file",t.accept=".json, .txt, .csv",t.multiple=!0,t.onchange=()=>k(t.files,e),t.click()}function k(e,t){const n=e.length,o=[],r=v(t),i=(e,i)=>{o.push(e);for(const e in i)i.hasOwnProperty(e)&&(r.hasOwnProperty(e)||(r[e]=0),r[e]+=i[e]);o.length===n&&(Trigger.customEvent(t.events.onImport,t._currentView.element),l(t))};for(let t=0;t<n;t++){const n=e[t],o=n.name.split(".").pop().toLowerCase();"json"===o?A(n,i):"txt"===o?F(n,i):"csv"===o&&H(n,i)}}function A(t,n){const o=new FileReader;let r={};o.onloadend=()=>n(t.name,r),o.onload=t=>{const n=Default2.getObjectFromString(t.target.result,e);n.parsed&&Is.definedObject(n.object)&&(r=n.object)},o.readAsText(t)}function F(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().split("\n"),n=t.length;for(let e=0;e<n;e++){const n=t[e].split(":");o[n[0].trim()]=parseInt(n[1].trim())}},n.readAsText(e)}function H(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().replace(new RegExp('"',"g"),"").split("\n");t.shift();let n=t.length;for(let e=0;e<n;e++){let n=t[e].split(",");o[n[0].trim()]=parseInt(n[1].trim())}},n.readAsText(e)}function W(t,n=null){let o=null;const r=function(e){let t=null;"csv"===e.exportType.toLowerCase()?t="text/csv":"json"===e.exportType.toLowerCase()?t="application/json":"xml"===e.exportType.toLowerCase()?t="application/xml":"txt"===e.exportType.toLowerCase()&&(t="text/plain");return t}(t),i=Default2.getString(n,t.exportType).toLowerCase();if("csv"===i?o=function(t){const n=R(t),o=[];for(const e in n)n.hasOwnProperty(e)&&o.push(Y([P(e),P(n[e].toString())]));o.length>0&&o.unshift(Y([P(e.text.dateText),P(e.text.countText)]));return o.join("\n")}(t):"json"===i?o=function(e){return JSON.stringify(R(e))}(t):"xml"===i?o=function(e){const t=R(e),n=[];n.push('<?xml version="1.0" ?>'),n.push("<Dates>");for(const e in t)t.hasOwnProperty(e)&&(n.push("<Date>"),n.push(`<FullDate>${e}</FullDate>`),n.push(`<Count>${t[e].toString()}</Count>`),n.push("</Date>"));return n.push("</Dates>"),n.join("\n")}(t):"txt"===i&&(o=function(e){const t=R(e),n=[];for(const e in t)t.hasOwnProperty(e)&&n.push(`${e}: ${t[e].toString()}`);return n.join("\n")}(t)),Is.definedString(o)){const n=DomElement.create(document.body,"a");n.style.display="none",n.setAttribute("target","_blank"),n.setAttribute("href",`data:${r};charset=utf-8,${encodeURIComponent(o)}`),n.setAttribute("download",function(t){const n=new Date,o=`${Str.padNumber(n.getDate())}-${Str.padNumber(n.getMonth()+1)}-${n.getFullYear()}`,r=`${Str.padNumber(n.getHours())}-${Str.padNumber(n.getMinutes())}`;let i="";t._currentView.type!==e.text.unknownTrendText&&(i=`${t._currentView.type.toLowerCase().replace(/ /g,"_")}_`);return`${i}${o}_${r}.${t.exportType.toLowerCase()}`}(t)),n.click(),document.body.removeChild(n),Trigger.customEvent(t.events.onExport,t._currentView.element)}}function R(e){const t={},n=v(e);if(e.exportOnlyYearBeingViewed)for(let o=0;o<12;o++){const r=DateTime.getTotalDaysInMonth(e._currentView.year,o);for(let i=0;i<r;i++){const r=DateTime.toStorageDate(new Date(e._currentView.year,o,i+1));n.hasOwnProperty(r)&&(t[r]=n[r])}}else{const e=[];for(const t in n)n.hasOwnProperty(t)&&e.push(t);e.sort();const o=e.length;for(let r=0;r<o;r++){const o=e[r];n.hasOwnProperty(o)&&(t[o]=n[o])}}return t}function P(e){let t=e.toString().replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");return t=t.replace(/"/g,'""'),t=`"${t}"`,t}function Y(e){return e.join(",")}function j(e,t=!0){let n=!0,o=e._currentView.year;for(o--;!b(e,o);){if(S(e,o)){n=!1;break}o--}n&&(e._currentView.year=o,l(e),t&&Trigger.customEvent(e.events.onBackYear,e._currentView.year))}function $(e,t=!0){let n=!0,o=e._currentView.year;for(o++;!b(e,o);){if(V(e,o)){n=!1;break}o++}n&&(e._currentView.year=o,l(e),t&&Trigger.customEvent(e.events.onNextYear,e._currentView.year))}function U(e){e._currentView.element.innerHTML="",DomElement.removeClass(e._currentView.element,"heat-js"),ToolTip.assignToEvents(e,!1),document.body.removeChild(e._currentView.tooltip),e._currentView.isInFetchMode&&Is.defined(e._currentView.isInFetchModeTimer)&&clearInterval(e._currentView.isInFetchModeTimer),Trigger.customEvent(e.events.onDestroy,e._currentView.element)}function J(){if(e.observationMode){if(!Is.defined(t)){t=new MutationObserver((e,t)=>{G.renderAll()});const e={attributes:!0,childList:!0,subtree:!0};t.observe(document.body,e)}}else t.disconnect(),t=null}const G={addDates:function(t,o,r=null,i=!0){if(Is.definedString(t)&&Is.definedArray(o)&&n.hasOwnProperty(t)){const s=n[t].options;if(!s._currentView.isInFetchMode){r=Default2.getString(r,e.text.unknownTrendText);const n=o.length;for(let e=0;e<n;e++)G.addDate(t,o[e],r,!1);i&&l(s,!0)}}return G},addDate:function(t,o,r=null,i=!0){if(Is.definedString(t)&&Is.definedDate(o)&&n.hasOwnProperty(t)){const s=n[t].options;if(!s._currentView.isInFetchMode){r=Default2.getString(r,e.text.unknownTrendText);const a=DateTime.toStorageDate(o);n[t].typeData.hasOwnProperty(r)||(n[t].typeData[r]={},n[t].totalTypes++),n[t].typeData[r].hasOwnProperty(a)||(n[t].typeData[r][a]=0),n[t].typeData[r][a]++,Trigger.customEvent(s.events.onAdd,s._currentView.element),i&&l(s,!0)}}return G},updateDate:function(t,o,r,i=null,s=!0){if(Is.definedString(t)&&Is.definedDate(o)&&n.hasOwnProperty(t)){const a=n[t].options;if(!a._currentView.isInFetchMode&&r>0){const c=DateTime.toStorageDate(o);n[t].typeData.hasOwnProperty(i)&&(i=Default2.getString(i,e.text.unknownTrendText),n[t].typeData[i][c]=r,Trigger.customEvent(a.events.onUpdate,a._currentView.element),s&&l(a,!0))}}return G},removeDates:function(t,o,r=null,i=!0){if(Is.definedString(t)&&Is.definedArray(o)&&n.hasOwnProperty(t)){const s=n[t].options;if(!s._currentView.isInFetchMode){r=Default2.getString(r,e.text.unknownTrendText);const n=o.length;for(let e=0;e<n;e++)G.removeDate(t,o[e],r,!1);i&&l(s,!0)}}return G},removeDate:function(t,o,r=null,i=!0){if(Is.definedString(t)&&Is.definedDate(o)&&n.hasOwnProperty(t)){const s=n[t].options;if(!s._currentView.isInFetchMode){const a=DateTime.toStorageDate(o);n[t].typeData.hasOwnProperty(r)&&n[t].typeData[r].hasOwnProperty(a)&&(r=Default2.getString(r,e.text.unknownTrendText),n[t].typeData[r][a]>0&&n[t].typeData[r][a]--,Trigger.customEvent(s.events.onRemove,s._currentView.element),i&&l(s,!0))}}return G},clearDate:function(t,o,r=null,i=!0){if(Is.definedString(t)&&Is.definedDate(o)&&n.hasOwnProperty(t)){const s=n[t].options;if(!s._currentView.isInFetchMode){const a=DateTime.toStorageDate(o);n[t].typeData.hasOwnProperty(r)&&n[t].typeData[r].hasOwnProperty(a)&&(r=Default2.getString(r,e.text.unknownTrendText),delete n[t].typeData[r][a],Trigger.customEvent(s.events.onClear,s._currentView.element),i&&l(s,!0))}}return G},resetAll:function(e=!0){for(const t in n)n.hasOwnProperty(t)&&G.reset(t,e);return G},reset:function(t,o=!0){if(Is.definedString(t)&&n.hasOwnProperty(t)){const r=n[t].options;r._currentView.isInFetchMode||(r._currentView.type=e.text.unknownTrendText,D(t,r,!1),Trigger.customEvent(r.events.onReset,r._currentView.element),o&&l(r,!0))}return G},import:function(e,t=null){return Is.definedString(e)&&n.hasOwnProperty(e)&&(Is.definedArray(t)?k(t,n[e].options):L(n[e].options)),G},export:function(e,t=null){return Is.definedString(e)&&n.hasOwnProperty(e)&&W(n[e].options,t),G},refresh:function(e){if(Is.definedString(e)&&n.hasOwnProperty(e)){const t=n[e].options;l(t,!0),Trigger.customEvent(t.events.onRefresh,t._currentView.element)}return G},refreshAll:function(){for(const e in n)if(n.hasOwnProperty(e)){const t=n[e].options;l(t,!0),Trigger.customEvent(t.events.onRefresh,t._currentView.element)}return G},setYear:function(e,t){if(Is.definedString(e)&&Is.definedNumber(t)&&n.hasOwnProperty(e)){const o=n[e].options;o._currentView.year=t,b(o,o._currentView.year)?l(o):$(o,!1),Trigger.customEvent(o.events.onSetYear,o._currentView.year)}return G},setYearToHighest:function(e){if(Is.definedString(e)&&n.hasOwnProperty(e)){const t=n[e].options,o=v(t);let r=0;for(const e in o)o.hasOwnProperty(e)&&(r=Math.max(r,parseInt(DateTime.getStorageDateYear(e))));r>0&&(t._currentView.year=r,b(t,t._currentView.year)?l(t):$(t,!1),Trigger.customEvent(t.events.onSetYear,t._currentView.year))}return G},setYearToLowest:function(e){if(Is.definedString(e)&&n.hasOwnProperty(e)){const t=n[e].options,o=v(t);let r=9999;for(const e in o)o.hasOwnProperty(e)&&(r=Math.min(r,parseInt(DateTime.getStorageDateYear(e))));r<9999&&(t._currentView.year=r,b(t,t._currentView.year)?l(t):j(t,!1),Trigger.customEvent(t.events.onSetYear,t._currentView.year))}return G},moveToPreviousYear:function(e){return Is.definedString(e)&&n.hasOwnProperty(e)&&j(n[e].options),G},moveToNextYear:function(e){return Is.definedString(e)&&n.hasOwnProperty(e)&&$(n[e].options),G},moveToCurrentYear:function(e){if(Is.definedString(e)&&n.hasOwnProperty(e)){const t=n[e].options;t._currentView.year=(new Date).getFullYear(),b(t,t._currentView.year)?l(t):$(t,!1),Trigger.customEvent(t.events.onSetYear,t._currentView.year)}return G},getYear:function(e){let t=-1;if(Is.definedString(e)&&n.hasOwnProperty(e)){t=n[e].options._currentView.year}return t},render:function(t,n){return Is.definedObject(t)&&Is.definedObject(n)&&a(Binding.Options.getForNewInstance(e,n,t)),G},renderAll:function(){return i(),G},switchView:function(e,t){if(Is.definedString(e)&&Is.definedString(t)&&n.hasOwnProperty(e)){const o=n[e].options;let r;r="map"===t.toLowerCase()?1:"chart"===t.toLowerCase()?2:"days"===t.toLowerCase()?3:"statistics"===t.toLowerCase()?4:1,Is.definedNumber(r)&&(o._currentView.view=r,Trigger.customEvent(o.events.onViewSwitch,t),l(o,!1,!0))}return G},switchType:function(e,t){if(Is.definedString(e)&&Is.definedString(t)&&n.hasOwnProperty(e)&&n[e].typeData.hasOwnProperty(t)){const o=n[e].options;o._currentView.type!==t&&(o._currentView.type=t,Trigger.customEvent(o.events.onTypeSwitch,t),l(o))}return G},updateOptions:function(e,t){if(Is.definedString(e)&&Is.definedObject(t)&&n.hasOwnProperty(e)){const o=n[e].options,r=Binding.Options.get(t);let i=!1;for(const e in r)r.hasOwnProperty(e)&&o.hasOwnProperty(e)&&o[e]!==r[e]&&(o[e]=r[e],i=!0);i&&(l(o,!0),Trigger.customEvent(o.events.onRefresh,o._currentView.element),Trigger.customEvent(o.events.onOptionsUpdate,o._currentView.element,o))}return G},destroyAll:function(){for(const e in n)n.hasOwnProperty(e)&&U(n[e].options);return n={},G},destroy:function(e){return Is.definedString(e)&&n.hasOwnProperty(e)&&(U(n[e].options),delete n[e]),G},setConfiguration:function(t,n=!0){if(Is.definedObject(t)){let o=!1;const r=e;for(const n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&r[n]!==t[n]&&(r[n]=t[n],o=!0);o&&(e=Config.Options.get(r),J(),n&&G.refreshAll())}return G},getIds:function(){const e=[];for(const t in n)n.hasOwnProperty(t)&&e.push(t);return e},getVersion:function(){return"4.3.4"}};e=Config.Options.get(),document.addEventListener("DOMContentLoaded",()=>{J(),i()}),window.addEventListener("pagehide",()=>function(){for(const e in n)if(n.hasOwnProperty(e)){const t=n[e].options;Is.defined(t._currentView.isInFetchModeTimer)&&(clearInterval(t._currentView.isInFetchModeTimer),t._currentView.isInFetchModeTimer=0)}e.observationMode&&Is.defined(t)&&t.disconnect()}()),Is.defined(window.$heat)||(window.$heat=G)})();