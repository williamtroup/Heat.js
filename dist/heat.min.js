"use strict";var e,t,n,o,i,r,a,s,l,c,d,u,w,g,h,m,p,y,v,f,T,b,V=(e=>(e.csv="csv",e.json="json",e.txt="txt",e.md="md",e.tsv="tsv",e.yaml="yaml",e.toml="toml",e))(V||{}),_=(e=>(e.csv="csv",e.json="json",e.xml="xml",e.txt="txt",e.html="html",e.md="md",e.tsv="tsv",e.yaml="yaml",e.toml="toml",e))(_||{});(e=>{let t;e.LOCAL_STORAGE_START_ID="HJS_",e.COLOR_RANGE_HOLIDAY_ID="HOLIDAY",e.DEFAULT_MINIMUM_HEIGHT=213,e.MAXIMUM_FILE_IMPORTS=5,(e=>{let t,n;e.HEAT_JS="data-heat-js",(e=>{let t;var n;let o;var i;let r;var a;let s;let l;let c;var d;(n=t=e.Map||(e.Map={})).HEAT_JS_DATE="data-heat-js-map-date",n.HEAT_JS_MINIMUM="data-heat-js-map-minimum",n.HEAT_JS_MONTH_NUMBER="data-heat-js-map-month-number",(i=o=e.Line||(e.Line={})).HEAT_JS_DATE="data-heat-js-line-date",i.HEAT_JS_MINIMUM="data-heat-js-line-minimum",(a=r=e.Chart||(e.Chart={})).HEAT_JS_DATE="data-heat-js-chart-date",a.HEAT_JS_MINIMUM="data-heat-js-chart-minimum",(s=e.Days||(e.Days={})).HEAT_JS_NUMBER="data-heat-js-day-number",(l=e.Month||(e.Month={})).HEAT_JS_NUMBER="data-heat-js-month-number",(d=c=e.ColorRanges||(e.ColorRanges={})).HEAT_JS_COLOR_RANGE_NAME="data-heat-js-color-range-name",d.HEAT_JS_MINIMUM="data-heat-js-color-range-minimum"})(t=e.View||(e.View={})),(e=>{let t;(t=e.ColorRangeToggle||(e.ColorRangeToggle={})).HEAT_JS_MINIMUM="data-heat-js-color-range-toggle-minimum"})(n=e.Area||(e.Area={}))})(t=e.Attribute||(e.Attribute={}))})(e||(e={})),(e=>{function t(e){return null!=e&&""!==e.toString()}function n(e){return t(e)&&"object"==typeof e}function o(e){return n(e)&&e instanceof Array}e.defined=t,e.definedObject=n,e.definedBoolean=function(e){return t(e)&&"boolean"==typeof e},e.definedString=function(e){return t(e)&&"string"==typeof e},e.definedFunction=function(e){return t(e)&&"function"==typeof e},e.definedNumber=function(e){return t(e)&&"number"==typeof e},e.definedArray=o,e.definedDate=function(e){return n(e)&&e instanceof Date},e.invalidOptionArray=function(e,t=1){return!o(e)||e.length<t},e.definedParentElement=function(e){return t(e)&&document.contains(e)},e.holiday=function(t,n){const o={matched:!1,name:null},i=t.holidays.length,r=n.getDate(),a=n.getMonth()+1,s=n.getFullYear();for(let n=0;n<i;n++){const i=t.holidays[n];if(e.definedString(i.date)&&i.showInViews){const e=i.date.split("/");if(2===e.length?o.matched=r===parseInt(e[0])&&a===parseInt(e[1]):3===e.length&&(o.matched=r===parseInt(e[0])&&a===parseInt(e[1])&&s===parseInt(e[2])),o.matched){o.name=i.name;break}}}return o},e.monthVisible=function(e,t){return e.indexOf(t+1)>-1},e.dayVisible=function(e,t){return e.indexOf(t)>-1},e.yearVisible=function(e,t){return-1===e.yearsToHide.indexOf(t)&&(0===e._currentView.yearsAvailable.length||e._currentView.yearsAvailable.indexOf(t)>-1)},e.firstVisibleYear=function(e,t){return e._currentView.yearsAvailable.length>0&&t<=e._currentView.yearsAvailable[0]},e.lastVisibleYear=function(e,t){return e._currentView.yearsAvailable.length>0&&t>=e._currentView.yearsAvailable[e._currentView.yearsAvailable.length-1]},e.rgbColor=function(e){return e.startsWith("rgba")||e.startsWith("rgb")},e.hexColor=function(e){return e.startsWith("#")&&(7===e.length||9===e.length)}})(t||(t={})),(e=>{function n(e,n){return t.definedArray(e)?e:n}e.getAnyString=function(e,t){return"string"==typeof e?e:t},e.getString=function(e,n){return t.definedString(e)?e:n},e.getBoolean=function(e,n){return t.definedBoolean(e)?e:n},e.getNumber=function(e,n){return t.definedNumber(e)?e:n},e.getNumberInRange=function(e,n,o,i){return t.definedNumber(e)&&e>=n&&e<=o?e:i},e.getFunction=function(e,n){return t.definedFunction(e)?e:n},e.getArray=n,e.getObject=function(e,n){return t.definedObject(e)?e:n},e.getStringOrArray=function(e,o){let i=o;if(t.definedString(e)){const t=e.toString().split(" ");0===t.length?e=o:i=t}else i=n(e,o);return i},e.getObjectFromString=function(e,n){const o={parsed:!0,object:null};try{if(t.definedString(e))try{o.object=JSON.parse(e)}catch{o.object=JSON.parse(e.replace(/'/g,'"'))}}catch(i){try{o.object=function(e){let n=null;const o=e.split("(");let i=[];o.length>1&&(i=o[1].replace(")","").replace(";","").trim().split(","),1===i.length&&""===i[0]&&(i=[]));const r=o[0].split("."),a=r.pop();let s=globalThis,l=!0;for(const e of r)if(s=s[e],!t.defined(s)){l=!1;break}l&&t.definedFunction(s[a])&&(n=s[a].apply(s,i));return n}(e)}catch(e){n.safeMode||(console.error(n.text.objectErrorText.replace("{{error_1}}",i.message).replace("{{error_2}}",e.message)),o.parsed=!1),o.object=null}}return o}})(n||(n={})),(i=o||(o={})).padNumber=function(e){const t=e.toString();return 1===t.length?"0"+t:t},i.startsWithAnyCase=function(e,t){return e.substring(0,t.length).toLowerCase()===t.toLowerCase()},i.friendlyNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},(e=>{function n(e){return e.getDay()-1<0?6:e.getDay()-1}function i(e,t){let n=e.text.thText;return 31===t||21===t||1===t?n=e.text.stText:22===t||2===t?n=e.text.ndText:23!==t&&3!==t||(n=e.text.rdText),n}function r(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getDay()||7;t.setDate(t.getDate()+4-n);const o=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-o.getTime())/864e5+1)/7)}e.getTotalDaysInMonth=function(e,t){return new Date(e,t+1,0).getDate()},e.getWeekdayNumber=n,e.getDayOrdinal=i,e.getCustomFormattedDateText=function(e,a,s,l=!1,c=null){let d=a;const u=t.definedNumber(c)?c:n(s),w=r(s),g=i(e,s.getDate());return d=d.replace("{dddd}",e.text.dayNames[u]),d=d.replace("{dd}",o.padNumber(s.getDate())),d=d.replace("{d}",s.getDate().toString()),d=d.replace("{ww}",o.padNumber(w)),d=d.replace("{w}",w.toString()),d=l?t.definedString(g)?d.replace("{o}",`<sup>${g}</sup>`):d.replace("{o}",""):d.replace("{o}",g),d=d.replace("{mmmm}",e.text.monthNames[s.getMonth()]),d=d.replace("{mm}",o.padNumber(s.getMonth()+1)),d=d.replace("{m}",(s.getMonth()+1).toString()),d=d.replace("{yyyy}",s.getFullYear().toString()),d=d.replace("{yyy}",s.getFullYear().toString().substring(1)),d=d.replace("{yy}",s.getFullYear().toString().substring(2)),d=d.replace("{y}",parseInt(s.getFullYear().toString().substring(2)).toString()),d},e.toStorageDate=function(e){return`${e.getFullYear()}-${o.padNumber(e.getMonth()+1)}-${o.padNumber(e.getDate())}`},e.getStorageDateYear=function(e){return e.split("-")[0]},e.getDateForMondayOfCurrentWeek=function(){const e=new Date,t=e.getDay(),n=(0===t?-6:1)-t,o=new Date(e);return o.setDate(e.getDate()+n),o},e.isToday=function(e){const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},e.isCurrentMonthAndYear=function(e){const t=new Date;return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},e.getWeekNumber=r})(r||(r={})),(e=>{function n(e,n,o="",i=null){const r=n.toLowerCase(),a=document.createElement(r);return t.defined(o)&&(a.className=o),t.defined(i)?e.insertBefore(a,i):e.appendChild(a),a}function o(e,t,o,i,r=null){const a=n(e,t,o,r);if(a.innerHTML=i,"button"===t){a.type="button"}return a}function i(){const e=document.documentElement;return{left:e.scrollLeft-(e.clientLeft||0),top:e.scrollTop-(e.clientTop||0)}}e.createWithNoContainer=function(e){const t=e.toLowerCase();return document.createElement(t)},e.create=n,e.createWithHTML=o,e.createButton=function(e,o,i,r=null,a=null){const s=n(e,o,i,a);return s.type="button",t.defined(r)&&(s.innerHTML=r),s},e.createIconButton=function(t,o,i,r,a=null){const s=n(t,o,i,a);return s.type="button",e.create(s,"i",r),s},e.getStyleValueByName=function(e,t,n=!1){let o=getComputedStyle(e).getPropertyValue(t);return n&&(o=parseFloat(o),o=isNaN(o)?0:o),o},e.getStyleValueByNameSizingMetic=function(e,t){const n=getComputedStyle(e).getPropertyValue(t),o=parseFloat(n);return n.replace(o.toString(),"")},e.addClass=function(e,t){e.classList.add(t)},e.removeClass=function(e,t){e.classList.remove(t)},e.cancelBubble=function(e){e.preventDefault(),e.stopPropagation()},e.getScrollPosition=i,e.showElementAtMousePosition=function(e,t,n="block"){let o=e.pageX,r=e.pageY;const a=i();t.style.display=n,o+t.offsetWidth>window.innerWidth?o-=t.offsetWidth:o++,r+t.offsetHeight>window.innerHeight?r-=t.offsetHeight:r++,o<a.left&&(o=e.pageX+1),r<a.top&&(r=e.pageY+1),t.style.left=`${o}px`,t.style.top=`${r}px`},e.reverseChildrenOrder=function(e){const t=Array.from(e.children);t.reverse(),t.forEach(t=>e.appendChild(t))},e.createCheckBox=function(e,t,i){const r=n(e,"div"),a=n(r,"label","checkbox"),s=n(a,"input");return s.type="checkbox",s.name=i,n(a,"span","check-mark"),o(a,"span","text",t),s},e.addGradientEffect=function(t,n){const o=e.getStyleValueByName(t,"background-color"),i=e.getStyleValueByName(n,"background-color");n.style.background=`linear-gradient(to top, ${o}, ${i})`}})(a||(a={})),(s||(s={})).customEvent=function(e,...n){let o=null;return t.definedFunction(e)&&(o=e.apply(null,[].slice.call(n,0))),o},(e=>{let n=0;function i(e,t,n){null!==e&&(e.onmousemove=e=>l(e,t,n))}function l(e,t,o){a.cancelBubble(e),c(t),n=setTimeout(()=>{t._currentView.tooltip.innerHTML=o,a.showElementAtMousePosition(e,t._currentView.tooltip,"flex")},t.tooltip.delay)}function c(e){t.defined(e._currentView.tooltip)&&(0!==n&&(clearTimeout(n),n=0),"none"!==e._currentView.tooltip.style.display&&(e._currentView.tooltip.style.display="none"))}e.render=function(e){if(!t.defined(e._currentView.tooltip)){const t=document.getElementsByClassName("heat-js-tooltip"),n=[].slice.call(t);n.length>0?e._currentView.tooltip=n[0]:(e._currentView.tooltip=a.create(document.body,"div","heat-js-tooltip"),function(e,t=!0){t?(window.addEventListener("mousemove",()=>c(e)),document.addEventListener("scroll",()=>c(e))):(window.removeEventListener("mousemove",()=>c(e)),document.removeEventListener("scroll",()=>c(e)))}(e)),e._currentView.tooltip.style.display="none"}},e.add=i,e.addForDay=function(e,n,a,l,c,d,u,w,g,h,m){if(t.definedFunction(w))i(a,n,s.customEvent(w,n._currentView.element,l,c,g));else{let s=r.getCustomFormattedDateText(e,u,l,!0);if(n.showHolidaysInDayToolTips){const e=t.holiday(n,l);e.matched&&t.definedString(e.name)&&(s+=`: ${e.name}`)}(h||m&&t.definedString(d))&&(s+=": "),h&&(s+=`<b class="tooltip-count">${o.friendlyNumber(c)}</b>`),m&&t.definedString(d)&&(s+=`<b class="tooltip-difference">${d}</b>`),i(a,n,s)}},e.show=l,e.hide=c,e.remove=function(e){if(t.defined(e._currentView.tooltip)){const t=document.getElementsByClassName("heat-js");0===[].slice.call(t).length&&document.body.removeChild(e._currentView.tooltip)}}})(l||(l={})),(e=>{function t(e){const t=e.trim().replace("#",""),n=parseInt(t.substring(0,2),16),o=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);let r=1;return 8===e.length&&(r=parseInt(t.substring(6,8),16)),{red:n,green:o,blue:i,alpha:r}}e.toRgbOpacityColor=function(e,t){const n=e.indexOf(") ")>-1?`${e.split(") ")[0]})`:e,o=n.replace("rgba(","").replace("rgb(","").replace(")","").split(",");return n.startsWith("rgba")?o[o.length-1]=t.toString():o.push(t.toString()),`rgba(${o.join()})`},e.hexToRgba=function(e){const n=t(e);return`rgba(${n.red}, ${n.green}, ${n.blue}, ${n.alpha})`},e.hexToRgbaValues=t,e.valuesToOpacitiesOrder=function(e){const t=Object.values(e.values).sort((e,t)=>e.total-t.total),n=t.length,o=1/n;for(let i=0;i<n;i++)e.valueOpacities[t[i].total]=parseFloat((o*(i+1)).toFixed(2))}})(c||(c={})),(e=>{let t;var n;(n=t=e.Variables||(e.Variables={})).DaySize="--heat-js-day-size",n.Spacing="--heat-js-spacing",n.LineWidth="--heat-js-day-line-width",n.CheckBoxCheckedColor="--heat-js-checkbox-background-color-checked",n.YearMenuCurrent="--heat-js-years-current-color",n.DefaultDynamicColor="--heat-js-color-default-dynamic"})(d||(d={})),(i=>{function r(e){return e.colorRanges.sort((e,t)=>e.minimum-t.minimum)}function l(t,n){let o=!1;return 1===t._currentView.activeView?u(t,n,n.mapCssClassName,e.Attribute.View.Map.HEAT_JS_MINIMUM):2===t._currentView.activeView?u(t,n,n.lineCssClassName,e.Attribute.View.Line.HEAT_JS_MINIMUM):3===t._currentView.activeView?u(t,n,n.chartCssClassName,e.Attribute.View.Chart.HEAT_JS_MINIMUM):6===t._currentView.activeView?u(t,n,n.colorRangeCssClassName,e.Attribute.View.ColorRanges.HEAT_JS_MINIMUM):o=!0,o}function u(n,o,i,r){const s=t.definedString(i)?i:o.cssClassName,l=n._currentView.element.getElementsByTagName("div"),c=[].slice.call(l),d=c.length;for(let n=0;n<d;n++){const i=c[n],l=i.getAttribute(r),d=i.getAttribute(e.Attribute.Area.ColorRangeToggle.HEAT_JS_MINIMUM);(t.definedString(l)&&l===o.minimum.toString()||d===o.minimum.toString())&&(o.visible?a.addClass(i,s):a.removeClass(i,s))}}i.toggleVisibleState=function(e,t){const o=e.colorRanges.length;let i=!1;for(let r=0;r<o;r++){const o=e.colorRanges[r];if(o.id===t){o.visible=!n.getBoolean(o.visible,!0),l(e,o)&&(i=!0),s.customEvent(e.events.onColorRangeTypeToggle,e._currentView.element,o.id,o.visible);break}}return i},i.invertVisibleStates=function(e){const t=e.colorRanges.length;let n=!1;for(let o=0;o<t;o++){const t=e.colorRanges[o];t.visible=!t.visible,n=l(e,t),s.customEvent(e.events.onColorRangeTypeToggle,e._currentView.element,e.colorRanges[o].id,e.colorRanges[o].visible)}return n},i.updateAllVisibleStates=function(e,t){let n=!1;if(e.guide.useIncrementToggles){const o=r(e),i=o.length;if(t)for(let r=0;r<i;r++){const i=o[r];if(!i.visible){i.visible=!0,n=l(e,i),s.customEvent(e.events.onColorRangeTypeToggle,e._currentView.element,i.id,t);break}}else for(let r=i;r--;){const i=o[r];if(i.visible){i.visible=!1,n=l(e,i),s.customEvent(e.events.onColorRangeTypeToggle,e._currentView.element,i.id,t);break}}}else{const o=e.colorRanges.length;for(let i=0;i<o;i++){const o=e.colorRanges[i];o.visible=t,n=l(e,o),s.customEvent(e.events.onColorRangeTypeToggle,e._currentView.element,o.id,t)}}return n},i.isVisible=function(t,o){let i=!1;if(o===e.COLOR_RANGE_HOLIDAY_ID)i=!0;else{const e=t.colorRanges.length;for(let r=0;r<e;r++){const e=t.colorRanges[r];if(e.id===o&&n.getBoolean(e.visible,!0)){i=!0;break}}}return i},i.get=function(n,o,i,r=null){let a=null;if(t.defined(r)&&t.holiday(n,r).matched&&(a={cssClassName:"holiday",id:e.COLOR_RANGE_HOLIDAY_ID,visible:!0,minimum:0}),!t.defined(a)){const e=o.length;for(let t=0;t<e;t++){const e=o[t];if(!(i>=e.minimum))break;a=e}}return a},i.getByMinimum=function(e,t){const n=e.length;let o=null;for(let i=0;i<n;i++){const n=e[i];if(t.toString()===n.minimum.toString()){o=n;break}}return o},i.getAllSorted=r,i.buildDynamics=function(e){const t=[],n=c.hexToRgbaValues(e.color),i=100/e.totalColors,r=1/e.totalColors,s=(e.maximumMinimum-e.startMinimum)/(e.totalColors-1),l=[];let u=n.red,w=n.green,g=n.blue,h=r,m=n.red,p=n.green,y=n.blue,v=e.startMinimum;for(let a=0;a<e.totalColors;a++){const c=a+1,f=h+r>1?1:h+r,T=`rgba(${u}, ${w}, ${g}, ${h.toFixed(2)})`,b=`rgba(${u}, ${w}, ${g}, ${f.toFixed(2)})`,V=`rgb(${m}, ${p}, ${y})`,_=`day-color-${o.padNumber(c)}`;l.push(`div.${_} {`),l.push(`\tbackground-color: ${T} !important;`),l.push(`\tborder-color: ${b} !important;`),l.push(`\tcolor: ${V} !important;`),l.push("}"),l.push(`div.${_}:not(.no-hover):hover {`),l.push("\topacity: 0.7 !important;"),l.push("}");const C={id:o.padNumber(c),name:`Day Color ${c}`,minimum:Math.round(v),cssClassName:_,tooltipText:`Day Color ${c}`,visible:!0},D=Math.round(n.red/100*(c*i)),x=Math.round(n.green/100*(c*i)),S=Math.round(n.blue/100*(c*i));a===e.totalColors-1?(l.push(":root {"),l.push(`\t${d.Variables.CheckBoxCheckedColor}: ${T};`),l.push(`\t${d.Variables.YearMenuCurrent}: ${T};`),l.push("}")):(u=n.red+D,w=n.green+x,g=n.blue+S,h+=r,m=n.red-D,p=n.green-x,y=n.blue-S,v+=s,v>e.maximumMinimum&&(v=e.maximumMinimum)),t.push(C)}const f=document.getElementsByTagName("head")[0];return a.create(f,"style").appendChild(document.createTextNode(l.join("\n"))),t},i.getGuideCssClassName=function(e,n){let o=n.cssClassName;return e.views.map.enabled&&1===e._currentView.activeView&&t.definedString(n.mapCssClassName)?o=n.mapCssClassName:e.views.line.enabled&&2===e._currentView.activeView&&t.definedString(n.lineCssClassName)?o=n.lineCssClassName:e.views.chart.enabled&&3===e._currentView.activeView&&t.definedString(n.chartCssClassName)?o=n.chartCssClassName:e.views.days.enabled&&4===e._currentView.activeView&&t.definedString(n.daysCssClassName)?o=n.daysCssClassName:e.views.months.enabled&&5===e._currentView.activeView&&t.definedString(n.monthsCssClassName)?o=n.monthsCssClassName:e.views.colorRanges.enabled&&6===e._currentView.activeView&&t.definedString(n.colorRangeCssClassName)&&(o=n.colorRangeCssClassName),o},i.toggleForActiveView=l})(u||(u={})),(e=>{let i;(e=>{const i=[1,2,3,4,5,6,7,8,9,10,11,12],r=[1,2,3,4,5,6,7];function s(e){const s=n.getObject(e,{});return s.views=n.getObject(s.views,{}),s.exportOnlyDataBeingViewed=n.getBoolean(s.exportOnlyDataBeingViewed,!0),s.defaultYear=n.getNumber(s.defaultYear,(new Date).getFullYear()),s.defaultView=n.getString(s.defaultView,"map"),s.exportType=n.getString(s.exportType,"json"),s.useLocalStorageForData=n.getBoolean(s.useLocalStorageForData,!1),s.allowFileImports=n.getBoolean(s.allowFileImports,!0),s.yearsToHide=n.getArray(s.yearsToHide,[]),s.dataFetchDelay=n.getNumber(s.dataFetchDelay,6e4),s.showOnlyDataForYearsAvailable=n.getBoolean(s.showOnlyDataForYearsAvailable,!1),s.showHolidaysInDayToolTips=n.getBoolean(s.showHolidaysInDayToolTips,!1),s.resizable=n.getBoolean(s.resizable,!1),s.startMonth=n.getNumberInRange(s.startMonth,0,11,0),s.allowMultipleFileImports=n.getBoolean(s.allowMultipleFileImports,!0),s.percentageDecimalPoints=n.getNumber(s.percentageDecimalPoints,2),s.chartsAnimationDelay=n.getNumber(s.chartsAnimationDelay,50),s.exportDateTimeFormat=n.getString(s.exportDateTimeFormat,"{dddd}, {d}{o} {mmmm} {yyyy}"),s.title=function(e){return e.title=n.getObject(e.title,{}),e.title.text=n.getString(e.title.text,"Heat.js"),e.title.showText=n.getBoolean(e.title.showText,!0),e.title.showYearSelector=n.getBoolean(e.title.showYearSelector,!0),e.title.showRefreshButton=n.getBoolean(e.title.showRefreshButton,!1),e.title.showExportButton=n.getBoolean(e.title.showExportButton,!1),e.title.extraSelectionYears=n.getNumber(e.title.extraSelectionYears,50),e.title.showYearSelectionDropDown=n.getBoolean(e.title.showYearSelectionDropDown,!0),e.title.showImportButton=n.getBoolean(e.title.showImportButton,!1),e.title.showConfigurationButton=n.getBoolean(e.title.showConfigurationButton,!0),e.title.showTitleDropDownButton=n.getBoolean(e.title.showTitleDropDownButton,!0),e.title.showTitleDropDownHeaders=n.getBoolean(e.title.showTitleDropDownHeaders,!0),e.title.showCurrentYearButton=n.getBoolean(e.title.showCurrentYearButton,!0),e.title.showSectionText=n.getBoolean(e.title.showSectionText,!0),e.title.showToolTips=n.getBoolean(e.title.showToolTips,!0),e.title.showTitleDropDownMenu=n.getBoolean(e.title.showTitleDropDownMenu,!0),e.title.showClearButton=n.getBoolean(e.title.showClearButton,!1),e.title}(s),s.yearlyStatistics=function(e){return e.yearlyStatistics=n.getObject(e.yearlyStatistics,{}),e.yearlyStatistics.enabled=n.getBoolean(e.yearlyStatistics.enabled,!1),e.yearlyStatistics.showToday=n.getBoolean(e.yearlyStatistics.showToday,!0),e.yearlyStatistics.showThisWeek=n.getBoolean(e.yearlyStatistics.showThisWeek,!0),e.yearlyStatistics.showThisMonth=n.getBoolean(e.yearlyStatistics.showThisMonth,!0),e.yearlyStatistics.showThisYear=n.getBoolean(e.yearlyStatistics.showThisYear,!0),e.yearlyStatistics.showOnlyForCurrentYear=n.getBoolean(e.yearlyStatistics.showOnlyForCurrentYear,!1),e.yearlyStatistics.showPercentages=n.getBoolean(e.yearlyStatistics.showPercentages,!0),e.yearlyStatistics}(s),s.views.map=function(e){e.views.map=n.getObject(e.views.map,{}),e.views.map.enabled=n.getBoolean(e.views.map.enabled,!0),e.views.map.showMonthDayGaps=n.getBoolean(e.views.map.showMonthDayGaps,!0),e.views.map.showDayNames=n.getBoolean(e.views.map.showDayNames,!0),e.views.map.placeMonthNamesOnTheBottom=n.getBoolean(e.views.map.placeMonthNamesOnTheBottom,!1),e.views.map.showDayCounts=n.getBoolean(e.views.map.showDayCounts,!1),e.views.map.showMonthNames=n.getBoolean(e.views.map.showMonthNames,!0),e.views.map.showDaysInReverseOrder=n.getBoolean(e.views.map.showDaysInReverseOrder,!1),e.views.map.showMinimalDayNames=n.getBoolean(e.views.map.showMinimalDayNames,!1),e.views.map.showMonthsInReverseOrder=n.getBoolean(e.views.map.showMonthsInReverseOrder,!1),e.views.map.keepScrollPositions=n.getBoolean(e.views.map.keepScrollPositions,!1),e.views.map.showDayDateNumbers=n.getBoolean(e.views.map.showDayDateNumbers,!1),e.views.map.showToolTips=n.getBoolean(e.views.map.showToolTips,!0),e.views.map.highlightCurrentDay=n.getBoolean(e.views.map.highlightCurrentDay,!1),e.views.map.dayToolTipText=n.getString(e.views.map.dayToolTipText,"{dddd}, {d}{o} {mmmm} {yyyy}"),e.views.map.showYearsInMonthNames=n.getBoolean(e.views.map.showYearsInMonthNames,!0),e.views.map.showCountsInToolTips=n.getBoolean(e.views.map.showCountsInToolTips,!0),e.views.map.showSpacing=n.getBoolean(e.views.map.showSpacing,!0),e.views.map.showDifferences=n.getBoolean(e.views.map.showDifferences,!1),e.views.map.showDifferencesInToolTips=n.getBoolean(e.views.map.showDifferencesInToolTips,!0),t.invalidOptionArray(e.views.map.monthsToShow)&&(e.views.map.monthsToShow=i);t.invalidOptionArray(e.views.map.daysToShow)&&(e.views.map.daysToShow=r);return e.views.map}(s),s.views.line=function(e){e.views.line=n.getObject(e.views.line,{}),e.views.line.enabled=n.getBoolean(e.views.line.enabled,!0),e.views.line.showMonthNames=n.getBoolean(e.views.line.showMonthNames,!0),e.views.line.showInReverseOrder=n.getBoolean(e.views.line.showInReverseOrder,!1),e.views.line.keepScrollPositions=n.getBoolean(e.views.line.keepScrollPositions,!1),e.views.line.showYearsInMonthNames=n.getBoolean(e.views.line.showYearsInMonthNames,!0),e.views.line.showToolTips=n.getBoolean(e.views.line.showToolTips,!0),e.views.line.dayToolTipText=n.getString(e.views.line.dayToolTipText,"{dddd}, {d}{o} {mmmm} {yyyy}"),e.views.line.showCountsInToolTips=n.getBoolean(e.views.line.showCountsInToolTips,!0),e.views.line.showDifferencesInToolTips=n.getBoolean(e.views.line.showDifferencesInToolTips,!0),t.invalidOptionArray(e.views.line.monthsToShow)&&(e.views.line.monthsToShow=i);t.invalidOptionArray(e.views.line.daysToShow)&&(e.views.line.daysToShow=r);return e.views.line}(s),s.views.chart=function(e){e.views.chart=n.getObject(e.views.chart,{}),e.views.chart.enabled=n.getBoolean(e.views.chart.enabled,!0),e.views.chart.showChartYLabels=n.getBoolean(e.views.chart.showChartYLabels,!0),e.views.chart.showMonthNames=n.getBoolean(e.views.chart.showMonthNames,!0),e.views.chart.showLineCounts=n.getBoolean(e.views.chart.showLineCounts,!1),e.views.chart.showInReverseOrder=n.getBoolean(e.views.chart.showInReverseOrder,!1),e.views.chart.keepScrollPositions=n.getBoolean(e.views.chart.keepScrollPositions,!1),e.views.chart.showLineDateNumbers=n.getBoolean(e.views.chart.showLineDateNumbers,!1),e.views.chart.showToolTips=n.getBoolean(e.views.chart.showToolTips,!0),e.views.chart.useGradients=n.getBoolean(e.views.chart.useGradients,!1),e.views.chart.highlightCurrentDay=n.getBoolean(e.views.chart.highlightCurrentDay,!1),e.views.chart.dayToolTipText=n.getString(e.views.chart.dayToolTipText,"{dddd}, {d}{o} {mmmm} {yyyy}"),e.views.chart.showYearsInMonthNames=n.getBoolean(e.views.chart.showYearsInMonthNames,!0),e.views.chart.showCountsInToolTips=n.getBoolean(e.views.chart.showCountsInToolTips,!0),e.views.chart.addMonthSpacing=n.getBoolean(e.views.chart.addMonthSpacing,!1),e.views.chart.showDifferences=n.getBoolean(e.views.chart.showDifferences,!1),e.views.chart.showDifferencesInToolTips=n.getBoolean(e.views.chart.showDifferencesInToolTips,!0),t.invalidOptionArray(e.views.chart.monthsToShow)&&(e.views.chart.monthsToShow=i);t.invalidOptionArray(e.views.chart.daysToShow)&&(e.views.chart.daysToShow=r);return e.views.chart}(s),s.views.days=function(e){e.views.days=n.getObject(e.views.days,{}),e.views.days.enabled=n.getBoolean(e.views.days.enabled,!0),e.views.days.showChartYLabels=n.getBoolean(e.views.days.showChartYLabels,!0),e.views.days.showDayNames=n.getBoolean(e.views.days.showDayNames,!0),e.views.days.showInReverseOrder=n.getBoolean(e.views.days.showInReverseOrder,!1),e.views.days.showDayCounts=n.getBoolean(e.views.days.showDayCounts,!1),e.views.days.keepScrollPositions=n.getBoolean(e.views.days.keepScrollPositions,!1),e.views.days.showToolTips=n.getBoolean(e.views.days.showToolTips,!0),e.views.days.useGradients=n.getBoolean(e.views.days.useGradients,!1),e.views.days.useDifferentOpacities=n.getBoolean(e.views.days.useDifferentOpacities,!1),e.views.days.showDayCountPercentages=n.getBoolean(e.views.days.showDayCountPercentages,!0),e.views.days.showStackedColorRanges=n.getBoolean(e.views.days.showStackedColorRanges,!0),e.views.days.dayToolTipText=n.getString(e.views.days.dayToolTipText,"{dddd} {yyyy}"),t.invalidOptionArray(e.views.days.monthsToShow)&&(e.views.days.monthsToShow=i);t.invalidOptionArray(e.views.days.daysToShow)&&(e.views.days.daysToShow=r);return e.views.days}(s),s.views.months=function(e){e.views.months=n.getObject(e.views.months,{}),e.views.months.enabled=n.getBoolean(e.views.months.enabled,!0),e.views.months.showChartYLabels=n.getBoolean(e.views.months.showChartYLabels,!0),e.views.months.showMonthNames=n.getBoolean(e.views.months.showMonthNames,!0),e.views.months.showInReverseOrder=n.getBoolean(e.views.months.showInReverseOrder,!1),e.views.months.showMonthCounts=n.getBoolean(e.views.months.showMonthCounts,!1),e.views.months.keepScrollPositions=n.getBoolean(e.views.months.keepScrollPositions,!1),e.views.months.showToolTips=n.getBoolean(e.views.months.showToolTips,!0),e.views.months.useGradients=n.getBoolean(e.views.months.useGradients,!1),e.views.months.useDifferentOpacities=n.getBoolean(e.views.months.useDifferentOpacities,!1),e.views.months.highlightCurrentMonth=n.getBoolean(e.views.months.highlightCurrentMonth,!1),e.views.months.showMonthCountPercentages=n.getBoolean(e.views.months.showMonthCountPercentages,!0),e.views.months.showStackedColorRanges=n.getBoolean(e.views.months.showStackedColorRanges,!0),e.views.months.monthToolTipText=n.getString(e.views.months.monthToolTipText,"{mmmm} {yyyy}"),t.invalidOptionArray(e.views.months.monthsToShow)&&(e.views.months.monthsToShow=i);t.invalidOptionArray(e.views.months.daysToShow)&&(e.views.months.daysToShow=r);return e.views.months}(s),s.views.colorRanges=function(e){e.views.colorRanges=n.getObject(e.views.colorRanges,{}),e.views.colorRanges.enabled=n.getBoolean(e.views.colorRanges.enabled,!0),e.views.colorRanges.showChartYLabels=n.getBoolean(e.views.colorRanges.showChartYLabels,!0),e.views.colorRanges.showColorRangeLabels=n.getBoolean(e.views.colorRanges.showColorRangeLabels,!0),e.views.colorRanges.useColorRangeNamesForLabels=n.getBoolean(e.views.colorRanges.useColorRangeNamesForLabels,!1),e.views.colorRanges.showRangeCounts=n.getBoolean(e.views.colorRanges.showRangeCounts,!1),e.views.colorRanges.showInReverseOrder=n.getBoolean(e.views.colorRanges.showInReverseOrder,!1),e.views.colorRanges.keepScrollPositions=n.getBoolean(e.views.colorRanges.keepScrollPositions,!1),e.views.colorRanges.showToolTips=n.getBoolean(e.views.colorRanges.showToolTips,!0),e.views.colorRanges.useGradients=n.getBoolean(e.views.colorRanges.useGradients,!1),e.views.colorRanges.showRangeCountPercentages=n.getBoolean(e.views.colorRanges.showRangeCountPercentages,!0),e.views.colorRanges.showRangeNamesInToolTips=n.getBoolean(e.views.colorRanges.showRangeNamesInToolTips,!0),t.invalidOptionArray(e.views.colorRanges.monthsToShow)&&(e.views.colorRanges.monthsToShow=i);t.invalidOptionArray(e.views.colorRanges.daysToShow)&&(e.views.colorRanges.daysToShow=r);return e.views.colorRanges}(s),s.description=function(e){return e.description=n.getObject(e.description,{}),e.description.text=n.getString(e.description.text,""),e.description.url=n.getString(e.description.url,""),e.description.urlTarget=n.getString(e.description.urlTarget,"_blank"),e.description}(s),s.guide=function(e){return e.guide=n.getObject(e.guide,{}),e.guide.enabled=n.getBoolean(e.guide.enabled,!0),e.guide.colorRangeTogglesEnabled=n.getBoolean(e.guide.colorRangeTogglesEnabled,!0),e.guide.showLessAndMoreLabels=n.getBoolean(e.guide.showLessAndMoreLabels,!0),e.guide.showNumbersInGuide=n.getBoolean(e.guide.showNumbersInGuide,!1),e.guide.showToolTips=n.getBoolean(e.guide.showToolTips,!0),e.guide.showInvertLabel=n.getBoolean(e.guide.showInvertLabel,!1),e.guide.useIncrementToggles=n.getBoolean(e.guide.useIncrementToggles,!1),e.guide.allowTypeAdding=n.getBoolean(e.guide.allowTypeAdding,!1),e.guide.allowTypeRemoving=n.getBoolean(e.guide.allowTypeRemoving,!1),e.guide}(s),s.tooltip=function(e){return e.tooltip=n.getObject(e.tooltip,{}),e.tooltip.delay=n.getNumber(e.tooltip.delay,750),e.tooltip}(s),s.zooming=function(e){return e.zooming=n.getObject(e.zooming,{}),e.zooming.enabled=n.getBoolean(e.zooming.enabled,!1),e.zooming.defaultLevel=n.getNumber(e.zooming.defaultLevel,0),e.zooming.maximumLevel=n.getNumber(e.zooming.maximumLevel,0),e.zooming.showCloseButton=n.getBoolean(e.zooming.showCloseButton,!0),e.zooming.showResetButton=n.getBoolean(e.zooming.showResetButton,!1),e.zooming}(s),s.dynamicColorRange=function(e){return e.dynamicColorRange=n.getObject(e.dynamicColorRange,{}),e.dynamicColorRange.enabled=n.getBoolean(e.dynamicColorRange.enabled,!1),e.dynamicColorRange.maximumMinimum=n.getNumber(e.dynamicColorRange.maximumMinimum,25),e.dynamicColorRange.color=n.getString(e.dynamicColorRange.color,a.getStyleValueByName(document.documentElement,d.Variables.DefaultDynamicColor)),e.dynamicColorRange.totalColors=n.getNumber(e.dynamicColorRange.totalColors,7),e.dynamicColorRange.startMinimum=n.getNumber(e.dynamicColorRange.startMinimum,10),e.dynamicColorRange}(s),s.colorRanges=function(e){let i=[];if(e.dynamicColorRange.enabled&&t.hexColor(e.dynamicColorRange.color))i=u.buildDynamics(e.dynamicColorRange);else if(t.definedArray(e.colorRanges)){const t=e.colorRanges.length;for(let o=0;o<t;o++){const t=e.colorRanges[o];t.id=n.getString(t.id,crypto.randomUUID()),t.name=n.getString(t.name,""),t.minimum=n.getNumber(t.minimum,0),t.cssClassName=n.getString(t.cssClassName,""),t.mapCssClassName=n.getString(t.mapCssClassName,""),t.lineCssClassName=n.getString(t.lineCssClassName,""),t.chartCssClassName=n.getString(t.chartCssClassName,""),t.daysCssClassName=n.getString(t.daysCssClassName,""),t.monthsCssClassName=n.getString(t.monthsCssClassName,""),t.colorRangeCssClassName=n.getString(t.colorRangeCssClassName,""),t.tooltipText=n.getString(t.tooltipText,""),t.visible=n.getBoolean(t.visible,!0),i.push(t)}}else i=[{id:o.padNumber(1),name:"Day Color 1",minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1",visible:!0},{id:o.padNumber(2),name:"Day Color 2",minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2",visible:!0},{id:o.padNumber(3),name:"Day Color 3",minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0},{id:o.padNumber(4),name:"Day Color 4",minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0}];return i}(s),s.holidays=function(e){const o=[];if(t.definedArray(e.holidays)){const t=e.holidays.length;for(let i=0;i<t;i++){const t=e.holidays[i];t.date=n.getString(t.date,""),t.name=n.getString(t.name,""),t.showInViews=n.getBoolean(t.showInViews,!0),o.push(t)}}return o}(s),s.events=function(e){return e.events=n.getObject(e.events,{}),e.events.onBackYear=n.getFunction(e.events.onBackYear,null),e.events.onNextYear=n.getFunction(e.events.onNextYear,null),e.events.onRefresh=n.getFunction(e.events.onRefresh,null),e.events.onBeforeRender=n.getFunction(e.events.onBeforeRender,null),e.events.onRenderComplete=n.getFunction(e.events.onRenderComplete,null),e.events.onDestroy=n.getFunction(e.events.onDestroy,null),e.events.onExport=n.getFunction(e.events.onExport,null),e.events.onSetYear=n.getFunction(e.events.onSetYear,null),e.events.onTypeSwitch=n.getFunction(e.events.onTypeSwitch,null),e.events.onMapDayToolTipRender=n.getFunction(e.events.onMapDayToolTipRender,null),e.events.onLineDayToolTipRender=n.getFunction(e.events.onLineDayToolTipRender,e.events.onMapDayToolTipRender),e.events.onChartDayToolTipRender=n.getFunction(e.events.onChartDayToolTipRender,e.events.onMapDayToolTipRender),e.events.onAddDate=n.getFunction(e.events.onAddDate,null),e.events.onRemoveDate=n.getFunction(e.events.onRemoveDate,null),e.events.onReset=n.getFunction(e.events.onReset,null),e.events.onViewSwitch=n.getFunction(e.events.onViewSwitch,null),e.events.onColorRangeTypeToggle=n.getFunction(e.events.onColorRangeTypeToggle,null),e.events.onImport=n.getFunction(e.events.onImport,null),e.events.onDataFetch=n.getFunction(e.events.onDataFetch,null),e.events.onClearDate=n.getFunction(e.events.onClearDate,null),e.events.onUpdateDate=n.getFunction(e.events.onUpdateDate,null),e.events.onBindingOptionsUpdate=n.getFunction(e.events.onBindingOptionsUpdate,null),e.events.onMapDayClick=n.getFunction(e.events.onMapDayClick,null),e.events.onMapDayDblClick=n.getFunction(e.events.onMapDayDblClick,null),e.events.onLineDayClick=n.getFunction(e.events.onLineDayClick,e.events.onMapDayClick),e.events.onLineDayDblClick=n.getFunction(e.events.onLineDayDblClick,e.events.onMapDayDblClick),e.events.onChartDayClick=n.getFunction(e.events.onChartDayClick,e.events.onMapDayClick),e.events.onChartDayDblClick=n.getFunction(e.events.onChartDayDblClick,e.events.onMapDayDblClick),e.events.onWeekDayClick=n.getFunction(e.events.onWeekDayClick,null),e.events.onWeekDayDblClick=n.getFunction(e.events.onWeekDayDblClick,null),e.events.onMonthClick=n.getFunction(e.events.onMonthClick,null),e.events.onMonthDblClick=n.getFunction(e.events.onMonthDblClick,null),e.events.onColorRangeClick=n.getFunction(e.events.onColorRangeClick,null),e.events.onColorRangeDblClick=n.getFunction(e.events.onColorRangeDblClick,null),e.events.onZoomLevelChange=n.getFunction(e.events.onZoomLevelChange,null),e.events.onClearViewableData=n.getFunction(e.events.onClearViewableData,null),e.events.onAddType=n.getFunction(e.events.onAddType,null),e.events.onRemoveType=n.getFunction(e.events.onRemoveType,null),e.events}(s),s.startMonth>0&&(s.yearsToHide=[]),s}e.getForNewInstance=function(e,n,o){const i=s(n);return i._currentView={},i._currentView.element=o,i._currentView.activeYear=i.defaultYear,i._currentView.activeType=e.text.unknownTrendText,i._currentView.activeView=0,i._currentView.configurationDialogDayCheckBoxes=[],i._currentView.configurationDialogMonthCheckBoxes=[],i._currentView.isInFetchMode=t.definedFunction(i.events.onDataFetch),i._currentView.isInFetchModeTimer=0,i._currentView.yearsAvailable=[],i._currentView.dayWidth=0,i._currentView.zoomLevel=-1,i._currentView.mapZoomIncrement=-1,i._currentView.lineZoomIncrement=-1,i._currentView.yearTextWidth=0,i._currentView.viewsEnabled=0,i.views.map.enabled&&(i._currentView.mapContentsScrollLeft=0,i._currentView.viewsEnabled++),i.views.line.enabled&&(i._currentView.lineContentsScrollLeft=0,i._currentView.viewsEnabled++),i.views.chart.enabled&&(i._currentView.chartContentsScrollLeft=0,i._currentView.viewsEnabled++),i.views.days.enabled&&(i._currentView.daysContentsScrollLeft=0,i._currentView.viewsEnabled++),i.views.months.enabled&&(i._currentView.monthsContentsScrollLeft=0,i._currentView.viewsEnabled++),i.views.colorRanges.enabled&&(i._currentView.colorRangesContentsScrollLeft=0,i._currentView.viewsEnabled++),function(e){e.views.map.enabled&&"map"===e.defaultView?e._currentView.activeView=1:e.views.line.enabled&&"line"===e.defaultView?e._currentView.activeView=2:e.views.chart.enabled&&"chart"===e.defaultView?e._currentView.activeView=3:e.views.days.enabled&&"days"===e.defaultView?e._currentView.activeView=4:e.views.months.enabled&&"months"===e.defaultView?e._currentView.activeView=5:e.views.colorRanges.enabled&&"color-ranges"===e.defaultView&&(e._currentView.activeView=6);0===e._currentView.activeView&&(e.views.map.enabled?e._currentView.activeView=1:e.views.line.enabled?e._currentView.activeView=2:e.views.chart.enabled?e._currentView.activeView=3:e.views.days.enabled?e._currentView.activeView=4:e.views.months.enabled?e._currentView.activeView=5:e.views.colorRanges.enabled&&(e._currentView.activeView=6),0===e._currentView.activeView&&(e.views.map.enabled=!0,e._currentView.activeView=1))}(i),i},e.get=s})(i=e.Options||(e.Options={}))})(w||(w={})),(e=>{let o;(e=>{function o(e){return(e=n.getObject(e,{})).stText=n.getAnyString(e.stText,"st"),e.ndText=n.getAnyString(e.ndText,"nd"),e.rdText=n.getAnyString(e.rdText,"rd"),e.thText=n.getAnyString(e.thText,"th"),e.backButtonText=n.getAnyString(e.backButtonText,"Back"),e.nextButtonText=n.getAnyString(e.nextButtonText,"Next"),e.refreshButtonText=n.getAnyString(e.refreshButtonText,"Refresh"),e.exportButtonText=n.getAnyString(e.exportButtonText,"Export"),e.lessText=n.getAnyString(e.lessText,"Less"),e.moreText=n.getAnyString(e.moreText,"More"),e.dateText=n.getAnyString(e.dateText,"Date"),e.countText=n.getAnyString(e.countText,"Count"),e.mapText=n.getAnyString(e.mapText,"Map"),e.chartText=n.getAnyString(e.chartText,"Chart"),e.noChartDataMessage=n.getAnyString(e.noChartDataMessage,"There is currently no data to view."),e.statisticsText=n.getAnyString(e.statisticsText,"Statistics"),e.noColorRangesDataMessage=n.getAnyString(e.noColorRangesDataMessage,"There are currently no color ranges to view."),e.unknownTrendText=n.getAnyString(e.unknownTrendText,"Unknown"),e.importButtonText=n.getAnyString(e.importButtonText,"Import"),e.noMapDataMessage=n.getAnyString(e.noMapDataMessage,"There is currently no data to view."),e.objectErrorText=n.getAnyString(e.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}"),e.attributeNotValidErrorText=n.getAnyString(e.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object."),e.attributeNotSetErrorText=n.getAnyString(e.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly."),e.closeButtonText=n.getAnyString(e.closeButtonText,"Close"),e.configurationButtonText=n.getAnyString(e.configurationButtonText,"Configuration"),e.configurationTitleText=n.getAnyString(e.configurationTitleText,"Configuration"),e.visibleMonthsText=n.getAnyString(e.visibleMonthsText,"Visible Months"),e.visibleDaysText=n.getAnyString(e.visibleDaysText,"Visible Days"),e.dataText=n.getAnyString(e.dataText,"Data"),e.colorRangesText=n.getAnyString(e.colorRangesText,"Color Ranges"),e.yearText=n.getAnyString(e.yearText,"Year"),e.daysText=n.getAnyString(e.daysText,"Days"),e.noDaysDataMessage=n.getAnyString(e.noDaysDataMessage,"There are currently no days to view."),e.currentYearText=n.getAnyString(e.currentYearText,"Current Year"),e.todayText=n.getAnyString(e.todayText,"Today"),e.thisWeekText=n.getAnyString(e.thisWeekText,"This Week"),e.thisMonthText=n.getAnyString(e.thisMonthText,"This Month"),e.thisYearText=n.getAnyString(e.thisYearText,"This Year"),e.unavailableText=n.getAnyString(e.unavailableText,"Unavailable"),e.monthsText=n.getAnyString(e.monthsText,"Months"),e.noMonthsDataMessage=n.getAnyString(e.noMonthsDataMessage,"There are currently no months to view."),e.selectTypeText=n.getAnyString(e.selectTypeText,"Select Type"),e.filenamePlaceholderText=n.getAnyString(e.filenamePlaceholderText,"Filename (optional)"),e.onlyDataBeingViewedText=n.getAnyString(e.onlyDataBeingViewedText,"Only data being viewed"),e.zoomInText=n.getAnyString(e.zoomInText,"Zoom In"),e.zoomOutText=n.getAnyString(e.zoomOutText,"Zoom Out"),e.clearButtonText=n.getAnyString(e.clearButtonText,"Clear"),e.selectFilesText=n.getAnyString(e.selectFilesText,"Select File(s)"),e.dragAndDropFilesText=n.getAnyString(e.dragAndDropFilesText,"Drag and drop your file(s) here ..."),e.addTypeText=n.getAnyString(e.addTypeText,"Add Type"),e.typePlaceholderText=n.getAnyString(e.typePlaceholderText,"Type"),e.addButtonText=n.getAnyString(e.addButtonText,"Add"),e.removeButtonText=n.getAnyString(e.removeButtonText,"Remove"),e.invertText=n.getAnyString(e.invertText,"Invert"),e.lineText=n.getAnyString(e.lineText,"Line"),e.noLineDataMessage=n.getAnyString(e.noLineDataMessage,"There is currently no data to view."),e.removeTypeText=n.getAnyString(e.removeTypeText,"Remove Type"),e.openNewTypeText=n.getAnyString(e.openNewTypeText,"Open new type"),e.clearExistingDataText=n.getAnyString(e.clearExistingDataText,"Clear existing data"),e.browseButtonText=n.getAnyString(e.browseButtonText,"Browse"),e.saveButtonText=n.getAnyString(e.saveButtonText,"Save"),e.resetButtonText=n.getAnyString(e.resetButtonText,"Reset"),e.copyButtonText=n.getAnyString(e.copyButtonText,"Copy"),e.yesButtonText=n.getAnyString(e.yesButtonText,"Yes"),e.noButtonText=n.getAnyString(e.noButtonText,"No"),e.confirmText=n.getAnyString(e.confirmText,"Confirm"),e.clearDataConfirmText=n.getAnyString(e.clearDataConfirmText,"Are you sure you want to clear the data?"),e.removeTypeConfirmText=n.getAnyString(e.removeTypeConfirmText,"Are you sure you want to remove this type?"),e=function(e){t.invalidOptionArray(e.monthNames,12)&&(e.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);t.invalidOptionArray(e.dayNames,7)&&(e.dayNames=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]);return e}(e)}e.get=function(e=null){const t=n.getObject(e,{});return t.safeMode=n.getBoolean(t.safeMode,!0),t.observationMode=n.getBoolean(t.observationMode,!0),t.domElementTypes=n.getStringOrArray(t.domElementTypes,["*"]),t.text=o(t.text),t},e.getText=o})(o=e.Options||(e.Options={}))})(g||(g={})),(e=>{let n;var o;(o=n=e.Background||(e.Background={})).render=function(e){t.definedParentElement(e._currentView.disabledBackground)||(e._currentView.disabledBackground=a.create(e._currentView.element,"div","disabled"))},o.show=function(e){t.defined(e._currentView.disabledBackground)&&"block"!==e._currentView.disabledBackground.style.display&&(e._currentView.disabledBackground.style.display="block")},o.hide=function(e){t.defined(e._currentView.disabledBackground)&&"none"!==e._currentView.disabledBackground.style.display&&(e._currentView.disabledBackground.style.display="none")}})(h||(h={})),(e=>{let n;var o;let i;var r;let a;var s;(o=n=e.Months||(e.Months={})).get=function(e){let t=[];return e.views.map.enabled&&1===e._currentView.activeView?t=e.views.map.monthsToShow:e.views.line.enabled&&2===e._currentView.activeView?t=e.views.line.monthsToShow:e.views.chart.enabled&&3===e._currentView.activeView?t=e.views.chart.monthsToShow:e.views.days.enabled&&4===e._currentView.activeView?t=e.views.days.monthsToShow:e.views.months.enabled&&5===e._currentView.activeView?t=e.views.months.monthsToShow:e.views.colorRanges.enabled&&6===e._currentView.activeView&&(t=e.views.colorRanges.monthsToShow),t},o.set=function(e,t){e.views.map.enabled&&1===e._currentView.activeView?e.views.map.monthsToShow=t:e.views.line.enabled&&2===e._currentView.activeView?e.views.line.monthsToShow=t:e.views.chart.enabled&&3===e._currentView.activeView?e.views.chart.monthsToShow=t:e.views.days.enabled&&4===e._currentView.activeView?e.views.days.monthsToShow=t:e.views.months.enabled&&5===e._currentView.activeView?e.views.months.monthsToShow=t:e.views.colorRanges.enabled&&6===e._currentView.activeView&&(e.views.colorRanges.monthsToShow=t)},(r=i=e.Days||(e.Days={})).get=function(e){let t=[];return e.views.map.enabled&&1===e._currentView.activeView?t=e.views.map.daysToShow:e.views.line.enabled&&2===e._currentView.activeView?t=e.views.line.daysToShow:e.views.chart.enabled&&3===e._currentView.activeView?t=e.views.chart.daysToShow:e.views.days.enabled&&4===e._currentView.activeView?t=e.views.days.daysToShow:e.views.months.enabled&&5===e._currentView.activeView?t=e.views.months.daysToShow:e.views.colorRanges.enabled&&6===e._currentView.activeView&&(t=e.views.colorRanges.daysToShow),t},r.set=function(e,t){e.views.map.enabled&&1===e._currentView.activeView?e.views.map.daysToShow=t:e.views.line.enabled&&2===e._currentView.activeView?e.views.line.daysToShow=t:e.views.chart.enabled&&3===e._currentView.activeView?e.views.chart.daysToShow=t:e.views.days.enabled&&4===e._currentView.activeView?e.views.days.daysToShow=t:e.views.months.enabled&&5===e._currentView.activeView?e.views.months.daysToShow=t:e.views.colorRanges.enabled&&6===e._currentView.activeView&&(e.views.colorRanges.daysToShow=t)},(s=a=e.View||(e.View={})).getScrollPositions=function(e){e.views.map.enabled&&t.defined(e._currentView.mapContents)&&(e._currentView.mapContentsScrollLeft=e._currentView.mapContents.scrollLeft),e.views.line.enabled&&t.defined(e._currentView.lineContents)&&(e._currentView.lineContentsScrollLeft=e._currentView.lineContents.scrollLeft),e.views.chart.enabled&&t.defined(e._currentView.chartContents)&&(e._currentView.chartContentsScrollLeft=e._currentView.chartContents.scrollLeft),e.views.days.enabled&&t.defined(e._currentView.daysContents)&&(e._currentView.daysContentsScrollLeft=e._currentView.daysContents.scrollLeft),e.views.colorRanges.enabled&&t.defined(e._currentView.colorRangesContents)&&(e._currentView.colorRangesContentsScrollLeft=e._currentView.colorRangesContents.scrollLeft),""!==e._currentView.element.innerHTML&&(e._currentView.element.style.height=`${e._currentView.element.offsetHeight}px`),e._currentView.element.innerHTML=""},s.get=function(e){let t=0;return"map"===e.toLowerCase()?t=1:"line"===e.toLowerCase()?t=2:"chart"===e.toLowerCase()?t=3:"days"===e.toLowerCase()?t=4:"months"===e.toLowerCase()?t=5:"color-ranges"===e.toLowerCase()&&(t=6),t},s.getName=function(e){let t="";return 1===e._currentView.activeView?t="map":2===e._currentView.activeView?t="line":3===e._currentView.activeView?t="chart":4===e._currentView.activeView?t="days":5===e._currentView.activeView?t="months":6===e._currentView.activeView&&(t="color-ranges"),t},s.getText=function(e,t){let n="";return e.views.map.enabled&&1===e._currentView.activeView?n=t.text.mapText:e.views.line.enabled&&2===e._currentView.activeView?n=t.text.lineText:e.views.chart.enabled&&3===e._currentView.activeView?n=t.text.chartText:e.views.days.enabled&&4===e._currentView.activeView?n=t.text.daysText:e.views.months.enabled&&5===e._currentView.activeView?n=t.text.monthsText:e.views.colorRanges.enabled&&6===e._currentView.activeView&&(n=t.text.colorRangesText),n},s.set=function(e){e.views.map.enabled&&1===e._currentView.activeView?e._currentView.mapContentsContainer.style.display="block":e.views.line.enabled&&2===e._currentView.activeView?e._currentView.lineContentsContainer.style.display="block":e.views.chart.enabled&&3===e._currentView.activeView?e._currentView.chartContents.style.display="block":e.views.days.enabled&&4===e._currentView.activeView?e._currentView.daysContents.style.display="block":e.views.months.enabled&&5===e._currentView.activeView?e._currentView.monthsContents.style.display="block":e.views.colorRanges.enabled&&6===e._currentView.activeView&&(e._currentView.colorRangesContents.style.display="block"),e._currentView.element.style.removeProperty("height")}})(m||(m={})),(p||(p={})).file=function(e,o,i,r){"json"===o?function(e,o,i){const r=new FileReader;let a={};r.onloadend=()=>o(e.name,a),r.onload=e=>{const o=n.getObjectFromString(e.target.result,i);o.parsed&&t.definedObject(o.object)&&(a=o.object)},r.readAsText(e)}(e,i,r):"txt"===o?function(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().split("\n"),n=t.length;for(let e=1;e<n;e++){const n=t[e].split(":");o[n[0].trim()]=parseInt(n[1].trim())}},n.readAsText(e)}(e,i):"csv"===o?function(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().replace(new RegExp('"',"g"),"").split("\n"),n=t.length;for(let e=1;e<n;e++){const n=t[e].split(",");o[n[0].trim()]=parseInt(n[1].trim())}},n.readAsText(e)}(e,i):"tsv"===o?function(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().split("\n"),n=t.length;for(let e=1;e<n;e++){const n=t[e].split("\t");o[n[0].trim()]=parseInt(n[1].trim())}},n.readAsText(e)}(e,i):"md"===o?function(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().split("\n"),n=t.length;for(let e=2;e<n;e++){const n=t[e].trim(),i=n.substring(1,n.length-1).trim().split("|");o[i[0].trim()]=parseInt(i[1].trim())}},n.readAsText(e)}(e,i):"yaml"===o?function(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().split("\n"),n=t.length;for(let e=1;e<n;e++){const n=t[e].split(":");o[n[0].trim()]=parseInt(n[1].trim())}},n.readAsText(e)}(e,i):"toml"===o&&function(e,t){const n=new FileReader,o={};n.onloadend=()=>t(e.name,o),n.onload=e=>{const t=e.target.result.toString().split("\n"),n=t.length;for(let e=3;e<n;e++){const n=t[e].split("=");o[n[0].trim()]=parseInt(n[1].trim())}},n.readAsText(e)}(e,i)},(e=>{let n;var i;let a;(i=n=e.File||(e.File={})).getMimeType=function(e){let t=null;return"csv"===e.toLowerCase()?t="text/csv":"json"===e.toLowerCase()?t="application/json":"xml"===e.toLowerCase()?t="application/xml":"txt"===e.toLowerCase()?t="text/plain":"html"===e.toLowerCase()?t="text/html":"md"===e.toLowerCase()?t="text/x-markdown":"tsv"===e.toLowerCase()?t="text/tab-separated-values":"yaml"===e.toLowerCase()?t="application/yaml":"toml"===e.toLowerCase()&&(t="application/toml"),t},i.getFilename=function(e,n,i,r){let a=null;if(t.definedString(i))a=`${i}.${r.toLowerCase()}`;else{const t=new Date,i=`${o.padNumber(t.getDate())}-${o.padNumber(t.getMonth()+1)}-${t.getFullYear()}`,s=`${o.padNumber(t.getHours())}-${o.padNumber(t.getMinutes())}`;let l="";n._currentView.activeType!==e.text.unknownTrendText&&(l=`${n._currentView.activeType.toLowerCase().replace(/ /g,"_")}_`),a=`${l}${i}_${s}.${r.toLowerCase()}`}return a},(e=>{function t(e){let t=e.toString().replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");return t=t.replace(/"/g,'""'),t=`"${t}"`,t}function n(e){return e.join(",")}e.get=function(e,o,i,a){let s=null;return"csv"===e?s=function(e,o){const i=[];for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.push(n([t(o),t(e[o].toString())]));i.length>0&&i.unshift(n([t(o.text.dateText),t(o.text.countText)]));return i.join("\n")}(o,i):"json"===e?s=function(e){return JSON.stringify(e,null,2)}(o):"xml"===e?s=function(e,t,n){const o=r.getCustomFormattedDateText(t,n.exportDateTimeFormat,new Date),i=[];i.push('<?xml version="1.0" ?>'),i.push("<LastModified>"),i.push(`  <FullDate>${o}</FullDate>`),i.push("</LastModified>"),i.push("<Dates>");for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i.push("<Date>"),i.push(`  <FullDate>${t}</FullDate>`),i.push(`  <Count>${e[t].toString()}</Count>`),i.push("</Date>"));return i.push("</Dates>"),i.join("\n")}(o,i,a):"txt"===e?s=function(e,t,n){const o=r.getCustomFormattedDateText(t,n.exportDateTimeFormat,new Date),i=[];i.push(`Last-Modified: ${o}`);for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(`${t}: ${e[t].toString()}`);return i.join("\n")}(o,i,a):"html"===e?s=function(e,t,n){const o=[],i=r.getCustomFormattedDateText(t,n.exportDateTimeFormat,new Date);o.push("<!DOCTYPE html>"),o.push("<html>"),o.push("<head>"),o.push('  <meta charset="utf-8" />'),o.push(`  <meta http-equiv="Last-Modified" content="${i} GMT" />`),o.push("</head>"),o.push("<body>"),o.push("  <ul>");for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.push(`    <li><b>${t}:</b> ${e[t].toString()}</li>`);return o.push("  </ul>"),o.push("</body>"),o.push("</html>"),o.join("\n")}(o,i,a):"md"===e?s=function(e){const t=[];t.push("| Full Date | Count |"),t.push("| --- | --- |");for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(`| ${n} | ${e[n].toString()} |`);return t.join("\n")}(o):"tsv"===e?s=function(e){const t=[];t.push("Full Date\tCount");for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(`${n}\t${e[n].toString()}`);return t.join("\n")}(o):"yaml"===e?s=function(e,t,n){const o=[],i=r.getCustomFormattedDateText(t,n.exportDateTimeFormat,new Date);o.push(`Last-Modified: ${i}`);for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.push(`${t}: ${e[t].toString()}`);return o.join("\n")}(o,i,a):"toml"===e&&(s=function(e,t,n){const o=[],i=r.getCustomFormattedDateText(t,n.exportDateTimeFormat,new Date);o.push(`last_modified = "${i}"`),o.push(""),o.push("[dates]");for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.push(`${t} = ${e[t].toString()}`);return o.join("\n")}(o,i,a)),s}})(a=e.Contents||(e.Contents={}))})(y||(y={})),(v||(v={})).setHeight=function(e,t,n,o=!0,i=!1){if(n>0){const r=i?`${n}%`:`${n}px`;o&&e.chartsAnimationDelay>0?setTimeout(()=>{t.style.height=r},e.chartsAnimationDelay):t.style.height=r}},(t=>{function i(t){if(t.useLocalStorageForData&&window.localStorage){const n=window.localStorage.length,i=[],r=t._currentView.element.id;for(let t=0;t<n;t++){const n=window.localStorage.key(t);o.startsWithAnyCase(n,`${e.LOCAL_STORAGE_START_ID}${r}`)&&i.push(n)}const a=i.length;for(let e=0;e<a;e++)window.localStorage.removeItem(i[e])}}t.load=function(t,i,r){if(i.useLocalStorageForData&&window.localStorage){const a=window.localStorage.length,s=i._currentView.element.id;for(let i=0;i<a;i++){const a=window.localStorage.key(i);if(o.startsWithAnyCase(a,`${e.LOCAL_STORAGE_START_ID}${s}`)){const e=window.localStorage.getItem(a),o=n.getObjectFromString(e,t);if(o.parsed){r.typeData=o.object,r.totalTypes=0;for(const e in r.typeData)Object.prototype.hasOwnProperty.call(r.typeData,e)&&r.totalTypes++}break}}}},t.store=function(t,n){if(t.useLocalStorageForData&&window.localStorage){const o=t._currentView.element.id,r=JSON.stringify(n.typeData);i(t),window.localStorage.setItem(`${e.LOCAL_STORAGE_START_ID}${o}`,r)}},t.clear=i})(f||(f={})),(T||(T={})).largestValueForViewValues=function(e){const t={};for(let n=0;n<=e;n++)t[n+1]={total:0,typeTotals:{}};return t},(e=>{let t;(e=>{let t=null;function n(e){"Escape"===e.key&&t()}e.bindEvents=function(e){t=e,document.addEventListener("keydown",e=>n(e))},e.unbindEvents=function(){document.removeEventListener("keydown",n)}})(t=e.Dialog||(e.Dialog={}))})(b||(b={})),(()=>{let i={},C=null,D={};function x(){const e=i.domElementTypes,t=e.length;for(let n=0;n<t;n++){const t=document.getElementsByTagName(e[n]),o=[].slice.call(t),i=o.length;for(let e=0;e<i&&S(o[e]);e++);}}function S(o){let r=!0;if(t.defined(o)&&o.hasAttribute(e.Attribute.HEAT_JS)){const a=o.getAttribute(e.Attribute.HEAT_JS);if(t.definedString(a)){const s=n.getObjectFromString(a,i);s.parsed&&t.definedObject(s.object)?M(w.Options.getForNewInstance(i,s.object,o)):i.safeMode||(console.error(i.text.attributeNotValidErrorText.replace("{{attribute_name}}",e.Attribute.HEAT_JS)),r=!1)}else i.safeMode||(console.error(i.text.attributeNotSetErrorText.replace("{{attribute_name}}",e.Attribute.HEAT_JS)),r=!1)}return r}function M(n){s.customEvent(n.events.onBeforeRender,n._currentView.element),t.definedString(n._currentView.element.id)||(n._currentView.element.id=crypto.randomUUID()),a.addClass(n._currentView.element,"heat-js"),n.resizable&&a.addClass(n._currentView.element,"resizable"),n._currentView.element.removeAttribute(e.Attribute.HEAT_JS),le(n._currentView.element.id,n),B(n),O(n),function(e){const t=a.getStyleValueByNameSizingMetic(document.documentElement,d.Variables.DaySize),n=a.getStyleValueByNameSizingMetic(document.documentElement,d.Variables.LineWidth);let o=a.getStyleValueByName(document.documentElement,d.Variables.DaySize,!0),i=a.getStyleValueByName(document.documentElement,d.Variables.LineWidth,!0);-1===e._currentView.mapZoomIncrement&&(e._currentView.mapZoomIncrement=o/10);-1===e._currentView.lineZoomIncrement&&(e._currentView.lineZoomIncrement=i/10);e.zooming.defaultLevel>0&&-1===e._currentView.zoomLevel&&(o+=parseFloat((e.zooming.defaultLevel*e._currentView.mapZoomIncrement).toFixed(1)),i+=parseFloat((e.zooming.defaultLevel*e._currentView.lineZoomIncrement).toFixed(1)),e._currentView.zoomLevel=e.zooming.defaultLevel,e._currentView.element.style.setProperty(d.Variables.DaySize,`${o}${t}`),e._currentView.element.style.setProperty(d.Variables.LineWidth,`${i}${n}`))}(n),s.customEvent(n.events.onRenderComplete,n._currentView.element)}function B(n,d=!1,w=!1,g=!1){l.hide(n),d&&f.store(n,D[n._currentView.element.id]),m.View.getScrollPositions(n),l.render(n),n._currentView.yearsAvailable=function(e){let t=[];if(e.showOnlyDataForYearsAvailable){const n=ce(e);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const n=parseInt(r.getStorageDateYear(e));-1===t.indexOf(n)&&t.push(n)}}return t=t.sort((e,t)=>e-t),t}(n),n._currentView.sideMenu=a.create(n._currentView.element,"div","container-side-menu"),n._currentView.container=a.create(n._currentView.element,"div","container-contents"),function(e){e._currentView.isInFetchMode&&(0===e._currentView.isInFetchModeTimer&&ge(e),0===e._currentView.isInFetchModeTimer&&(e._currentView.isInFetchModeTimer=setInterval(()=>{ge(e),B(e)},e.dataFetchDelay)))}(n),function(e){const t=se(e);if(D[e._currentView.element.id].totalTypes>1)for(const n in D[e._currentView.element.id].typeData)(n!==i.text.unknownTrendText||t>0)&&0===t&&e._currentView.activeType===i.text.unknownTrendText&&(e._currentView.activeType=n)}(n),function(e){const t=e.title.showTitleDropDownMenu&&e._currentView.viewsEnabled>1;t?(e.views.map.enabled&&a.create(e._currentView.sideMenu,"div","menu-tab"),e.views.line.enabled&&a.create(e._currentView.sideMenu,"div","menu-tab"),e.views.chart.enabled&&a.create(e._currentView.sideMenu,"div","menu-tab"),e.views.days.enabled&&a.create(e._currentView.sideMenu,"div","menu-tab"),e.views.months.enabled&&a.create(e._currentView.sideMenu,"div","menu-tab"),e.views.colorRanges.enabled&&a.create(e._currentView.sideMenu,"div","menu-tab")):e._currentView.sideMenu.parentNode.removeChild(e._currentView.sideMenu)}(n),function(e){if(e.title.showText||e.title.showYearSelector||e.title.showRefreshButton||e.title.showExportButton||e.title.showImportButton||e.title.showClearButton){const n=a.create(e._currentView.container,"div","title-bar"),o=a.create(n,"div","title"),c=e.title.showTitleDropDownMenu&&e._currentView.viewsEnabled>1;if(c?e.title.showTitleDropDownButton&&a.create(o,"div","down-arrow"):a.addClass(o,"no-click"),e.title.showText&&(o.innerHTML+=e.title.text,e.title.showSectionText&&(a.createWithHTML(o,"span","section-text","["),a.createWithHTML(o,"span","section-text-name",m.View.getText(e,i)),a.createWithHTML(o,"span","section-text","]"))),c&&function(e,n){const o=a.create(n,"div","titles-menu-container"),r=a.create(o,"div","titles-menu");e.title.showTitleDropDownHeaders&&a.createWithHTML(r,"div","title-menu-header",`${i.text.dataText}:`);if(e.views.map.enabled){z(e,P(e,r,i.text.mapText),1,"map")}if(e.views.line.enabled){z(e,P(e,r,i.text.lineText),2,"line")}if(e.views.chart.enabled){z(e,P(e,r,i.text.chartText),3,"chart")}let s=null;if(e.views.days.enabled){e.title.showTitleDropDownHeaders&&(s=a.createWithHTML(r,"div","title-menu-header",`${i.text.yearText}:`));z(e,P(e,r,i.text.daysText),4,"days")}if(e.views.months.enabled){e.title.showTitleDropDownHeaders&&!t.defined(s)&&(s=a.createWithHTML(r,"div","title-menu-header",`${i.text.yearText}:`));z(e,P(e,r,i.text.monthsText),5,"months")}if(e.views.colorRanges.enabled){e.title.showTitleDropDownHeaders&&a.createWithHTML(r,"div","title-menu-header",`${i.text.statisticsText}:`);z(e,P(e,r,i.text.colorRangesText),6,"color-ranges")}}(e,o),e.title.showImportButton&&!e._currentView.isInFetchMode){const o=a.createIconButton(n,"button","import","arrow-up");o.onclick=()=>function(e){(function(e){if(h.Background.render(e),!t.definedParentElement(e._currentView.importDialog)){e._currentView.importDialog=a.create(e._currentView.disabledBackground,"div","dialog import");const n=a.create(e._currentView.importDialog,"div","dialog-title-bar"),o=a.create(e._currentView.importDialog,"div","dialog-contents"),r=a.create(n,"div","dialog-close");a.createWithHTML(n,"span","dialog-title-bar-text",i.text.selectFilesText),e._currentView.importDialogDragAndDrop=a.create(o,"div","drag-and-drop-files"),e._currentView.importDialogClearExistingData=a.createCheckBox(o,i.text.clearExistingDataText,crypto.randomUUID()),a.createWithHTML(e._currentView.importDialogDragAndDrop,"div","no-files",i.text.dragAndDropFilesText),function(e,n){n.allowFileImports&&!n._currentView.isInFetchMode&&(e.ondragover=a.cancelBubble,e.ondragenter=a.cancelBubble,e.ondragleave=a.cancelBubble,e.ondrop=e=>{if(a.cancelBubble(e),t.defined(window.FileReader)&&e.dataTransfer.files.length>0){const t=new DataTransfer;if(n.allowFileImports){const n=e.dataTransfer.files.length;for(let o=0;o<n;o++)t.items.add(e.dataTransfer.files[o])}else t.items.add(e.dataTransfer.files[0]);E(n,t.files)}})}(e._currentView.importDialogDragAndDrop,e);const s=a.create(o,"div","buttons"),c=a.createButton(s,"button","",i.text.browseButtonText);e._currentView.importDialogImportButton=a.createButton(s,"button","default",i.text.importButtonText),e._currentView.importDialogImportButton.disabled=!0,r.onclick=()=>R(e),c.onclick=()=>I(e),e._currentView.importDialogImportButton.onclick=()=>H(e._currentView.importDialogFileList,e,e._currentView.importDialogClearExistingData.checked),l.add(r,e,i.text.closeButtonText)}})(e),h.Background.show(e),t.defined(e._currentView.importDialog)&&"block"!==e._currentView.importDialog.style.display&&(e._currentView.importDialog.style.display="block");l.hide(e),b.Dialog.bindEvents(()=>R(e))}(e),e.title.showToolTips&&l.add(o,e,i.text.importButtonText)}if(e.title.showExportButton&&function(e){return Object.keys(ce(e)).length>0}(e)){const o=a.createIconButton(n,"button","export","arrow-down");o.onclick=()=>function(e){(function(e){if(h.Background.render(e),!t.definedParentElement(e._currentView.exportDialog)){e._currentView.exportDialog=a.create(e._currentView.disabledBackground,"div","dialog export");const t=a.create(e._currentView.exportDialog,"div","dialog-title-bar"),n=a.create(e._currentView.exportDialog,"div","dialog-contents"),o=a.create(t,"div","dialog-close");a.createWithHTML(t,"span","dialog-title-bar-text",i.text.selectTypeText),e._currentView.exportDialogExportTypeSelect=a.create(n,"select","input-box"),e._currentView.exportDialogExportTypeSelect.name=crypto.randomUUID(),e._currentView.exportDialogExportFilenameInput=a.create(n,"input","input-box filename"),e._currentView.exportDialogExportFilenameInput.name=crypto.randomUUID(),e._currentView.exportDialogExportFilenameInput.placeholder=i.text.filenamePlaceholderText,e._currentView.exportDialogExportOnlyDataBeingViewedCheckBox=a.createCheckBox(n,i.text.onlyDataBeingViewedText,crypto.randomUUID()),e._currentView.exportDialogExportOnlyDataBeingViewedCheckBox.checked=e.exportOnlyDataBeingViewed;const r=a.create(n,"div","buttons"),s=a.createButton(r,"button","",i.text.copyButtonText),c=a.createButton(r,"button","default",i.text.exportButtonText);!function(e){let t;const n=[];for(t in _){const o=a.createWithNoContainer("option");o.value=_[t],o.textContent=t.toString().toUpperCase(),o.selected=t===e.exportType,n.push(o)}n.sort((e,t)=>e.text.toLowerCase().localeCompare(t.text.toLowerCase())),n.forEach(t=>e._currentView.exportDialogExportTypeSelect.add(t))}(e),e._currentView.exportDialogExportFilenameInput.onkeydown=t=>{"Enter"===t.key&&L(e)},o.onclick=()=>N(e),s.onclick=()=>L(e,!0),c.onclick=()=>L(e),l.add(o,e,i.text.closeButtonText)}})(e),h.Background.show(e),t.defined(e._currentView.exportDialog)&&"block"!==e._currentView.exportDialog.style.display&&(e._currentView.exportDialogExportFilenameInput.value="",e._currentView.exportDialog.style.display="block",e._currentView.exportDialogExportFilenameInput.focus());l.hide(e),b.Dialog.bindEvents(()=>N(e))}(e),e.title.showToolTips&&l.add(o,e,i.text.exportButtonText)}if(e.title.showRefreshButton){const t=a.createIconButton(n,"button","refresh","refresh");e.title.showToolTips&&l.add(t,e,i.text.refreshButtonText),t.onclick=()=>{B(e),s.customEvent(e.events.onRefresh,e._currentView.element)}}if(e.title.showClearButton&&ue(e)>0){const t=a.createIconButton(n,"button","clear","close");e.title.showToolTips&&l.add(t,e,i.text.clearButtonText),t.onclick=()=>{W(e,i.text.clearDataConfirmText,()=>{!function(e){const t=e._currentView.activeYear,n=ce(e);for(let o=e.startMonth;o<12+e.startMonth;o++){let i=o,a=t;e.startMonth>0&&o>11&&(i=o-12,a++);const s=r.getTotalDaysInMonth(a,i);for(let e=0;e<s;e++){const t=new Date(a,i,e+1),o=r.toStorageDate(t);Object.prototype.hasOwnProperty.call(n,o)&&delete n[o]}}s.customEvent(e.events.onClearViewableData,e._currentView.element)}(e),B(e,!0)})}}if(e.title.showYearSelector){const o=a.createIconButton(n,"button","back","arrow-line-left");if(o.disabled=t.firstVisibleYear(e,e._currentView.activeYear),o.onclick=()=>he(e),e.title.showToolTips&&l.add(o,e,i.text.backButtonText),function(e,t){let n=e._currentView.activeYear.toString();e.startMonth>0&&(n+=` / ${e._currentView.activeYear+1}`);e._currentView.yearText=a.createWithHTML(t,"div","year-text",n),0===e._currentView.yearTextWidth&&(e._currentView.yearTextWidth=Math.ceil(e._currentView.yearText.offsetWidth+20));e._currentView.yearText.style.width=`${e._currentView.yearTextWidth}px`}(e,n),e.title.showYearSelectionDropDown?function(e){a.create(e._currentView.yearText,"div","down-arrow");const n=a.create(e._currentView.yearText,"div","years-menu-container"),o=a.create(n,"div","years-menu"),i=(new Date).getFullYear();let r=null;n.style.display="block",n.style.visibility="hidden";for(let n=i-e.title.extraSelectionYears;n<i+e.title.extraSelectionYears;n++)if(t.yearVisible(e,n)){const a=U(e,o,n,i);t.defined(r)||(r=a)}t.defined(r)&&(o.scrollTop=r.offsetTop-o.offsetHeight/2);n.style.display="none",n.style.visibility="visible"}(e):a.addClass(e._currentView.yearText,"no-click"),e.title.showConfigurationButton){const o=a.create(n,"div","configure");o.onclick=()=>function(e){(function(e){if(h.Background.render(e),!t.definedParentElement(e._currentView.configurationDialog)){e._currentView.configurationDialog=a.create(e._currentView.disabledBackground,"div","dialog configuration");const n=a.create(e._currentView.configurationDialog,"div","dialog-title-bar"),o=a.create(e._currentView.configurationDialog,"div","dialog-contents"),r=a.create(n,"div","dialog-close"),c=a.create(o,"div","side-containers"),d=a.create(c,"div","side-container panel"),u=a.create(c,"div","side-container panel");a.createWithHTML(n,"span","dialog-title-bar-text",i.text.configurationTitleText),a.createWithHTML(d,"div","side-container-title-text",`${i.text.visibleDaysText}:`),a.createWithHTML(u,"div","side-container-title-text",`${i.text.visibleMonthsText}:`);const w=a.create(u,"div","side-container"),g=a.create(u,"div","side-container"),p=a.create(o,"div","buttons"),y=a.createButton(p,"button","",i.text.resetButtonText),v=a.createButton(p,"button","default",i.text.saveButtonText);r.onclick=()=>k(e),y.onclick=()=>function(e){for(let t=0;t<7;t++)e._currentView.configurationDialogDayCheckBoxes[t].checked=!0;for(let t=0;t<12;t++)e._currentView.configurationDialogMonthCheckBoxes[t].checked=!0}(e),v.onclick=()=>function(e){h.Background.hide(e),t.defined(e._currentView.configurationDialog)&&"none"!==e._currentView.configurationDialog.style.display&&(e._currentView.configurationDialog.style.display="none");const n=m.Days.get(e),o=m.Months.get(e),i=[],r=[];let a=!1;for(let t=0;t<7;t++)e._currentView.configurationDialogDayCheckBoxes[t].checked&&i.push(t+1);for(let t=0;t<12;t++)e._currentView.configurationDialogMonthCheckBoxes[t].checked&&r.push(t+1);i.length>=1&&JSON.stringify(i)!==JSON.stringify(n)&&(m.Days.set(e,i),a=!0);r.length>=1&&JSON.stringify(r)!==JSON.stringify(o)&&(m.Months.set(e,r),a=!0);a?(B(e),s.customEvent(e.events.onBindingOptionsUpdate,e._currentView.element,e)):l.hide(e)}(e);for(let t=0;t<7;t++)e._currentView.configurationDialogDayCheckBoxes[t]=a.createCheckBox(d,i.text.dayNames[t],t.toString());let f=w,T=0;for(let t=e.startMonth;t<12+e.startMonth;t++){let n=t;e.startMonth>0&&t>11&&(n=t-12),e._currentView.configurationDialogMonthCheckBoxes[n]=a.createCheckBox(f,i.text.monthNames[n],n.toString()),T++,T>6&&(f=g)}l.add(r,e,i.text.closeButtonText)}})(e),h.Background.show(e),t.defined(e._currentView.configurationDialog)&&"block"!==e._currentView.configurationDialog.style.display&&(e._currentView.configurationDialog.style.display="block");const n=m.Days.get(e),o=m.Months.get(e);for(let o=0;o<7;o++)e._currentView.configurationDialogDayCheckBoxes[o].checked=t.dayVisible(n,o+1);for(let n=0;n<12;n++)e._currentView.configurationDialogMonthCheckBoxes[n].checked=t.monthVisible(o,n);l.hide(e),b.Dialog.bindEvents(()=>k(e))}(e),e.title.showToolTips&&l.add(o,e,i.text.configurationButtonText)}if(e.title.showCurrentYearButton){const t=a.createIconButton(n,"button","current-year","pin");e.title.showToolTips&&l.add(t,e,i.text.currentYearText),t.onclick=()=>{e._currentView.activeYear=(new Date).getFullYear()-1,me(e,!1),s.customEvent(e.events.onSetYear,e._currentView.element,e._currentView.activeYear)}}const r=a.createIconButton(n,"button","next","arrow-line-right");r.disabled=t.lastVisibleYear(e,e._currentView.activeYear),r.onclick=()=>me(e),e.title.showToolTips&&l.add(r,e,i.text.nextButtonText)}}}(n),function(e){const n=new Date,s=e._currentView.activeYear===n.getFullYear();if(e.yearlyStatistics.enabled&&(!e.yearlyStatistics.showOnlyForCurrentYear||s)){const l=a.create(e._currentView.container,"div","yearly-statistics"),c=m.Days.get(e),d=m.Months.get(e),u=G(e,c,d,new Date(e._currentView.activeYear,e.startMonth,1),new Date(e._currentView.activeYear+1,e.startMonth,1));if(e.yearlyStatistics.showToday){let d=ce(e)[r.toStorageDate(n)];const w=a.create(l,"div","statistics-box"),g=r.getWeekdayNumber(n)+1;t.defined(d)&&t.dayVisible(c,g)||(d=0);const h=s?o.friendlyNumber(d):i.text.unavailableText;a.createWithHTML(w,"div","statistics-box-title",`${i.text.todayText}:`);const m=a.createWithHTML(w,"div","statistics-box-count",h);s||a.addClass(m,"unavailable"),J(e,m,u,d,s)}if(e.yearlyStatistics.showThisWeek){let t=0;if(s){const n=r.getDateForMondayOfCurrentWeek(),o=new Date(n);o.setDate(n.getDate()+7),t=G(e,c,d,n,o)}const n=s?o.friendlyNumber(t):i.text.unavailableText,w=a.create(l,"div","statistics-box");a.createWithHTML(w,"div","statistics-box-title",`${i.text.thisWeekText}:`);const g=a.createWithHTML(w,"div","statistics-box-count",n);s||a.addClass(g,"unavailable"),J(e,g,u,t,s)}if(e.yearlyStatistics.showThisMonth){let t=0;if(s){t=G(e,c,d,new Date(n.getFullYear(),n.getMonth(),1),new Date(n.getFullYear(),n.getMonth(),r.getTotalDaysInMonth(n.getFullYear(),n.getMonth())+1))}const w=s?o.friendlyNumber(t):i.text.unavailableText,g=a.create(l,"div","statistics-box");a.createWithHTML(g,"div","statistics-box-title",`${i.text.thisMonthText}:`);const h=a.createWithHTML(g,"div","statistics-box-count",w);s||a.addClass(h,"unavailable"),J(e,h,u,t,s)}if(e.yearlyStatistics.showThisYear){const e=a.create(l,"div","statistics-box");a.createWithHTML(e,"div","statistics-box-title",`${i.text.thisYearText}:`),a.createWithHTML(e,"div","statistics-box-count",o.friendlyNumber(u))}""===l.innerHTML&&l.parentNode.removeChild(l)}}(n),n.views.map.enabled&&1===n._currentView.activeView&&function(n,o=!1,s){if(n._currentView.mapContentsContainer=a.create(n._currentView.container,"div","map-contents-container"),n._currentView.mapContents=a.create(n._currentView.mapContentsContainer,"div","map-contents"),function(e){let t=!1;const n=ce(e),o=e._currentView.activeYear.toString(),i=(e._currentView.activeYear+1).toString();for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(r.getStorageDateYear(a)===o){t=!0;break}if(e.startMonth>0&&r.getStorageDateYear(a)===i){t=!0;break}}return t}(n)){n._currentView.mapContents.style.minHeight="unset",n._currentView.mapContents.onscroll=()=>l.hide(n);const c=a.create(n._currentView.mapContents,"div","map"),d=n._currentView.activeYear;if(o&&a.addClass(c,"view-switch"),n.views.map.showDayNames){const e=a.create(c,"div","days"),o=n.views.map.showMinimalDayNames&&7===n.views.map.daysToShow.length;n.views.map.showMonthNames&&!n.views.map.placeMonthNamesOnTheBottom||(e.className="days-months-bottom");for(let r=0;r<7;r++)if(t.dayVisible(n.views.map.daysToShow,r+1)){const t=o&&r%3!=0?" ":i.text.dayNames[r],s=a.createWithHTML(e,"div","day-name",t);n.views.days.enabled&&(s.ondblclick=()=>ae(n,4,"days")),n.views.map.showSpacing||a.addClass(s,"no-spacing")}n.views.map.showDaysInReverseOrder&&a.reverseChildrenOrder(e)}const w=a.create(c,"div","months"),g=u.getAllSorted(n);for(let o=n.startMonth;o<12+n.startMonth;o++){let s=o,l=d;if(n.startMonth>0&&o>11&&(s=o-12,l++),t.monthVisible(n.views.map.monthsToShow,s)){const o=a.create(w,"div","month"),c=a.create(o,"div","day-columns"),u=new Date(l,s,1),h=r.getWeekdayNumber(u);let m=r.getTotalDaysInMonth(l,s),p=a.create(c,"div","day-column"),y=!1,v=1;o.setAttribute(e.Attribute.View.Map.HEAT_JS_MONTH_NUMBER,`${s+1}`),m+=h;for(let e=0;e<m;e++){if(e>=h)y=!0;else if(t.dayVisible(n.views.map.daysToShow,v)){const e=a.create(p,"div","day-disabled");n.views.map.showSpacing||a.addClass(e,"no-spacing")}if(y){let o=null;if(t.dayVisible(n.views.map.daysToShow,v)&&(o=X(n,p,e-h,s,l,g)),(e+1)%7==0&&(n.views.map.showDaysInReverseOrder&&a.reverseChildrenOrder(p),p=a.create(c,"div","day-column"),v=0,0===n._currentView.dayWidth&&t.defined(o))){const e=a.getStyleValueByName(o,"margin-left",!0),t=a.getStyleValueByName(o,"margin-right",!0);n._currentView.dayWidth=o.offsetWidth+e+t}}v++}if(Z(n,v,p),n.views.map.showMonthNames){let e;const t=o.offsetWidth,u=new Date(d,s,1);let w=i.text.monthNames[s];n.startMonth>0&&n.views.map.showYearsInMonthNames&&(w+=` ${l}`),e=n.views.map.placeMonthNamesOnTheBottom?a.createWithHTML(o,"div","month-name-bottom",w):a.createWithHTML(o,"div","month-name",w,c),n.views.map.showMonthDayGaps?e.style.width=`${t}px`:e.style.width=t-n._currentView.dayWidth+"px",r.isCurrentMonthAndYear(u)&&a.addClass(e,"current"),n.views.months.enabled&&(e.ondblclick=()=>ae(n,5,"months"))}n.views.map.showMonthsInReverseOrder&&a.reverseChildrenOrder(c)}}n.views.map.showMonthsInReverseOrder&&a.reverseChildrenOrder(w),function(e,t){const n=t.children.length;for(let o=1;o<n;o++){const n=t.children[o],i=n.getElementsByClassName("day-column"),r=[].slice.call(i)[0].getElementsByClassName("day-disabled");!e.views.map.showMonthDayGaps&&r.length>0?n.style.marginLeft=-e._currentView.dayWidth+"px":e.views.map.showMonthDayGaps&&0===r.length&&(n.style.marginLeft=`${e._currentView.dayWidth}px`)}}(n,w),re(n,n._currentView.mapContentsContainer,c),(n.views.map.keepScrollPositions||s)&&(n._currentView.mapContents.scrollLeft=n._currentView.mapContentsScrollLeft)}else{n._currentView.mapContents.style.minHeight=`${e.DEFAULT_MINIMUM_HEIGHT}px`;const t=a.createWithHTML(n._currentView.mapContents,"div","no-data-message",i.text.noMapDataMessage);o&&a.addClass(t,"view-switch")}n._currentView.mapContentsContainer.style.display="none"}(n,w,g),n.views.line.enabled&&2===n._currentView.activeView&&function(n,o,s){n._currentView.lineContentsContainer=a.create(n._currentView.container,"div","line-contents-container"),n._currentView.lineContents=a.create(n._currentView.lineContentsContainer,"div","line-contents"),n._currentView.lineContents.onscroll=()=>l.hide(n);const c=a.create(n._currentView.lineContents,"div","line"),d=a.create(c,"div","day-lines"),w=ue(n);o&&a.addClass(c,"view-switch");if(0===w){n._currentView.lineContents.style.minHeight=`${e.DEFAULT_MINIMUM_HEIGHT}px`,c.parentNode.removeChild(c);const t=a.createWithHTML(n._currentView.lineContents,"div","no-data-message",i.text.noLineDataMessage);o&&a.addClass(t,"view-switch")}else{const e=n._currentView.activeYear,l=u.getAllSorted(n);let w=[];for(let i=n.startMonth;i<12+n.startMonth;i++){let a=i,s=e;if(n.startMonth>0&&i>11&&(a=i-12,s++),t.monthVisible(n.views.line.monthsToShow,a)){const e=r.getTotalDaysInMonth(s,a);let i=1,c=!1;for(let u=0;u<e;u++){const e=new Date(s,a,i),g=r.getWeekdayNumber(e)+1;if(t.dayVisible(n.views.line.daysToShow,g)){const e=q(d,n,u+1,a,s,l,o);c||(w.push(e),c=!0)}(u+1)%7==0&&(i=0),i++}}}if(n.views.line.showInReverseOrder&&(a.reverseChildrenOrder(d),w=w.reverse()),n.views.line.showMonthNames){const o=a.create(n._currentView.lineContents,"div","line-months");let s=0;const l=l=>{let c=l+n.startMonth,d=e;if(n.startMonth>0&&c>11&&(c-=12,d++),t.monthVisible(n.views.line.monthsToShow,c)){const t=new Date(e,c,1);let l=i.text.monthNames[c];n.startMonth>0&&n.views.line.showYearsInMonthNames&&(l+=` ${d}`);const u=a.createWithHTML(o,"div","month-name",l);if(n.views.line.showInReverseOrder){let e=w[s].offsetLeft;e-=u.offsetWidth,e+=w[s].offsetWidth,u.style.left=`${e}px`}else u.style.left=`${w[s].offsetLeft}px`;r.isCurrentMonthAndYear(t)&&a.addClass(u,"current"),n.views.months.enabled&&(u.ondblclick=()=>ae(n,5,"months")),s++}};if(n.views.line.showInReverseOrder)for(let e=12;e--;)l(e);else for(let e=0;e<12;e++)l(e);o.style.width=`${d.offsetWidth}px`}re(n,n._currentView.lineContentsContainer,c),(n.views.line.keepScrollPositions||s)&&(n._currentView.lineContents.scrollLeft=n._currentView.lineContentsScrollLeft)}n._currentView.lineContentsContainer.style.display="none"}(n,w,g),n.views.chart.enabled&&3===n._currentView.activeView&&function(n,o,s){n._currentView.chartContents=a.create(n._currentView.container,"div","chart-contents"),n._currentView.chartContents.onscroll=()=>l.hide(n);const c=a.create(n._currentView.chartContents,"div","chart"),d=a.create(c,"div","y-labels"),w=a.create(c,"div","day-lines"),g=ue(n);let h=0;o&&a.addClass(c,"view-switch");if(g>0&&n.views.chart.showChartYLabels){const e=a.createWithHTML(d,"div","label-100",g.toString()),t=a.getStyleValueByName(d,"margin-right",!0);a.createWithHTML(d,"div","label-75",(3*Math.floor(g/4)).toString()),a.createWithHTML(d,"div","label-50",Math.floor(g/2).toString()),a.createWithHTML(d,"div","label-25",Math.floor(g/4).toString()),a.createWithHTML(d,"div","label-0","0"),d.style.width=`${e.offsetWidth}px`,h=d.offsetWidth+t}else d.parentNode.removeChild(d);if(0===g){n._currentView.chartContents.style.minHeight=`${e.DEFAULT_MINIMUM_HEIGHT}px`,c.parentNode.removeChild(c);const t=a.createWithHTML(n._currentView.chartContents,"div","no-data-message",i.text.noChartDataMessage);o&&a.addClass(t,"view-switch")}else{const e=u.getAllSorted(n),l=a.getStyleValueByName(w,"border-bottom-width",!0),c=(w.offsetHeight-l)/g,d=n._currentView.activeYear;let m=[],p=!1;for(let i=n.startMonth;i<12+n.startMonth;i++){let s=i,l=d;if(n.startMonth>0&&i>11&&(s=i-12,l++),t.monthVisible(n.views.chart.monthsToShow,s)){const i=r.getTotalDaysInMonth(l,s);let d=1,u=!1;for(let g=0;g<i;g++){const i=new Date(l,s,d),h=r.getWeekdayNumber(i)+1;if(t.dayVisible(n.views.chart.daysToShow,h)){const t=K(w,n,g+1,s,l,e,c,o);!u&&p&&n.views.chart.addMonthSpacing&&a.create(w,"div","month-spacing",t),u||(m.push(t),u=!0)}(g+1)%7==0&&(d=0),d++}}p=!0}if(n.views.chart.showInReverseOrder&&(a.reverseChildrenOrder(w),m=m.reverse()),n.views.chart.showMonthNames){const e=a.create(n._currentView.chartContents,"div","chart-months");let o=0;const s=a.create(e,"div","month-name-space");s.style.height=`${e.offsetHeight}px`,s.style.width=`${h}px`;const l=s=>{let l=s+n.startMonth,c=d;if(n.startMonth>0&&l>11&&(l-=12,c++),t.monthVisible(n.views.chart.monthsToShow,l)){const t=new Date(d,l,1);let s=i.text.monthNames[l];n.startMonth>0&&n.views.chart.showYearsInMonthNames&&(s+=` ${c}`);const u=a.createWithHTML(e,"div","month-name",s);if(n.views.chart.showInReverseOrder){let e=m[o].offsetLeft;e-=u.offsetWidth,e+=m[o].offsetWidth,u.style.left=`${e}px`}else u.style.left=`${m[o].offsetLeft}px`;r.isCurrentMonthAndYear(t)&&a.addClass(u,"current"),n.views.months.enabled&&(u.ondblclick=()=>ae(n,5,"months")),o++}};if(n.views.chart.showInReverseOrder)for(let e=12;e--;)l(e);else for(let e=0;e<12;e++)l(e);e.style.width=`${w.offsetWidth}px`}(n.views.chart.keepScrollPositions||s)&&(n._currentView.chartContents.scrollLeft=n._currentView.chartContentsScrollLeft)}n._currentView.chartContents.style.display="none"}(n,w,g),n.views.days.enabled&&4===n._currentView.activeView&&function(n,o){n._currentView.daysContents=a.create(n._currentView.container,"div","days-contents");const s=a.create(n._currentView.daysContents,"div","days"),l=a.create(n._currentView.daysContents,"div","day-names"),d=a.create(s,"div","y-labels"),w=a.create(s,"div","day-lines"),g=u.getAllSorted(n),h=function(e,n){const o={values:T.largestValueForViewValues(7),valueOpacities:{},largestValue:0,totalValue:0},i=ce(e),a=e._currentView.activeYear;for(let s=e.startMonth;s<12+e.startMonth;s++){let l=s,c=a;if(e.startMonth>0&&s>11&&(l=s-12,c++),t.monthVisible(e.views.days.monthsToShow,l)){const a=r.getTotalDaysInMonth(c,l);for(let s=0;s<a;s++){const a=r.toStorageDate(new Date(c,l,s+1));if(Object.prototype.hasOwnProperty.call(i,a)){const d=new Date(c,l,s+1),w=r.getWeekdayNumber(d)+1;if(!t.holiday(e,d).matched&&t.dayVisible(e.views.days.daysToShow,w)){const r=i[a],s=u.get(e,n,r);if(!t.defined(s)||s.visible){const e=t.defined(s)?s.minimum.toString():"0";o.values[w].total+=r,o.totalValue+=r,o.largestValue=Math.max(o.largestValue,o.values[w].total),Object.prototype.hasOwnProperty.call(o.values[w].typeTotals,e)||(o.values[w].typeTotals[e]=0),o.values[w].typeTotals[e]+=r}}}}}}return c.valuesToOpacitiesOrder(o),o}(n,g),m=new Date,p=r.getWeekdayNumber(m)+1;!o||n.views.days.useDifferentOpacities&&n.views.days.showDayCounts||a.addClass(s,"view-switch");if(h.largestValue>0&&n.views.days.showChartYLabels){const e=a.createWithHTML(d,"div","label-100",h.largestValue.toString()),t=a.getStyleValueByName(d,"margin-right",!0);a.createWithHTML(d,"div","label-75",(3*Math.floor(h.largestValue/4)).toString()),a.createWithHTML(d,"div","label-50",Math.floor(h.largestValue/2).toString()),a.createWithHTML(d,"div","label-25",Math.floor(h.largestValue/4).toString()),a.createWithHTML(d,"div","label-0","0"),d.style.width=`${e.offsetWidth}px`,l.style.paddingLeft=`${d.offsetWidth+t}px`}else d.parentNode.removeChild(d);if(0===h.largestValue){n._currentView.daysContents.style.minHeight=`${e.DEFAULT_MINIMUM_HEIGHT}px`,s.parentNode.removeChild(s),l.parentNode.removeChild(l);const t=a.createWithHTML(n._currentView.daysContents,"div","no-days-message",i.text.noDaysDataMessage);o&&a.addClass(t,"view-switch")}else{const e=a.getStyleValueByName(w,"border-bottom-width",!0),r=(w.offsetHeight-e)/h.largestValue;for(const e in h.values)if(Object.prototype.hasOwnProperty.call(h.values,e)&&t.dayVisible(n.views.days.daysToShow,parseInt(e))){const s=h.valueOpacities[h.values[e].total],c=Q(w,parseInt(e),h.values[e].total,n,r,s,h.totalValue,o);if(n.views.days.showDayNames){const t=a.createWithHTML(l,"div","day-name",i.text.dayNames[parseInt(e)-1]);m.getFullYear()===n._currentView.activeYear&&p===parseInt(e)&&a.addClass(t,"current")}if(n.views.days.showStackedColorRanges)for(const n in h.values[e].typeTotals)if(Object.prototype.hasOwnProperty.call(h.values[e].typeTotals,n)){const o=h.values[e].typeTotals[n]*r,i=u.getByMinimum(g,parseInt(n));if(o>0){const e=c.children.length>0?c.children[0]:null,n=a.create(c,"div","stacked-color-range",e);n.style.height=`${o}px`,t.defined(i)&&(t.definedString(i.daysCssClassName)?a.addClass(n,i.daysCssClassName):a.addClass(n,i.cssClassName))}}}n.views.days.showInReverseOrder&&(a.reverseChildrenOrder(w),a.reverseChildrenOrder(l)),n.views.days.keepScrollPositions&&(n._currentView.daysContents.scrollLeft=n._currentView.daysContentsScrollLeft)}n._currentView.daysContents.style.display="none"}(n,w),n.views.months.enabled&&5===n._currentView.activeView&&function(n,o){n._currentView.monthsContents=a.create(n._currentView.container,"div","months-contents");const s=a.create(n._currentView.monthsContents,"div","months"),l=a.create(n._currentView.monthsContents,"div","month-names"),d=a.create(s,"div","y-labels"),w=a.create(s,"div","month-lines"),g=u.getAllSorted(n),h=function(e,n){const o={values:T.largestValueForViewValues(12),valueOpacities:{},largestValue:0,totalValue:0},i=ce(e),a=e._currentView.activeYear;for(let s=e.startMonth;s<12+e.startMonth;s++){let l=s,c=a;if(e.startMonth>0&&s>11&&(l=s-12,c++),t.monthVisible(e.views.months.monthsToShow,l)){const a=l+1,s=r.getTotalDaysInMonth(c,l);for(let d=0;d<s;d++){const s=r.toStorageDate(new Date(c,l,d+1));if(Object.prototype.hasOwnProperty.call(i,s)){const w=new Date(c,l,d+1),g=r.getWeekdayNumber(w)+1;if(!t.holiday(e,w).matched&&t.dayVisible(e.views.days.daysToShow,g)){const r=i[s],l=u.get(e,n,r);if(!t.defined(l)||l.visible){const e=t.defined(l)?l.minimum.toString():"0";o.values[a].total+=r,o.totalValue+=r,o.largestValue=Math.max(o.largestValue,o.values[a].total),Object.prototype.hasOwnProperty.call(o.values[a].typeTotals,e)||(o.values[a].typeTotals[e]=0),o.values[a].typeTotals[e]+=r}}}}}}return c.valuesToOpacitiesOrder(o),o}(n,g);!o||n.views.months.useDifferentOpacities&&n.views.months.showMonthCounts||a.addClass(s,"view-switch");if(h.largestValue>0&&n.views.months.showChartYLabels){const e=a.createWithHTML(d,"div","label-100",h.largestValue.toString()),t=a.getStyleValueByName(d,"margin-right",!0);a.createWithHTML(d,"div","label-75",(3*Math.floor(h.largestValue/4)).toString()),a.createWithHTML(d,"div","label-50",Math.floor(h.largestValue/2).toString()),a.createWithHTML(d,"div","label-25",Math.floor(h.largestValue/4).toString()),a.createWithHTML(d,"div","label-0","0"),d.style.width=`${e.offsetWidth}px`,l.style.paddingLeft=`${d.offsetWidth+t}px`}else d.parentNode.removeChild(d);if(0===h.largestValue){n._currentView.monthsContents.style.minHeight=`${e.DEFAULT_MINIMUM_HEIGHT}px`,s.parentNode.removeChild(s),l.parentNode.removeChild(l);const t=a.createWithHTML(n._currentView.monthsContents,"div","no-months-message",i.text.noMonthsDataMessage);o&&a.addClass(t,"view-switch")}else{const e=a.getStyleValueByName(w,"border-bottom-width",!0),s=(w.offsetHeight-e)/h.largestValue,c=n._currentView.activeYear;for(let e=n.startMonth;e<12+n.startMonth;e++){let d=e;n.startMonth>0&&e>11&&(d=e-12);const m=d+1;if(Object.prototype.hasOwnProperty.call(h.values,m)&&t.monthVisible(n.views.months.monthsToShow,d)){const e=h.valueOpacities[h.values[m].total],p=ee(w,m,h.values[m].total,n,s,e,h.totalValue,o);if(n.views.months.showMonthNames){const e=a.createWithHTML(l,"div","month-name",i.text.monthNames[d]),t=new Date(c,d,1);r.isCurrentMonthAndYear(t)&&a.addClass(e,"current")}if(n.views.months.showStackedColorRanges)for(const e in h.values[m].typeTotals)if(Object.prototype.hasOwnProperty.call(h.values[m].typeTotals,e)){const n=h.values[m].typeTotals[e]*s,o=u.getByMinimum(g,parseInt(e));if(n>0){const e=p.children.length>0?p.children[0]:null,i=a.create(p,"div","stacked-color-range",e);i.style.height=`${n}px`,t.defined(o)&&(t.definedString(o.monthsCssClassName)?a.addClass(i,o.monthsCssClassName):a.addClass(i,o.cssClassName))}}}}n.views.months.showInReverseOrder&&(a.reverseChildrenOrder(w),a.reverseChildrenOrder(l)),n.views.months.keepScrollPositions&&(n._currentView.monthsContents.scrollLeft=n._currentView.monthsContentsScrollLeft)}n._currentView.monthsContents.style.display="none"}(n,w),n.views.colorRanges.enabled&&6===n._currentView.activeView&&function(n,o){n._currentView.colorRangesContents=a.create(n._currentView.container,"div","color-ranges-contents");const s=a.create(n._currentView.colorRangesContents,"div","color-ranges"),l=a.create(n._currentView.colorRangesContents,"div","color-range-names"),c=a.create(s,"div","y-labels"),d=a.create(s,"div","color-range-lines"),w=u.getAllSorted(n),g=function(e,n){const o=ce(e),i=e._currentView.activeYear,a=n.length,s={types:{},largestValue:0,totalValue:0};s.types[0]=0;for(let e=0;e<a;e++)s.types[n[e].minimum.toString()]=0;for(let a=e.startMonth;a<12+e.startMonth;a++){let l=a,c=i;if(e.startMonth>0&&a>11&&(l=a-12,c++),t.monthVisible(e.views.colorRanges.monthsToShow,l)){const i=r.getTotalDaysInMonth(c,l);for(let a=0;a<i;a++){const i=r.toStorageDate(new Date(c,l,a+1));if(Object.prototype.hasOwnProperty.call(o,i)){const d=new Date(c,l,a+1),w=r.getWeekdayNumber(d)+1;if(!t.holiday(e,d).matched&&t.dayVisible(e.views.colorRanges.daysToShow,w)){const r=u.get(e,n,o[i]),a=t.defined(r)?r.minimum.toString():"0";s.types[a]++,s.totalValue++,s.largestValue=Math.max(s.largestValue,s.types[a])}}}}}return s}(n,w);o&&a.addClass(s,"view-switch");if(g.largestValue>0&&n.views.colorRanges.showChartYLabels){const e=a.createWithHTML(c,"div","label-100",g.largestValue.toString()),t=a.getStyleValueByName(c,"margin-right",!0);a.createWithHTML(c,"div","label-75",(3*Math.floor(g.largestValue/4)).toString()),a.createWithHTML(c,"div","label-50",Math.floor(g.largestValue/2).toString()),a.createWithHTML(c,"div","label-25",Math.floor(g.largestValue/4).toString()),a.createWithHTML(c,"div","label-0","0"),c.style.width=`${e.offsetWidth}px`,l.style.paddingLeft=`${c.offsetWidth+t}px`}else c.parentNode.removeChild(c);if(0===g.largestValue){n._currentView.colorRangesContents.style.minHeight=`${e.DEFAULT_MINIMUM_HEIGHT}px`,s.parentNode.removeChild(s),l.parentNode.removeChild(l);const t=a.createWithHTML(n._currentView.colorRangesContents,"div","no-color-ranges-message",i.text.noColorRangesDataMessage);o&&a.addClass(t,"view-switch")}else{const e=a.getStyleValueByName(d,"border-bottom-width",!0),i=(d.offsetHeight-e)/g.largestValue;n.views.colorRanges.showColorRangeLabels||l.parentNode.removeChild(l);for(const e in g.types)if(Object.prototype.hasOwnProperty.call(g.types,e)){te(parseInt(e),d,g.types[e],n,w,i,g.totalValue,o);const r=u.getByMinimum(w,parseInt(e));n.views.colorRanges.showColorRangeLabels&&(n.views.colorRanges.useColorRangeNamesForLabels&&t.defined(r)&&t.definedString(r.name)?a.createWithHTML(l,"div","color-range-name",r.name):a.createWithHTML(l,"div","color-range-name",`${e}+`))}n.views.colorRanges.showInReverseOrder&&(a.reverseChildrenOrder(d),a.reverseChildrenOrder(l)),n.views.colorRanges.keepScrollPositions&&(n._currentView.colorRangesContents.scrollLeft=n._currentView.colorRangesContentsScrollLeft)}n._currentView.colorRangesContents.style.display="none"}(n,w),function(e){const n=a.create(e._currentView.container,"div","guide"),o=a.create(n,"div","map-types"),r=se(e);if(D[e._currentView.element.id].totalTypes>1){if(t.definedString(e.description.text)){const t=a.create(e._currentView.container,"div","description",n);ie(e,t)}const s=Object.keys(D[e._currentView.element.id].typeData).sort((e,t)=>e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})),c=s.length;for(let t=0;t<c;t++){const n=s[t];(n!==i.text.unknownTrendText||r>0)&&ne(e,o,n)}if(e.guide.allowTypeAdding){const n=a.createIconButton(o,"button","add","plus");l.add(n,e,i.text.addTypeText),n.onclick=()=>function(e){(function(e){if(h.Background.render(e),!t.definedParentElement(e._currentView.typeAddingDialog)){e._currentView.typeAddingDialog=a.create(e._currentView.disabledBackground,"div","dialog add-type");const t=a.create(e._currentView.typeAddingDialog,"div","dialog-title-bar"),n=a.create(e._currentView.typeAddingDialog,"div","dialog-contents"),o=a.create(t,"div","dialog-close");a.createWithHTML(t,"span","dialog-title-bar-text",i.text.addTypeText),e._currentView.typeAddingDialogTypeInput=a.create(n,"input","input-box type"),e._currentView.typeAddingDialogTypeInput.name=crypto.randomUUID(),e._currentView.typeAddingDialogTypeInput.placeholder=i.text.typePlaceholderText,e._currentView.typeAddingOptionNewType=a.createCheckBox(n,i.text.openNewTypeText,crypto.randomUUID()),e._currentView.typeAddingOptionNewType.checked=!0;const r=a.create(n,"div","buttons"),s=a.createButton(r,"button","default",i.text.addButtonText);e._currentView.typeAddingDialogTypeInput.onkeydown=t=>{"Enter"===t.key&&j(e)},o.onclick=()=>Y(e),s.onclick=()=>j(e),l.add(o,e,i.text.closeButtonText)}})(e),h.Background.show(e),t.defined(e._currentView.typeAddingDialog)&&"block"!==e._currentView.typeAddingDialog.style.display&&(e._currentView.typeAddingDialogTypeInput.value="",e._currentView.typeAddingDialog.style.display="block",e._currentView.typeAddingDialogTypeInput.focus());l.hide(e),b.Dialog.bindEvents(()=>Y(e))}(e)}}else ie(e,o);if(e.guide.enabled){const t=a.create(n,"div","map-toggles");if(e.guide.showInvertLabel){const n=a.createWithHTML(t,"div","invert-text",i.text.invertText);e.guide.colorRangeTogglesEnabled?n.onclick=()=>{u.invertVisibleStates(e)&&B(e)}:a.addClass(n,"no-click")}if(e.guide.showLessAndMoreLabels){const n=a.createWithHTML(t,"div","less-text",i.text.lessText);e.guide.colorRangeTogglesEnabled?n.onclick=()=>{u.updateAllVisibleStates(e,!1)&&B(e,!1,!1,!0)}:a.addClass(n,"no-click")}const o=a.create(t,"div","toggles"),r=u.getAllSorted(e),s=r.length,l=[];let c=0;for(let t=0;t<s;t++){const n=oe(e,o,r[t]);c=Math.max(c,n.offsetWidth),l.push(n)}if(e.guide.showNumbersInGuide){const e=l.length;for(let t=0;t<e;t++)l[t].style.width=`${c}px`}if(e.guide.showLessAndMoreLabels){const n=a.createWithHTML(t,"div","more-text",i.text.moreText);e.guide.colorRangeTogglesEnabled?n.onclick=()=>{u.updateAllVisibleStates(e,!0)&&B(e,!1,!1,!0)}:a.addClass(n,"no-click")}}}(n),m.View.set(n)}function O(e,t=!0){(t?window.addEventListener:window.removeEventListener)("blur",()=>l.hide(e))}function k(e){h.Background.hide(e),t.defined(e._currentView.configurationDialog)&&"none"!==e._currentView.configurationDialog.style.display&&(e._currentView.configurationDialog.style.display="none"),l.hide(e),b.Dialog.unbindEvents()}function N(e){h.Background.hide(e),t.defined(e._currentView.exportDialog)&&"none"!==e._currentView.exportDialog.style.display&&(e._currentView.exportDialog.style.display="none"),l.hide(e),b.Dialog.unbindEvents()}function L(e,t=!1){const n=e._currentView.exportDialogExportTypeSelect.value,o=e._currentView.exportDialogExportFilenameInput.value,i=e._currentView.exportDialogExportOnlyDataBeingViewedCheckBox.checked;N(e),A(e,n,o,i,t)}function A(e,o=null,l=null,c=!0,d=!1){const u=n.getString(o,e.exportType).toLowerCase(),w=function(e,n){const o={},i=ce(e);if(n){const n=e._currentView.activeYear,a=m.Days.get(e),s=m.Months.get(e);for(let l=e.startMonth;l<12+e.startMonth;l++){let c=l,d=n;if(e.startMonth>0&&l>11&&(c=l-12,d++),t.monthVisible(s,c)){const e=r.getTotalDaysInMonth(d,c);for(let n=0;n<e;n++){const e=new Date(d,c,n+1),s=r.toStorageDate(e),l=r.getWeekdayNumber(e)+1;t.dayVisible(a,l)&&Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}}}}else{const e=[];for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(t);e.sort();const t=e.length;for(let n=0;n<t;n++){const t=e[n];Object.prototype.hasOwnProperty.call(i,t)&&(o[t]=i[t])}}return o}(e,c),g=y.Contents.get(u,w,i,e);if(t.definedString(g)){if(d)navigator.clipboard.writeText(g);else{const t=y.File.getMimeType(u),n=a.create(document.body,"a");n.style.display="none",n.setAttribute("target","_blank"),n.setAttribute("href",`data:${t};charset=utf-8,${encodeURIComponent(g)}`),n.setAttribute("download",y.File.getFilename(i,e,l,u)),n.click(),document.body.removeChild(n)}s.customEvent(e.events.onExport,e._currentView.element)}}function R(e){h.Background.hide(e),t.defined(e._currentView.importDialog)&&"none"!==e._currentView.importDialog.style.display&&(e._currentView.importDialogDragAndDrop.innerHTML="",e._currentView.importDialogFileList=null,e._currentView.importDialogImportButton.disabled=!0,e._currentView.importDialog.style.display="none",a.createWithHTML(e._currentView.importDialogDragAndDrop,"div","no-files",i.text.dragAndDropFilesText)),l.hide(e),b.Dialog.unbindEvents()}function I(e){const t=[];let n;for(n in V)t.push(`.${n}`);const o=a.createWithNoContainer("input");o.type="file",o.accept=t.join(", "),o.multiple=e.allowMultipleFileImports,o.onchange=()=>E(e,o.files),o.click()}function E(t,n){if(n.length<=0)t._currentView.importDialogDragAndDrop.innerHTML="",t._currentView.importDialogImportButton.disabled=!0,a.createWithHTML(t._currentView.importDialogDragAndDrop,"div","no-files",i.text.dragAndDropFilesText);else{t._currentView.importDialogFileList=n,t._currentView.importDialogDragAndDrop.innerHTML="",t._currentView.importDialogImportButton.disabled=!1;const o=Math.min(n.length,e.MAXIMUM_FILE_IMPORTS);for(let e=0;e<o;e++){const o=n[e].name,r=a.createWithHTML(t._currentView.importDialogDragAndDrop,"div","filename",`<b>${e+1}</b>. ${o}`),s=a.create(r,"div","remove");l.add(s,t,i.text.removeButtonText),s.onclick=()=>F(t,e)}}}function F(e,t){const n=new DataTransfer,o=e._currentView.importDialogFileList.length;for(let i=0;i<o;i++)i!==t&&n.items.add(e._currentView.importDialogFileList[i]);E(e,n.files)}function H(t,n,o=!1){const r=Math.min(t.length,e.MAXIMUM_FILE_IMPORTS),a=[],l=ce(n);if(o)for(const e in l)delete l[e];const c=(e,t)=>{a.push(e);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(Object.prototype.hasOwnProperty.call(l,e)||(l[e]=0),l[e]+=t[e]);a.length===r&&(s.customEvent(n.events.onImport,n._currentView.element),B(n,!0))};for(let e=0;e<r;e++){const n=t[e],o=n.name.split(".").pop().toLowerCase();p.file(n,o,c,i)}}function Y(e){h.Background.hide(e),t.defined(e._currentView.typeAddingDialog)&&"none"!==e._currentView.typeAddingDialog.style.display&&(e._currentView.typeAddingDialog.style.display="none"),l.hide(e),b.Dialog.unbindEvents()}function j(e){const n=e._currentView.typeAddingDialogTypeInput.value.trim(),o=e._currentView.element.id;t.definedString(n)&&!Object.prototype.hasOwnProperty.call(D[o].typeData,n)?(Object.prototype.hasOwnProperty.call(D[o].typeData,n)||(D[o].typeData[n]={},D[o].totalTypes++),e._currentView.typeAddingOptionNewType.checked&&(e._currentView.activeType=n,s.customEvent(e.events.onTypeSwitch,e._currentView.element,n)),s.customEvent(e.events.onAddType,e._currentView.element,n),Y(e),B(e,!0)):Y(e)}function W(e,n,o){!function(e){if(h.Background.render(e),!t.definedParentElement(e._currentView.confirmationDialog)){e._currentView.confirmationDialog=a.create(e._currentView.disabledBackground,"div","dialog confirmation");const t=a.create(e._currentView.confirmationDialog,"div","dialog-title-bar"),n=a.create(e._currentView.confirmationDialog,"div","dialog-contents");a.createWithHTML(t,"span","dialog-title-bar-text",i.text.confirmText),e._currentView.confirmationDialogMessage=a.create(n,"div","message");const o=a.create(n,"div","buttons"),r=a.createButton(o,"button","",i.text.noButtonText);e._currentView.confirmationDialogYesButton=a.createButton(o,"button","default",i.text.yesButtonText),r.onclick=()=>$(e)}}(e),h.Background.show(e),t.defined(e._currentView.confirmationDialog)&&"block"!==e._currentView.confirmationDialog.style.display&&(e._currentView.confirmationDialog.style.display="block",e._currentView.confirmationDialogMessage.innerHTML=n,e._currentView.confirmationDialogYesButton.onclick=()=>o()),l.hide(e),b.Dialog.bindEvents(()=>$(e))}function $(e){h.Background.hide(e),t.defined(e._currentView.confirmationDialog)&&"none"!==e._currentView.confirmationDialog.style.display&&(e._currentView.confirmationDialog.style.display="none"),l.hide(e),b.Dialog.unbindEvents()}function P(e,t,n){const o=a.createWithHTML(t,"div","title-menu-item",n);return e.title.showTitleDropDownHeaders&&a.addClass(o,"indented"),o}function z(e,t,n,o){e._currentView.activeView===n?a.addClass(t,"title-menu-item-active"):t.onclick=()=>ae(e,n,o)}function U(e,t,n,o){let i=null;const r=0===e.startMonth?n.toString():`${n} / ${n+1}`,l=a.createWithHTML(t,"div","year-menu-item",r);return e._currentView.activeYear!==n?(l.onclick=()=>{e._currentView.activeYear=n,B(e),s.customEvent(e.events.onSetYear,e._currentView.element,e._currentView.activeYear)},n===o&&a.addClass(l,"year-menu-item-current")):(a.addClass(l,"year-menu-item-active"),i=l),i}function J(e,t,n,o,i){if(i&&e.yearlyStatistics.showPercentages){const i=o/n*100;if(!isNaN(i)){const n=`${i.toFixed(e.percentageDecimalPoints)}%`,o=a.create(t,"span","percentage");a.createWithHTML(o,"span","percentage-bracket","("),a.createWithHTML(o,"span","percentage-text",n),a.createWithHTML(o,"span","percentage-bracket",")")}}}function G(e,n,o,i,a){let s=0;const l=new Date(i);for(;l<a;){const i=ce(e)[r.toStorageDate(l)],a=r.getWeekdayNumber(l)+1;t.monthVisible(o,l.getMonth())&&t.dayVisible(n,a)&&t.definedNumber(i)&&(s+=i),l.setDate(l.getDate()+1)}return s}function Z(e,n,o){const i=7-o.children.length;if(i>0&&i<7)for(let r=0;r<i;r++){if(t.dayVisible(e.views.map.daysToShow,n)){const t=a.create(o,"div","day-disabled");e.views.map.showSpacing||a.addClass(t,"no-spacing")}n++}e.views.map.showDaysInReverseOrder&&a.reverseChildrenOrder(o)}function X(c,d,w,g,h,m){const p=w+1,y=a.create(d,"div","day"),v=new Date(h,g,p),f=t.holiday(c,v),T=n.getNumber(ce(c)[r.toStorageDate(v)],0),b=u.get(c,m,T,v),V=we(c,v,T);if(y.setAttribute(e.Attribute.View.Map.HEAT_JS_DATE,`${o.padNumber(p)}-${o.padNumber(g+1)}-${h}`),t.defined(b)&&y.setAttribute(e.Attribute.View.Map.HEAT_JS_MINIMUM,b.minimum.toString()),c.views.map.showToolTips&&l.addForDay(i,c,y,v,T,V,c.views.map.dayToolTipText,c.events.onMapDayToolTipRender,f.matched,c.views.map.showCountsInToolTips,c.views.map.showDifferencesInToolTips),c.views.map.showSpacing||a.addClass(y,"no-spacing"),c.views.map.showDayDateNumbers){const e=a.createWithHTML(y,"div","count-date",p.toString());a.createWithHTML(e,"sup","",r.getDayOrdinal(i,p))}return c.views.map.showDayCounts&&T>0&&a.createWithHTML(y,"div","count",o.friendlyNumber(T)),c.views.map.showDifferences&&t.definedString(V)&&a.createWithHTML(y,"div","difference",V),t.definedFunction(c.events.onMapDayClick)?y.onclick=()=>s.customEvent(c.events.onMapDayClick,c._currentView.element,v,T,c._currentView.activeYear,f.matched):t.definedFunction(c.events.onMapDayDblClick)?y.ondblclick=()=>s.customEvent(c.events.onMapDayDblClick,c._currentView.element,v,T,c._currentView.activeYear,f.matched):a.addClass(y,"no-hover"),t.defined(b)&&u.isVisible(c,b.id)&&(t.definedString(b.mapCssClassName)?a.addClass(y,b.mapCssClassName):a.addClass(y,b.cssClassName)),c.views.map.highlightCurrentDay&&r.isToday(v)&&a.addClass(y,"today"),y}function q(c,d,w,g,h,m,p){const y=new Date(h,g,w),f=a.create(c,"div","day-line"),T=t.holiday(d,y),b=n.getNumber(ce(d)[r.toStorageDate(y)],0),V=u.get(d,m,b,y),_=we(d,y,b);return f.setAttribute(e.Attribute.View.Line.HEAT_JS_DATE,`${o.padNumber(w)}-${o.padNumber(g+1)}-${h}`),t.defined(V)&&f.setAttribute(e.Attribute.View.Line.HEAT_JS_MINIMUM,V.minimum.toString()),d.views.line.showToolTips&&l.addForDay(i,d,f,y,b,_,d.views.line.dayToolTipText,d.events.onLineDayToolTipRender,T.matched,d.views.line.showCountsInToolTips,d.views.line.showDifferencesInToolTips),t.definedFunction(d.events.onLineDayClick)?f.onclick=()=>s.customEvent(d.events.onLineDayClick,d._currentView.element,y,b,d._currentView.activeYear,T.matched):t.definedFunction(d.events.onLineDayDblClick)?f.ondblclick=()=>s.customEvent(d.events.onLineDayDblClick,d._currentView.element,y,b,d._currentView.activeYear,T.matched):a.addClass(f,"no-hover"),t.defined(V)&&u.isVisible(d,V.id)&&(t.definedString(V.lineCssClassName)?a.addClass(f,V.lineCssClassName):a.addClass(f,V.cssClassName)),v.setHeight(d,f,100,p,!0),f}function K(c,d,w,g,h,m,p,y){const f=new Date(h,g,w),T=a.create(c,"div","day-line"),b=t.holiday(d,f),V=n.getNumber(ce(d)[r.toStorageDate(f)],0),_=u.get(d,m,V,f),C=we(d,f,V);if(T.setAttribute(e.Attribute.View.Chart.HEAT_JS_DATE,`${o.padNumber(w)}-${o.padNumber(g+1)}-${h}`),t.defined(_)&&T.setAttribute(e.Attribute.View.Chart.HEAT_JS_MINIMUM,_.minimum.toString()),d.views.chart.showToolTips&&l.addForDay(i,d,T,f,V,C,d.views.chart.dayToolTipText,d.events.onChartDayToolTipRender,b.matched,d.views.chart.showCountsInToolTips,d.views.chart.showDifferencesInToolTips),(d.views.chart.showLineCounts||d.views.chart.showLineDateNumbers)&&a.addClass(T,"day-line-count"),d.views.chart.showLineDateNumbers){const e=a.createWithHTML(T,"div","count-date",w.toString());a.createWithHTML(e,"sup","",r.getDayOrdinal(i,w))}d.views.chart.showLineCounts&&V>0&&a.createWithHTML(T,"div","count",o.friendlyNumber(V)),d.views.chart.showDifferences&&t.definedString(C)&&a.createWithHTML(T,"div","difference",C);const D=V*p;return D<=0&&(T.style.visibility="hidden"),t.definedFunction(d.events.onChartDayClick)?T.onclick=()=>s.customEvent(d.events.onChartDayClick,d._currentView.element,f,V,d._currentView.activeYear,b.matched):t.definedFunction(d.events.onChartDayDblClick)?T.ondblclick=()=>s.customEvent(d.events.onChartDayDblClick,d._currentView.element,f,V,d._currentView.activeYear,b.matched):a.addClass(T,"no-hover"),t.defined(_)&&u.isVisible(d,_.id)&&(t.definedString(_.chartCssClassName)?a.addClass(T,_.chartCssClassName):a.addClass(T,_.cssClassName)),d.views.chart.highlightCurrentDay&&r.isToday(f)&&a.addClass(T,"today"),d.views.chart.useGradients&&a.addGradientEffect(d._currentView.element,T),v.setHeight(d,T,D,y),T}function Q(n,d,u,w,g,h,m,p){const y=a.create(n,"div","day-line"),f=u*g;let T=null;if(y.setAttribute(e.Attribute.View.Days.HEAT_JS_NUMBER,d.toString()),f<=0&&(y.style.visibility="hidden"),w.views.days.showStackedColorRanges?a.addClass(y,"stacked"):a.addClass(y,"non-stacked"),w.views.days.showToolTips){let e=r.getCustomFormattedDateText(i,w.views.days.dayToolTipText,new Date(w._currentView.activeYear,0,1),!1,d-1);e+=`: <b class="tooltip-count">${o.friendlyNumber(u)}</b>`,l.add(y,w,e)}if(t.definedFunction(w.events.onWeekDayClick)?y.onclick=()=>s.customEvent(w.events.onWeekDayClick,w._currentView.element,d,u,w._currentView.activeYear):t.definedFunction(w.events.onWeekDayDblClick)?y.ondblclick=()=>s.customEvent(w.events.onWeekDayDblClick,w._currentView.element,d,u,w._currentView.activeYear):a.addClass(y,"no-hover"),w.views.days.showDayCounts&&u>0&&(a.addClass(y,"day-line-count"),T=a.createWithHTML(y,"div","count",o.friendlyNumber(u)),w.views.days.showDayCountPercentages&&a.createWithHTML(T,"div","percentage",`${(u/m*100).toFixed(w.percentageDecimalPoints)}%`)),!w.views.days.showStackedColorRanges)if(w.views.days.useGradients)a.addGradientEffect(w._currentView.element,y),t.defined(T)&&a.addClass(T,"blend-colors");else if(w.views.days.useDifferentOpacities){const e=a.getStyleValueByName(y,"background-color"),n=a.getStyleValueByName(y,"border-color");t.defined(T)&&a.addClass(T,"blend-colors"),t.rgbColor(e)?y.style.backgroundColor=c.toRgbOpacityColor(e,h):t.hexColor(e)&&(y.style.backgroundColor=c.toRgbOpacityColor(c.hexToRgba(e),h)),t.rgbColor(n)?y.style.borderColor=c.toRgbOpacityColor(n,h):t.hexColor(n)&&(y.style.borderColor=c.toRgbOpacityColor(c.hexToRgba(n),h))}return v.setHeight(w,y,f,p),y}function ee(n,d,u,w,g,h,m,p){const y=a.create(n,"div","month-line"),f=u*g,T=new Date;let b=null;if(y.setAttribute(e.Attribute.View.Month.HEAT_JS_NUMBER,d.toString()),w.views.months.showStackedColorRanges?a.addClass(y,"stacked"):a.addClass(y,"non-stacked"),f<=0&&(y.style.visibility="hidden"),w.views.months.showToolTips){let e=r.getCustomFormattedDateText(i,w.views.months.monthToolTipText,new Date(w._currentView.activeYear,d-1,1));e+=`: <b class="tooltip-count">${o.friendlyNumber(u)}</b>`,l.add(y,w,e)}let V=w._currentView.activeYear;if(w.startMonth>0&&d-1<w.startMonth&&V++,t.definedFunction(w.events.onMonthClick)?y.onclick=()=>s.customEvent(w.events.onMonthClick,w._currentView.element,d,u,V):t.definedFunction(w.events.onMonthDblClick)?y.ondblclick=()=>s.customEvent(w.events.onMonthDblClick,w._currentView.element,d,u,V):a.addClass(y,"no-hover"),w.views.months.showMonthCounts&&u>0&&(a.addClass(y,"month-line-count"),b=a.createWithHTML(y,"div","count",o.friendlyNumber(u)),w.views.months.showMonthCountPercentages&&a.createWithHTML(b,"div","percentage",`${(u/m*100).toFixed(w.percentageDecimalPoints)}%`)),w.views.months.highlightCurrentMonth&&T.getMonth()===d-1&&w._currentView.activeYear===T.getFullYear()&&a.addClass(y,"today"),!w.views.months.showStackedColorRanges)if(w.views.months.useGradients)a.addGradientEffect(w._currentView.element,y),t.defined(b)&&a.addClass(b,"blend-colors");else if(w.views.months.useDifferentOpacities){const e=a.getStyleValueByName(y,"background-color"),n=a.getStyleValueByName(y,"border-color");t.defined(b)&&a.addClass(b,"blend-colors"),t.rgbColor(e)?y.style.backgroundColor=c.toRgbOpacityColor(e,h):t.hexColor(e)&&(y.style.backgroundColor=c.toRgbOpacityColor(c.hexToRgba(e),h)),t.rgbColor(n)?y.style.borderColor=c.toRgbOpacityColor(n,h):t.hexColor(n)&&(y.style.borderColor=c.toRgbOpacityColor(c.hexToRgba(n),h))}return v.setHeight(w,y,f,p),y}function te(n,i,r,c,d,w,g,h){const m=a.create(i,"div","color-range-line"),p=r*w,y=u.getByMinimum(d,n);if(t.defined(y)&&t.definedString(y.name)&&(m.setAttribute(e.Attribute.View.ColorRanges.HEAT_JS_COLOR_RANGE_NAME,y.name),m.setAttribute(e.Attribute.View.ColorRanges.HEAT_JS_MINIMUM,y.minimum.toString())),p<=0&&(m.style.visibility="hidden"),c.views.colorRanges.showToolTips){let e;e=t.defined(y)&&t.definedString(y.name)&&c.views.colorRanges.showRangeNamesInToolTips?`${y.name}: <b class="tooltip-count">${o.friendlyNumber(r)}</b>`:o.friendlyNumber(r),l.add(m,c,e)}if(c.views.colorRanges.showRangeCounts&&r>0){a.addClass(m,"color-range-line-count");const e=a.createWithHTML(m,"div","count",o.friendlyNumber(r));c.views.colorRanges.showRangeCountPercentages&&a.createWithHTML(e,"div","percentage",`${(r/g*100).toFixed(c.percentageDecimalPoints)}%`)}t.definedFunction(c.events.onColorRangeClick)?m.onclick=()=>s.customEvent(c.events.onColorRangeClick,c._currentView.element,y,r,c._currentView.activeYear):t.definedFunction(c.events.onColorRangeDblClick)?m.ondblclick=()=>s.customEvent(c.events.onColorRangeDblClick,y,r,c._currentView.activeYear):a.addClass(m,"no-hover"),t.defined(y)&&u.isVisible(c,y.id)&&(t.definedString(y.colorRangeCssClassName)?a.addClass(m,y.colorRangeCssClassName):a.addClass(m,y.cssClassName)),c.views.colorRanges.useGradients&&a.addGradientEffect(c._currentView.element,m),v.setHeight(c,m,p,h)}function ne(e,t,n){const o=a.createButton(t,"button","type",n);if(e.guide.allowTypeRemoving){const t=a.create(o,"span","clear");l.add(t,e,i.text.removeTypeText),t.onclick=t=>{a.cancelBubble(t),W(e,i.text.removeTypeConfirmText,()=>{de(e,n),B(e,!0)})}}e._currentView.activeType===n&&a.addClass(o,"active"),o.onclick=()=>{e._currentView.activeType!==n&&(e._currentView.activeType=n,s.customEvent(e.events.onTypeSwitch,e._currentView.element,n),B(e))}}function oe(t,n,o){const i=a.create(n,"div");return i.className="toggle",i.setAttribute(e.Attribute.Area.ColorRangeToggle.HEAT_JS_MINIMUM,o.minimum.toString()),t.guide.showToolTips&&l.add(i,t,o.tooltipText),u.isVisible(t,o.id)&&a.addClass(i,u.getGuideCssClassName(t,o)),t.guide.showNumbersInGuide&&(a.addClass(i,"toggle-number"),i.innerHTML=`${o.minimum}+`),t.guide.colorRangeTogglesEnabled?i.onclick=()=>{u.toggleVisibleState(t,o.id)&&B(t,!1,!1,!0)}:a.addClass(i,"no-hover"),i}function ie(e,n){if(t.definedString(e.description.text))if(t.definedString(e.description.url)){const t=a.createWithHTML(n,"a","label",e.description.text);t.href=e.description.url,t.target=e.description.urlTarget}else a.createWithHTML(n,"span","label",e.description.text)}function re(e,n,r){if(e.zooming.enabled){const c=a.create(n,"div","zooming");let u=null;if(e.zooming.showCloseButton){const t=a.create(c,"div","zoom-close-button");l.add(t,e,i.text.closeButtonText),t.onclick=()=>{e.zooming.enabled=!1,e._currentView.mapContents.style.paddingRight="0px",c.parentNode.removeChild(c)}}e.zooming.showResetButton&&(u=a.createIconButton(c,"button","reset","exclamation-mark"),l.add(u,e,i.text.resetButtonText),u.onclick=()=>function(e){e._currentView.zoomLevel>0&&(e._currentView.element.style.removeProperty(d.Variables.DaySize),e._currentView.element.style.removeProperty(d.Variables.LineWidth),e._currentView.zoomLevel=0,e._currentView.dayWidth=0,s.customEvent(e.events.onZoomLevelChange,e._currentView.element,e._currentView.zoomLevel),B(e,!1,!1,!0))}(e));const w=a.createIconButton(c,"button","zoom-out","minus"),g=a.createWithHTML(c,"span","zoom-level",`+${o.friendlyNumber(10*e._currentView.zoomLevel)}%`),h=a.createIconButton(c,"button","zoom-in","plus"),m=a.getStyleValueByName(document.documentElement,d.Variables.Spacing,!0);l.add(h,e,i.text.zoomInText),l.add(w,e,i.text.zoomOutText),c.style.bottom=n.offsetHeight-r.offsetHeight+"px",-1===e._currentView.zoomLevel&&(e._currentView.zoomLevel=0,g.innerText=`+${o.friendlyNumber(10*e._currentView.zoomLevel)}%`),t.defined(e._currentView.mapContents)&&(e._currentView.mapContents.style.paddingRight=`${c.offsetWidth+m}px`),e.zooming.showResetButton&&(u.disabled=0===e._currentView.zoomLevel),w.disabled=0===e._currentView.zoomLevel,w.onclick=()=>function(e){if(e._currentView.zoomLevel>0){const t=a.getStyleValueByNameSizingMetic(document.documentElement,d.Variables.DaySize),n=a.getStyleValueByNameSizingMetic(document.documentElement,d.Variables.LineWidth);let o=a.getStyleValueByName(e._currentView.element,d.Variables.DaySize,!0),i=a.getStyleValueByName(e._currentView.element,d.Variables.LineWidth,!0);o-=e._currentView.mapZoomIncrement,o=parseFloat(o.toFixed(1)),i-=e._currentView.lineZoomIncrement,i=parseFloat(i.toFixed(1)),e._currentView.zoomLevel--,e._currentView.element.style.setProperty(d.Variables.DaySize,`${o}${t}`),e._currentView.element.style.setProperty(d.Variables.LineWidth,`${i}${n}`),e._currentView.dayWidth=0,s.customEvent(e.events.onZoomLevelChange,e._currentView.element,e._currentView.zoomLevel),B(e,!1,!1,!0)}}(e),h.disabled=e.zooming.maximumLevel>0&&e._currentView.zoomLevel>=e.zooming.maximumLevel,h.onclick=()=>function(e){if(0===e.zooming.maximumLevel||e._currentView.zoomLevel<e.zooming.maximumLevel){const t=a.getStyleValueByNameSizingMetic(document.documentElement,d.Variables.DaySize),n=a.getStyleValueByNameSizingMetic(document.documentElement,d.Variables.LineWidth);let o=a.getStyleValueByName(e._currentView.element,d.Variables.DaySize,!0),i=a.getStyleValueByName(e._currentView.element,d.Variables.LineWidth,!0);o+=e._currentView.mapZoomIncrement,o=parseFloat(o.toFixed(1)),i+=e._currentView.lineZoomIncrement,i=parseFloat(i.toFixed(1)),e._currentView.zoomLevel++,e._currentView.element.style.setProperty(d.Variables.DaySize,`${o}${t}`),e._currentView.element.style.setProperty(d.Variables.LineWidth,`${i}${n}`),e._currentView.dayWidth=0,s.customEvent(e.events.onZoomLevelChange,e._currentView.element,e._currentView.zoomLevel),B(e,!1,!1,!0)}}(e)}}function ae(e,t,n){e._currentView.activeView!==t&&(e._currentView.activeView=t,s.customEvent(e.events.onViewSwitch,e._currentView.element,n),B(e,!1,!0))}function se(e){let t=0;for(const n in D[e._currentView.element.id].typeData[i.text.unknownTrendText])if(Object.prototype.hasOwnProperty.call(D[e._currentView.element.id].typeData[i.text.unknownTrendText],n)){t++;break}return t}function le(e,t,n=!0){D[e]={options:t,typeData:{},totalTypes:1},D[e].typeData[i.text.unknownTrendText]={},n&&!t._currentView.isInFetchMode&&f.load(i,t,D[e])}function ce(e){return D[e._currentView.element.id].typeData[e._currentView.activeType]}function de(e,t){delete D[e._currentView.element.id].typeData[t],D[e._currentView.element.id].totalTypes--;const n=Object.keys(D[e._currentView.element.id].typeData).sort((e,t)=>e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"}));e._currentView.activeType=n[0],s.customEvent(e.events.onRemoveType,e._currentView.element,t)}function ue(e){let n=0;const o=ce(e),i=e._currentView.activeYear;for(let a=e.startMonth;a<12+e.startMonth;a++){let s=a,l=i;if(e.startMonth>0&&a>11&&(s=a-12,l++),t.monthVisible(e.views.chart.monthsToShow,s)){const i=r.getTotalDaysInMonth(l,s);for(let a=0;a<i;a++){const i=new Date(l,s,a+1),c=r.toStorageDate(i),d=r.getWeekdayNumber(i)+1;Object.prototype.hasOwnProperty.call(o,c)&&t.dayVisible(e.views.chart.daysToShow,d)&&(n=Math.max(n,o[c]))}}}return n}function we(e,t,o){let i=null;if(o>0){const a=new Date(t);a.setFullYear(a.getFullYear()-1);const s=n.getNumber(ce(e)[r.toStorageDate(a)],0);if(s>0){const t=Math.abs(o-s)/((o+s)/2)*100;t>0&&(i=`${t.toFixed(e.percentageDecimalPoints)}%`,i=o>s?`+${i}`:`-${i}`)}}return i}function ge(e){const n=e._currentView.element.id,o=s.customEvent(e.events.onDataFetch,e._currentView.element,n);if(t.definedObject(o)){le(n,e,!1);for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(Object.prototype.hasOwnProperty.call(D[n].typeData[i.text.unknownTrendText],e)||(D[n].typeData[i.text.unknownTrendText][e]=0),D[n].typeData[i.text.unknownTrendText][e]+=o[e])}}function he(e,n=!0){let o=!0,i=e._currentView.activeYear;for(i--;!t.yearVisible(e,i);){if(t.firstVisibleYear(e,i)){o=!1;break}i--}o&&(e._currentView.activeYear=i,B(e),n&&s.customEvent(e.events.onBackYear,e._currentView.element,e._currentView.activeYear))}function me(e,n=!0){let o=!0,i=e._currentView.activeYear;for(i++;!t.yearVisible(e,i);){if(t.lastVisibleYear(e,i)){o=!1;break}i++}o&&(e._currentView.activeYear=i,B(e),n&&s.customEvent(e.events.onNextYear,e._currentView.element,e._currentView.activeYear))}function pe(e){e._currentView.element.innerHTML="",e._currentView.isInFetchMode&&t.defined(e._currentView.isInFetchModeTimer)&&clearInterval(e._currentView.isInFetchModeTimer),a.removeClass(e._currentView.element,"heat-js"),l.remove(e),s.customEvent(e.events.onDestroy,e._currentView.element)}function ye(){if(i.observationMode){if(!t.defined(C)){C=new MutationObserver(()=>{ve.renderAll()});const e={attributes:!0,childList:!0,subtree:!0};C.observe(document.body,e)}}else C.disconnect(),C=null}const ve={addType:(e,n,o=!0)=>{if(t.definedString(e)&&t.definedString(n)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;t._currentView.isInFetchMode||Object.prototype.hasOwnProperty.call(D[e].typeData,n)||(Object.prototype.hasOwnProperty.call(D[e].typeData,n)||(D[e].typeData[n]={},D[e].totalTypes++),s.customEvent(t.events.onAddType,t._currentView.element,n),o&&B(t,!0))}return ve},removeType:(e,n,o=!0)=>{if(t.definedString(e)&&t.definedString(n)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;t._currentView.isInFetchMode||Object.prototype.hasOwnProperty.call(D[e].typeData,n)||(de(t,n),o&&B(t,!0))}return ve},addDates:(e,o,r=null,a=!0)=>{if(t.definedString(e)&&t.definedArray(o)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;if(!t._currentView.isInFetchMode){r=n.getString(r,i.text.unknownTrendText);const s=o.length;for(let t=0;t<s;t++)ve.addDate(e,o[t],r,!1);a&&B(t,!0)}}return ve},addDate:(e,o,a=null,l=!0)=>{if(t.definedString(e)&&t.definedDate(o)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;if(!t._currentView.isInFetchMode){a=n.getString(a,i.text.unknownTrendText);const c=r.toStorageDate(o);Object.prototype.hasOwnProperty.call(D[e].typeData,a)||(D[e].typeData[a]={},D[e].totalTypes++),Object.prototype.hasOwnProperty.call(D[e].typeData[a],c)||(D[e].typeData[a][c]=0),D[e].typeData[a][c]++,s.customEvent(t.events.onAddDate,t._currentView.element),l&&B(t,!0)}}return ve},updateDate:(e,o,a,l=null,c=!0)=>{if(t.definedString(e)&&t.definedDate(o)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;if(!t._currentView.isInFetchMode&&a>0){const d=r.toStorageDate(o);Object.prototype.hasOwnProperty.call(D[e].typeData,l)&&(l=n.getString(l,i.text.unknownTrendText),D[e].typeData[l][d]=a,s.customEvent(t.events.onUpdateDate,t._currentView.element),c&&B(t,!0))}}return ve},removeDates:(e,o,r=null,a=!0)=>{if(t.definedString(e)&&t.definedArray(o)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;if(!t._currentView.isInFetchMode){r=n.getString(r,i.text.unknownTrendText);const s=o.length;for(let t=0;t<s;t++)ve.removeDate(e,o[t],r,!1);a&&B(t,!0)}}return ve},removeDate:(e,o,a=null,l=!0)=>{if(t.definedString(e)&&t.definedDate(o)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;if(!t._currentView.isInFetchMode){const c=r.toStorageDate(o);Object.prototype.hasOwnProperty.call(D[e].typeData,a)&&Object.prototype.hasOwnProperty.call(D[e].typeData[a],c)&&(a=n.getString(a,i.text.unknownTrendText),D[e].typeData[a][c]>0&&D[e].typeData[a][c]--,s.customEvent(t.events.onRemoveDate,t._currentView.element),l&&B(t,!0))}}return ve},clearDate:(e,o,a=null,l=!0)=>{if(t.definedString(e)&&t.definedDate(o)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;if(!t._currentView.isInFetchMode){const c=r.toStorageDate(o);Object.prototype.hasOwnProperty.call(D[e].typeData,a)&&Object.prototype.hasOwnProperty.call(D[e].typeData[a],c)&&(a=n.getString(a,i.text.unknownTrendText),delete D[e].typeData[a][c],s.customEvent(t.events.onClearDate,t._currentView.element),l&&B(t,!0))}}return ve},resetAll:(e=!0)=>{for(const t in D)Object.prototype.hasOwnProperty.call(D,t)&&ve.reset(t,e);return ve},reset:(e,n=!0)=>{if(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;t._currentView.isInFetchMode||(t._currentView.activeType=i.text.unknownTrendText,le(e,t,!1),s.customEvent(t.events.onReset,t._currentView.element),n&&B(t,!0))}return ve},import:(e,n=null)=>(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)&&(t.definedArray(n)?H(n,D[e].options):I(D[e].options)),ve),export:(e,n=null)=>{if(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;A(t,n,null,t.exportOnlyDataBeingViewed)}return ve},refresh:e=>{if(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;B(t,!0),s.customEvent(t.events.onRefresh,t._currentView.element)}return ve},refreshAll:()=>{for(const e in D)if(Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options;B(t,!0),s.customEvent(t.events.onRefresh,t._currentView.element)}return ve},setYear:(e,n)=>{if(t.definedString(e)&&t.definedNumber(n)&&Object.prototype.hasOwnProperty.call(D,e)){const o=D[e].options;o._currentView.activeYear=n,t.yearVisible(o,o._currentView.activeYear)?B(o):me(o,!1),s.customEvent(o.events.onSetYear,o._currentView.element,o._currentView.activeYear)}return ve},setYearToHighest:e=>{if(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)){const n=D[e].options,o=ce(n);let i=0;for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(i=Math.max(i,parseInt(r.getStorageDateYear(e))));i>0&&(n._currentView.activeYear=i,t.yearVisible(n,n._currentView.activeYear)?B(n):me(n,!1),s.customEvent(n.events.onSetYear,n._currentView.element,n._currentView.activeYear))}return ve},setYearToLowest:e=>{if(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)){const n=D[e].options,o=ce(n);let i=9999;for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(i=Math.min(i,parseInt(r.getStorageDateYear(e))));i<9999&&(n._currentView.activeYear=i,t.yearVisible(n,n._currentView.activeYear)?B(n):he(n,!1),s.customEvent(n.events.onSetYear,n._currentView.element,n._currentView.activeYear))}return ve},moveToPreviousYear:e=>(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)&&he(D[e].options),ve),moveToNextYear:e=>(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)&&me(D[e].options),ve),moveToCurrentYear:e=>{if(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)){const n=D[e].options;n._currentView.activeYear=(new Date).getFullYear(),t.yearVisible(n,n._currentView.activeYear)?B(n):me(n,!1),s.customEvent(n.events.onSetYear,n._currentView.element,n._currentView.activeYear)}return ve},getYear:e=>{let n=-1;return t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)&&(n=D[e].options._currentView.activeYear),n},render:(e,n)=>(t.definedObject(e)&&t.definedObject(n)&&M(w.Options.getForNewInstance(i,n,e)),ve),renderAll:()=>(x(),ve),switchView:(e,n)=>{if(t.definedString(e)&&t.definedString(n)&&Object.prototype.hasOwnProperty.call(D,e)){const t=m.View.get(n);0!==t&&ae(D[e].options,t,n)}return ve},switchType:(e,n)=>(t.definedString(e)&&t.definedString(n)&&Object.prototype.hasOwnProperty.call(D,e)&&Object.prototype.hasOwnProperty.call(D[e].typeData,n)&&function(e,t){e._currentView.activeType!==t&&(e._currentView.activeType=t,s.customEvent(e.events.onTypeSwitch,e._currentView.element,t),B(e))}(D[e].options,n),ve),updateBindingOptions:(e,n)=>{if(t.definedString(e)&&t.definedObject(n)&&Object.prototype.hasOwnProperty.call(D,e)){const t=D[e].options,o=w.Options.get(n);let i=!1;for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==o[e]&&(t[e]=o[e],i=!0);i&&(B(t,!0),s.customEvent(t.events.onRefresh,t._currentView.element),s.customEvent(t.events.onOptionsUpdate,t._currentView.element,t))}return ve},getActiveView:e=>{let n="";return t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)&&(n=m.View.getName(D[e].options)),n},destroyAll:()=>{for(const e in D)Object.prototype.hasOwnProperty.call(D,e)&&pe(D[e].options);return D={},ve},destroy:e=>(t.definedString(e)&&Object.prototype.hasOwnProperty.call(D,e)&&(pe(D[e].options),delete D[e]),ve),setConfiguration:(e,n=!0)=>{if(t.definedObject(e)){const t=i,o=e;let r=!1;for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&Object.prototype.hasOwnProperty.call(i,e)&&t[e]!==o[e]&&(t[e]=o[e],r=!0);r&&(i=g.Options.get(t),ye(),n&&ve.refreshAll())}return ve},setLocale:(e,n=!0)=>(t.definedObject(e)&&(i.text=g.Options.getText(e),n&&ve.refreshAll()),ve),getIds:()=>{const e=[];for(const t in D)Object.prototype.hasOwnProperty.call(D,t)&&e.push(t);return e},getVersion:()=>"5.0.0"};(()=>{i=g.Options.get();const e=()=>{x(),ye()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>e()):e(),window.addEventListener("pagehide",()=>function(){for(const e in D)if(Object.prototype.hasOwnProperty.call(D,e)){const n=D[e].options;O(n,!1),t.defined(n._currentView.isInFetchModeTimer)&&(clearInterval(n._currentView.isInFetchModeTimer),n._currentView.isInFetchModeTimer=0)}i.observationMode&&t.defined(C)&&(C.disconnect(),C=null)}()),t.defined(window.$heat)||(window.$heat=ve)})()})();