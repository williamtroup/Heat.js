/*! Heat.js v3.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function Fa(){for(var a=h.domElementTypes,b=a.length,d=0;d<b;d++){var c=K.getElementsByTagName(a[d]);c=[].slice.call(c);for(var e=c.length,f=0;f<e;f++){var g=c[f],l=!0;if(v(g)&&g.hasAttribute("data-heat-js")){var r=g.getAttribute("data-heat-js");u(r)?(r=za(r),r.parsed&&M(r.result)?Ga(Ha(r.result,g)):h.safeMode||(console.error(h.attributeNotValidErrorText.replace("{{attribute_name}}","data-heat-js")),l=!1)):h.safeMode||(console.error(h.attributeNotSetErrorText.replace("{{attribute_name}}",
"data-heat-js")),l=!1)}if(!l)break}}}function Ha(a,b){a=Ia(a);var d=u(a.view)?a.view.toLowerCase():q.empty;a.currentView={};a.currentView.element=b;a.currentView.disabledBackground=null;a.currentView.configurationDialog=null;a.currentView.dayCheckBoxes={};a.currentView.monthCheckBoxes={};a.currentView.tooltip=null;a.currentView.tooltipTimer=null;a.currentView.mapContents=null;a.currentView.mapContentsScrollLeft=0;a.currentView.year=a.year;a.currentView.type=h.unknownTrendText;a.currentView.isInFetchMode=
S(a.events.onDataFetch);a.currentView.isInFetchModeTimer=null;a.currentView.yearsAvailable=[];a.views.chart.enabled&&(a.currentView.chartContents=null,a.currentView.chartContentsScrollLeft=0);a.views.days.enabled&&(a.currentView.daysContents=null,a.currentView.daysContentsScrollLeft=0);a.views.statistics.enabled&&(a.currentView.statisticsContents=null,a.currentView.statisticsContentsScrollLeft=0);a.currentView.view="map"===d?1:"chart"===d?2:"days"===d?3:"statistics"===d?4:1;return a}function Ga(a){y(a.events.onBeforeRender,
a.currentView.element);u(a.currentView.element.id)||(a.currentView.element.id=ca());a.currentView.element.className.trim()===q.empty?a.currentView.element.className="heat-js":w(a.currentView.element,"heat-js");a.currentView.element.removeAttribute("data-heat-js");Aa(a.currentView.element.id,a);A(a);y(a.events.onRenderComplete,a.currentView.element)}function A(a,b,d){var c;b=m(b,!1);d=m(d,!1);if(b&&a.useLocalStorageForData&&C.localStorage){b=a.currentView.element.id;if(a.useLocalStorageForData&&C.localStorage){var e=
C.localStorage.length,f=[],g=a.currentView.element.id;for(c=0;c<e;c++)Ja(C.localStorage.key(c),"HJS_"+g)&&f.push(C.localStorage.key(c));e=f.length;for(g=0;g<e;g++)C.localStorage.removeItem(f[g])}f=ma.stringify(k[b].type);C.localStorage.setItem("HJS_"+b,f)}v(a.currentView.mapContents)&&(a.currentView.mapContentsScrollLeft=a.currentView.mapContents.scrollLeft);a.views.chart.enabled&&v(a.currentView.chartContents)&&(a.currentView.chartContentsScrollLeft=a.currentView.chartContents.scrollLeft);a.views.days.enabled&&
v(a.currentView.daysContents)&&(a.currentView.daysContentsScrollLeft=a.currentView.daysContents.scrollLeft);a.views.statistics.enabled&&v(a.currentView.statisticsContents)&&(a.currentView.statisticsContentsScrollLeft=a.currentView.statisticsContents.scrollLeft);a.currentView.element.innerHTML=q.empty;a.currentView.yearsAvailable=Ta(a);da(a);Ua(a);a.title.showConfigurationButton&&(a.currentView.disabledBackground=n(a.currentView.element,"div","disabled"),Va(a));v(a.currentView.tooltip)||(a.currentView.tooltip=
n(K.body,"div","heat-js-tooltip"),a.currentView.tooltip.style.display="none",Ka(a));Wa(a);f=d;a.currentView.mapContents=n(a.currentView.element,"div","map-contents");a.views.chart.enabled&&(a.currentView.chartContents=n(a.currentView.element,"div","chart-contents"),na(a.currentView.chartContents,a));a.views.days.enabled&&(a.currentView.daysContents=n(a.currentView.element,"div","days-contents"),na(a.currentView.daysContents,a));a.views.statistics.enabled&&(a.currentView.statisticsContents=n(a.currentView.element,
"div","statistics-contents"),na(a.currentView.statisticsContents,a));Xa(a);if(b=a.views.map.showNoDataMessageWhenDataIsNotAvailable){b=!1;e=O(a);g=a.currentView.year.toString();for(var l in e)if(e.hasOwnProperty(l)&&l.split(q.dash)[0]===g){b=!0;break}b=!b}if(b)l=t(a.currentView.mapContents,"div","no-data-message",h.noMapDataMessage),f&&w(l,"view-switch");else{a.currentView.mapContents.style.minHeight="unset";na(a.currentView.mapContents,a);e=n(a.currentView.mapContents,"div","map");l=a.currentView.year;
b=!1;f&&w(e,"view-switch");if(a.views.map.showDayNames){f=n(e,"div","days");g=a.views.map.showMinimalDayNames&&7===a.views.map.daysToShow.length;if(!a.views.map.showMonthNames||a.views.map.placeMonthNamesOnTheBottom)f.className="days-months-bottom";for(c=0;7>c;c++)T(a.views.map.daysToShow,c+1)&&t(f,"div","day-name",g&&0!==c%3?q.space:h.dayNames[c]);a.views.map.showDaysInReverseOrder&&U(f)}f=n(e,"div","months");e=oa(a);for(g=0;12>g;g++)if(X(a.views.map.monthsToShow,g)){c=n(f,"div","month");var r=n(c,
"div","day-columns");var x=ea(l,g),F=n(r,"div","day-column"),B=!1,G=pa(new Date(l,g,1)),H=1;x+=G;for(var I=0;I<x;I++){I>=G?B=!0:T(a.views.map.daysToShow,H)&&n(F,"div","day-disabled");if(B){var L=null;T(a.views.map.daysToShow,H)&&(L=Ya(a,F,I-G,g,l,e));if(0===(I+1)%7&&(a.views.map.showDaysInReverseOrder&&U(F),F=n(r,"div","day-column"),H=0,!v(fa)&&v(L))){var Za=ia(L,"margin-left",!0),$a=ia(L,"margin-right",!0);fa=L.offsetWidth+Za+$a}}H++}a.views.map.showMonthNames&&(F=c.offsetWidth,x=a.views.map.placeMonthNamesOnTheBottom?
t(c,"div","month-name-bottom",h.monthNames[g]):t(c,"div","month-name",h.monthNames[g],r),v(x)&&(x.style.width=a.views.map.showMonthDayGaps?F+"px":F-fa+"px"));b&&v(fa)&&(0<G&&!a.views.map.showMonthDayGaps?c.style.marginLeft=-fa+"px":0===G&&a.views.map.showMonthDayGaps&&(c.style.marginLeft=fa+"px"));a.views.map.showMonthsInReverseOrder&&U(r);b=!0}a.views.map.showMonthsInReverseOrder&&U(f);a.views.map.keepScrollPositions&&(a.currentView.mapContents.scrollLeft=a.currentView.mapContentsScrollLeft)}a.views.chart.enabled&&
(ab(a,d),a.currentView.chartContents.style.display="none");if(a.views.days.enabled){l=d;g=n(a.currentView.daysContents,"div","days");b=n(a.currentView.daysContents,"div","day-names");c=n(g,"div","y-labels");f=n(g,"div","day-lines");r=0;G=O(a);e={1:0,2:0,3:0,4:0,5:0,6:0,7:0};for(x=0;12>x;x++)for(F=ea(a.currentView.year,x),B=0;B<F;B++)H=P(new Date(a.currentView.year,x,B+1)),G.hasOwnProperty(H)&&(I=H.split(q.dash),I=new Date(I[2],I[1],I[0]),L=pa(I)+1,!qa(a,I).matched&&X(a.views.days.monthsToShow,I.getMonth())&&
T(a.views.days.daysToShow,L)&&(e[L]+=G[H],r=J.max(r,e[L])));l&&w(g,"view-switch");0<r&&a.views.days.showChartYLabels?(G=t(c,"div","label-0",r.toString()),t(c,"div","label-25",(3*J.floor(r/4)).toString()),t(c,"div","label-50",J.floor(r/2).toString()),t(c,"div","label-75",J.floor(r/4).toString()),t(c,"div","label-100",q.zero),c.style.width=G.offsetWidth+"px",b.style.paddingLeft=c.offsetWidth+ia(c,"margin-right",!0)+"px"):c.parentNode.removeChild(c);if(0===r){a.currentView.daysContents.style.minHeight=
a.currentView.mapContents.offsetHeight+"px";g.parentNode.removeChild(g);b.parentNode.removeChild(b);var Q=t(a.currentView.daysContents,"div","no-days-message",h.noDaysDataMessage);l&&w(Q,"view-switch")}else{l=a.currentView.mapContents.offsetHeight/r;for(Q in e)e.hasOwnProperty(Q)&&T(a.views.days.daysToShow,parseInt(Q))&&(bb(f,Q,e[Q],a,l),a.views.days.showDayNames&&t(b,"div","day-name",h.dayNames[Q-1]));a.views.days.showInReverseOrder&&(U(f),U(b));a.views.days.keepScrollPositions&&(a.currentView.daysContents.scrollLeft=
a.currentView.daysContentsScrollLeft)}a.currentView.daysContents.style.display="none"}if(a.views.statistics.enabled){f=d;e=n(a.currentView.statisticsContents,"div","statistics");d=n(a.currentView.statisticsContents,"div","statistics-ranges");g=n(e,"div","y-labels");Q=n(e,"div","range-lines");l=oa(a);b={};c=0;r=O(a);for(G=b[q.zero]=0;12>G;G++)for(x=ea(a.currentView.year,G),F=0;F<x;F++)B=P(new Date(a.currentView.year,G,F+1)),r.hasOwnProperty(B)&&(H=B.split(q.dash),H=new Date(H[2],H[1],H[0]),I=pa(H)+
1,!qa(a,H).matched&&X(a.views.statistics.monthsToShow,H.getMonth())&&T(a.views.statistics.daysToShow,I)&&(B=Ba(a,l,r[B]),v(B)?(b.hasOwnProperty(B.minimum.toString())||(b[B.minimum.toString()]=0),b[B.minimum]++,c=J.max(c,b[B.minimum])):b[q.zero]++));f&&w(e,"view-switch");0<c&&a.views.statistics.showChartYLabels?(r=t(g,"div","label-0",c.toString()),t(g,"div","label-25",(3*J.floor(c/4)).toString()),t(g,"div","label-50",J.floor(c/2).toString()),t(g,"div","label-75",J.floor(c/4).toString()),t(g,"div",
"label-100",q.zero),g.style.width=r.offsetWidth+"px",d.style.paddingLeft=g.offsetWidth+ia(g,"margin-right",!0)+"px"):g.parentNode.removeChild(g);if(0===c){a.currentView.statisticsContents.style.minHeight=a.currentView.mapContents.offsetHeight+"px";e.parentNode.removeChild(e);d.parentNode.removeChild(d);var Y=t(a.currentView.statisticsContents,"div","no-statistics-message",h.noStatisticsDataMessage);f&&w(Y,"view-switch")}else{f=a.currentView.mapContents.offsetHeight/c;a.views.statistics.showColorRangeLabels||
d.parentNode.removeChild(d);for(Y in b)b.hasOwnProperty(Y)&&(cb(Y,Q,b[Y],a,l,f),e=La(l,Y),a.views.statistics.showColorRangeLabels&&(a.views.statistics.useColorRangeNamesForLabels&&v(e)&&u(e.name)?t(d,"div","range-name",e.name):t(d,"div","range-name",Y+q.plus)));a.views.statistics.showInReverseOrder&&(U(Q),U(d));a.views.statistics.keepScrollPositions&&(a.currentView.statisticsContents.scrollLeft=a.currentView.statisticsContentsScrollLeft)}a.currentView.statisticsContents.style.display="none"}a.currentView.mapContents.style.display=
"none";1===a.currentView.view?a.currentView.mapContents.style.display="block":a.views.chart.enabled&&2===a.currentView.view?a.currentView.chartContents.style.display="block":a.views.days.enabled&&3===a.currentView.view?a.currentView.daysContents.style.display="block":a.views.statistics.enabled&&4===a.currentView.view?a.currentView.statisticsContents.style.display="block":(a.currentView.view=1,a.currentView.mapContents.style.display="block")}function Va(a){a.currentView.configurationDialog=n(a.currentView.disabledBackground,
"div","dialog configuration");var b=n(a.currentView.configurationDialog,"div","dialog-title-bar"),d=n(a.currentView.configurationDialog,"div","dialog-contents"),c=n(b,"div","dialog-close"),e=n(d,"div","side-container panel");d=n(d,"div","side-container panel");t(b,"span","dialog-title-bar-text",h.configurationTitleText);t(e,"div","side-container-title-text",h.visibleDaysText+q.colon);t(d,"div","side-container-title-text",h.visibleMonthsText+q.colon);b=n(d,"div","side-container");d=n(d,"div","side-container");
c.onclick=function(){v(a.currentView.disabledBackground)&&"none"!==a.currentView.disabledBackground.style.display&&(a.currentView.disabledBackground.style.display="none");v(a.currentView.configurationDialog)&&"none"!==a.currentView.configurationDialog.style.display&&(a.currentView.configurationDialog.style.display="none");for(var g=[],l=[],r=!1,x=0;7>x;x++)a.currentView.dayCheckBoxes[x].checked&&g.push(x+1);for(x=0;12>x;x++)a.currentView.monthCheckBoxes[x].checked&&l.push(x+1);1<=g.length&&(1===a.currentView.view?
a.views.map.daysToShow=g:a.views.chart.enabled&&2===a.currentView.view?a.views.chart.daysToShow=g:a.views.days.enabled&&3===a.currentView.view?a.views.days.daysToShow=g:a.views.statistics.enabled&&4===a.currentView.view?a.views.statistics.daysToShow=g:a.views.map.daysToShow=g,r=!0);1<=l.length&&(1===a.currentView.view?a.views.map.monthsToShow=l:a.views.chart.enabled&&2===a.currentView.view?a.views.chart.monthsToShow=l:a.views.days.enabled&&3===a.currentView.view?a.views.days.monthsToShow=l:a.views.statistics.enabled&&
4===a.currentView.view?a.views.statistics.monthsToShow=l:a.views.map.monthsToShow=l,r=!0);r?(A(a),y(a.events.onOptionsUpdate,a.currentView.element,a)):da(a)};for(var f=0;7>f;f++)a.currentView.dayCheckBoxes[f]=Ca(e,h.dayNames[f]).input;for(e=0;7>e;e++)a.currentView.monthCheckBoxes[e]=Ca(b,h.monthNames[e]).input;for(e=7;12>e;e++)a.currentView.monthCheckBoxes[e]=Ca(d,h.monthNames[e]).input;Z(c,a,h.closeToolTipText)}function Ka(a,b){var d=(b=m(b,!0))?K.addEventListener:K.removeEventListener;(b?C.addEventListener:
C.removeEventListener)("mousemove",function(){da(a)});d("scroll",function(){da(a)})}function Z(a,b,d){null!==a&&(a.onmousemove=function(c){db(c,b,d)})}function db(a,b,d){ja(a);da(b);b.currentView.tooltipTimer=setTimeout(function(){b.currentView.tooltip.innerHTML=d;b.currentView.tooltip.style.display="block";var c=b.currentView.tooltip,e=a.pageX,f=a.pageY;var g=K.documentElement;var l=(C.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(C.pageYOffset||g.scrollTop)-(g.clientTop||0);c.style.display="block";
e+c.offsetWidth>C.innerWidth?e-=c.offsetWidth:e++;f+c.offsetHeight>C.innerHeight?f-=c.offsetHeight:f++;e<l&&(e=a.pageX+1);f<g&&(f=a.pageY+1);c.style.left=e+"px";c.style.top=f+"px"},b.tooltip.delay)}function da(a){v(a.currentView.tooltip)&&(v(a.currentView.tooltipTimer)&&(clearTimeout(a.currentView.tooltipTimer),a.currentView.tooltipTimer=null),"none"!==a.currentView.tooltip.style.display&&(a.currentView.tooltip.style.display="none"))}function Wa(a){if(a.title.showText||a.title.showYearSelector||a.title.showRefreshButton||
a.title.showExportButton||a.title.showImportButton){var b=n(a.currentView.element,"div","title-bar"),d=n(b,"div","title");a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled?a.title.showTitleDropDownButton&&n(d,"div","down-arrow"):w(d,"no-click");a.title.showText&&(d.innerHTML+=a.title.text);(a.views.chart.enabled||a.views.days.enabled||a.views.statistics.enabled)&&eb(a,d);a.title.showImportButton&&!a.currentView.isInFetchMode&&(t(b,"button","import",h.importButtonText).onclick=
function(){fb(a)});a.title.showExportButton&&(t(b,"button","export",h.exportButtonText).onclick=function(){Ma(a)});a.title.showRefreshButton&&(t(b,"button","refresh",h.refreshButtonText).onclick=function(){A(a);y(a.events.onRefresh,a.currentView.element)});a.title.showYearSelector&&(d=t(b,"button","back",h.backButtonText),d.onclick=function(){Da(a)},0<a.currentView.yearsAvailable.length&&a.currentView.year<=a.currentView.yearsAvailable[0]&&(d.disabled=!0),a.currentView.yearText=t(b,"div","year-text",
a.currentView.year),a.title.showYearSelectionDropDown?gb(a):w(a.currentView.yearText,"no-click"),a.title.showConfigurationButton&&(d=n(b,"div","configure"),Z(d,a,h.configurationToolTipText),d.onclick=function(){v(a.currentView.disabledBackground)&&"block"!==a.currentView.disabledBackground.style.display&&(a.currentView.disabledBackground.style.display="block");v(a.currentView.configurationDialog)&&"block"!==a.currentView.configurationDialog.style.display&&(a.currentView.configurationDialog.style.display=
"block");if(1===a.currentView.view){var c=a.views.map.daysToShow;var e=a.views.map.monthsToShow}else a.views.chart.enabled&&2===a.currentView.view?(c=a.views.chart.daysToShow,e=a.views.chart.monthsToShow):a.views.days.enabled&&3===a.currentView.view?(c=a.views.days.daysToShow,e=a.views.days.monthsToShow):a.views.statistics.enabled&&4===a.currentView.view?(c=a.views.statistics.daysToShow,e=a.views.statistics.monthsToShow):(c=a.views.map.daysToShow,e=a.views.map.monthsToShow);for(var f=0;7>f;f++)a.currentView.dayCheckBoxes[f].checked=
T(c,f+1);for(c=0;12>c;c++)a.currentView.monthCheckBoxes[c].checked=X(e,c);da(a)}),b=t(b,"button","next",h.nextButtonText),b.onclick=function(){ka(a)},0<a.currentView.yearsAvailable.length&&a.currentView.year>=a.currentView.yearsAvailable[a.currentView.yearsAvailable.length-1]&&(b.disabled=!0))}}function eb(a,b){b=n(b,"div","titles-menu-container");b=n(b,"div","titles-menu");t(b,"div","title-menu-header",h.dataText+q.colon);var d=t(b,"div","title-menu-item",h.mapText);ra(a,d,1,"map");a.views.chart.enabled&&
(d=t(b,"div","title-menu-item",h.chartText),ra(a,d,2,"chart"));a.views.days.enabled&&(t(b,"div","title-menu-header",h.yearText+q.colon),d=t(b,"div","title-menu-item",h.daysText),ra(a,d,3,"days"));a.views.statistics.enabled&&(t(b,"div","title-menu-header",h.statisticsText+q.colon),b=t(b,"div","title-menu-item",h.colorRangesText),ra(a,b,4,"statistics"))}function ra(a,b,d,c){a.currentView.view===d?w(b,"title-menu-item-active"):b.onclick=function(){a.currentView.view=d;y(a.events.onViewSwitch,c);A(a,
!1,!0)}}function gb(a){n(a.currentView.yearText,"div","down-arrow");var b=n(a.currentView.yearText,"div","years-menu-container"),d=n(b,"div","years-menu"),c=(new Date).getFullYear(),e=null;b.style.display="block";b.style.visibility="hidden";for(var f=c-a.title.extraSelectionYears;f<c+a.title.extraSelectionYears;f++)if(aa(a,f)){var g=hb(a,d,f,c);v(e)||(e=g)}v(e)&&(d.scrollTop=e.offsetTop-d.offsetHeight/2);b.style.display="none";b.style.visibility="visible"}function hb(a,b,d,c){var e=null;b=t(b,"div",
"year-menu-item",d);a.currentView.year!==d?(b.onclick=function(){a.currentView.year=d;A(a);y(a.events.onSetYear,a.currentView.year)},d===c&&w(b,"year-menu-item-current")):(w(b,"year-menu-item-active"),e=b);return e}function Ya(a,b,d,c,e,f){d+=1;b=n(b,"div","day");var g=new Date(e,c,d),l=k[a.currentView.element.id].type[a.currentView.type][P(g)];l=ba(l,0);Na(a,b,g,l);a.views.map.showDayNumbers&&0<l&&(b.innerHTML=l.toString());S(a.events.onDayClick)?b.onclick=function(){y(a.events.onDayClick,g,l)}:
w(b,"no-hover");c=Ba(a,f,l,g);v(c)&&sa(a,c.id)&&(u(c.mapCssClassName)?w(b,c.mapCssClassName):w(b,c.cssClassName));return b}function ab(a,b){var d=n(a.currentView.chartContents,"div","chart"),c=n(d,"div","y-labels"),e=n(d,"div","day-lines"),f=oa(a),g=ib(a),l=a.currentView.year,r=0;b&&w(d,"view-switch");if(0<g&&a.views.chart.showChartYLabels){var x=t(c,"div","label-0",g.toString());t(c,"div","label-25",(3*J.floor(g/4)).toString());t(c,"div","label-50",J.floor(g/2).toString());t(c,"div","label-75",J.floor(g/
4).toString());t(c,"div","label-100",q.zero);c.style.width=x.offsetWidth+"px";r=c.offsetWidth+ia(c,"margin-right",!0)}else c.parentNode.removeChild(c),c=null;if(0===g)a.currentView.chartContents.style.minHeight=a.currentView.mapContents.offsetHeight+"px",d.parentNode.removeChild(d),e=t(a.currentView.chartContents,"div","no-data-message",h.noChartDataMessage),b&&w(e,"view-switch");else{b=a.currentView.mapContents.offsetHeight/g;for(g=c=d=0;12>g;g++)if(X(a.views.chart.monthsToShow,g)){x=ea(l,g);var F=
1;d++;for(var B=0;B<x;B++)T(a.views.chart.daysToShow,F)&&jb(e,a,B+1,g,l,f,b),0===(B+1)%7&&(F=0),F++,c++}a.views.chart.showInReverseOrder&&U(e);if(a.views.chart.showMonthNames){var G=n(a.currentView.chartContents,"div","chart-months"),H=e.offsetWidth/d,I=0;f=function(L){X(a.views.chart.monthsToShow,L)&&(t(G,"div","month-name",h.monthNames[L]).style.left=r+H*I+"px",I++)};if(a.views.chart.showInReverseOrder)for(l=12;l--;)f(l);else for(l=0;12>l;l++)f(l);G.style.width=e.offsetWidth+"px";e=n(G,"div","month-name-space");
e.style.height=G.offsetHeight+"px";e.style.width=r+"px"}a.views.chart.keepScrollPositions&&(a.currentView.chartContents.scrollLeft=a.currentView.chartContentsScrollLeft)}}function jb(a,b,d,c,e,f,g){var l=new Date(e,c,d);a=n(a,"div","day-line");var r=O(b)[P(l)];r=ba(r,0);Na(b,a,l,r);b.views.chart.showLineNumbers&&0<r&&(w(a,"day-line-number"),a.innerHTML=r.toString());g*=r;a.style.height=g+"px";0>=g&&(a.style.visibility="hidden");S(b.events.onDayClick)?a.onclick=function(){y(b.events.onDayClick,l,r)}:
w(a,"no-hover");f=Ba(b,f,r,l);v(f)&&sa(b,f.id)&&(u(f.chartCssClassName)?w(a,f.chartCssClassName):w(a,f.cssClassName))}function ib(a){for(var b=0,d=O(a),c=0;12>c;c++)for(var e=ea(a.currentView.year,c),f=0;f<e;f++){var g=P(new Date(a.currentView.year,c,f+1));d.hasOwnProperty(g)&&X(a.views.chart.monthsToShow,c)&&T(a.views.chart.daysToShow,f+1)&&(b=J.max(b,parseInt(d[g])))}return b}function bb(a,b,d,c,e){a=n(a,"div","day-line");e*=d;a.style.height=e+"px";0>=e&&(a.style.visibility="hidden");Z(a,c,d.toString());
S(c.events.onWeekDayClick)?a.onclick=function(){y(c.events.onWeekDayClick,b,d)}:w(a,"no-hover");c.views.days.showDayNumbers&&0<d&&(w(a,"day-line-number"),t(a,"div","count",d))}function cb(a,b,d,c,e,f){b=n(b,"div","range-line");var g=La(e,a);a=d*f;b.style.height=a+"px";0>=a&&(b.style.visibility="hidden");Z(b,c,d.toString());c.views.statistics.showRangeNumbers&&0<d&&(w(b,"range-line-number"),t(b,"div","count",d));S(c.events.onStatisticClick)?b.onclick=function(){y(c.events.onStatisticClick,g)}:w(b,
"no-hover");v(g)&&sa(c,g.id)&&(u(g.statisticsCssClassName)?w(b,g.statisticsCssClassName):w(b,g.cssClassName))}function Xa(a){var b=n(a.currentView.element,"div","guide"),d=n(b,"div","map-types"),c=0;for(e in k[a.currentView.element.id].type[h.unknownTrendText])if(k[a.currentView.element.id].type[h.unknownTrendText].hasOwnProperty(e)){c++;break}if(1<k[a.currentView.element.id].types){if(u(a.description.text)){var e=n(a.currentView.element,"div","description",b);Oa(a,e)}for(var f in k[a.currentView.element.id].type)if(f!==
h.unknownTrendText||0<c)0===c&&a.currentView.type===h.unknownTrendText&&(a.currentView.type=f),kb(a,d,f)}else Oa(a,d);if(a.guide.enabled){b=n(b,"div","map-toggles");a.guide.showLessAndMoreLabels&&(d=t(b,"div","less-text",h.lessText),a.guide.colorRangeTogglesEnabled?d.onclick=function(){Pa(a,!1)}:w(d,"no-click"));d=n(b,"div","days");c=oa(a);f=c.length;for(e=0;e<f;e++)lb(a,d,c[e]);a.guide.showLessAndMoreLabels&&(b=t(b,"div","more-text",h.moreText),a.guide.colorRangeTogglesEnabled?b.onclick=function(){Pa(a,
!0)}:w(b,"no-click"))}}function kb(a,b,d){b=t(b,"button","type",d);a.currentView.type===d&&w(b,"active");b.onclick=function(){a.currentView.type!==d&&(a.currentView.type=d,y(a.events.onTypeSwitch,d),A(a))}}function lb(a,b,d){b=n(b,"div");b.className="day";Z(b,a,d.tooltipText);sa(a,d.id)&&(1===a.currentView.view&&u(d.mapCssClassName)?w(b,d.mapCssClassName):a.views.chart.enabled&&2===a.currentView.view&&u(d.chartCssClassName)?w(b,d.chartCssClassName):a.views.statistics.enabled&&4===a.currentView.view&&
u(d.statisticsCssClassName)?w(b,d.statisticsCssClassName):w(b,d.cssClassName));a.guide.showNumbersInGuide&&(w(b,"day-number"),b.innerHTML=d.minimum+q.plus);a.guide.colorRangeTogglesEnabled?b.onclick=function(){for(var c=d.id,e=a.colorRanges.length,f=0;f<e;f++){var g=a.colorRanges[f];if(g.id===c){g.visible=!m(g.visible,!0);y(a.events.onColorRangeTypeToggle,g.id,g.visible);A(a);break}}}:w(b,"no-hover")}function Oa(a,b){u(a.description.text)&&(u(a.description.url)?(b=t(b,"a","label",a.description.text),
b.href=a.description.url,b.target=a.description.urlTarget):t(b,"span","label",a.description.text))}function Na(a,b,d,c){if(S(a.events.onDayToolTipRender))Z(b,a,y(a.events.onDayToolTipRender,d,c));else{c=a.tooltip.dayText;var e=pa(d);c=c.replace("{dddd}",h.dayNames[e]);c=c.replace("{dd}",V(d.getDate()));c=c.replace("{d}",d.getDate());e=c.replace;var f=d.getDate(),g=h.thText;if(31===f||21===f||1===f)g=h.stText;else if(22===f||2===f)g=h.ndText;else if(23===f||3===f)g=h.rdText;c=e.call(c,"{o}",g);c=c.replace("{mmmm}",
h.monthNames[d.getMonth()]);c=c.replace("{mm}",V(d.getMonth()+1));c=c.replace("{m}",d.getMonth()+1);c=c.replace("{yyyy}",d.getFullYear());c=c.replace("{yyy}",d.getFullYear().toString().substring(1));c=c.replace("{yy}",d.getFullYear().toString().substring(2));c=c.replace("{y}",parseInt(d.getFullYear().toString().substring(2)).toString());a.showHolidaysInDayToolTips&&(d=qa(a,d),d.matched&&u(d.name)&&(c+=q.colon+q.space+d.name));Z(b,a,c)}}function Aa(a,b,d){d=m(d,!0);k[a]={options:b,type:{},types:1};
k[a].type[h.unknownTrendText]={};if(d&&!b.currentView.isInFetchMode&&b.useLocalStorageForData&&C.localStorage)for(a=C.localStorage.length,b=b.currentView.element.id,d=0;d<a;d++){var c=C.localStorage.key(d);if(Ja(c,"HJS_")&&(c=C.localStorage.getItem(c),c=za(c),c.parsed)){k[b].type=c.result;k[b].types=0;for(var e in k[b].type)k[b].type.hasOwnProperty(e)&&k[b].types++}}}function O(a){return k[a.currentView.element.id].type[a.currentView.type]}function X(a,b){return a.indexOf(b+1)>la.notFound}function T(a,
b){return a.indexOf(b)>la.notFound}function Ta(a){var b=[];if(a.showOnlyDataForYearsAvailable){a=O(a);for(var d in a)if(a.hasOwnProperty(d)){var c=parseInt(d.split(q.dash)[0]);b.indexOf(c)===la.notFound&&b.push(c)}}return b=b.sort(function(e,f){return e-f})}function aa(a,b){return a.yearsToHide.indexOf(b)===la.notFound&&(0===a.currentView.yearsAvailable.length||a.currentView.yearsAvailable.indexOf(b)>la.notFound)}function Ua(a){a.currentView.isInFetchMode&&(v(a.currentView.isInFetchModeTimer)||Qa(a),
v(a.currentView.isInFetchModeTimer)||(a.currentView.isInFetchModeTimer=setInterval(function(){Qa(a);A(a)},a.dataFetchDelay)))}function Qa(a){var b=a.currentView.element.id,d=y(a.events.onDataFetch,b);if(M(d)){Aa(b,a,!1);for(var c in d)d.hasOwnProperty(c)&&(k[b].type[h.unknownTrendText].hasOwnProperty(c)||(k[b].type[h.unknownTrendText][c]=0),k[b].type[h.unknownTrendText][c]+=d[c])}}function sa(a,b){var d=!1;if("HOLIDAY"===b)d=!0;else for(var c=a.colorRanges.length,e=0;e<c;e++){var f=a.colorRanges[e];
if(f.id===b&&m(f.visible,!0)){d=!0;break}}return d}function Pa(a,b){for(var d=a.colorRanges.length,c=0;c<d;c++)a.colorRanges[c].visible=b,y(a.events.onColorRangeTypeToggle,a.colorRanges[c].id,b);A(a)}function Ba(a,b,d,c){var e=null;v(c)&&qa(a,c).matched&&(e={cssClassName:"holiday",id:"HOLIDAY",visible:!0});if(!v(e))for(a=b.length,c=0;c<a;c++){var f=b[c];if(d>=f.minimum)e=f;else break}return e}function La(a,b){for(var d=a.length,c=null,e=0;e<d;e++){var f=a[e];if(b.toString()===f.minimum.toString()){c=
f;break}}return c}function oa(a){return a.colorRanges.sort(function(b,d){return b.minimum-d.minimum})}function qa(a,b){var d=a.holidays.length,c=!1,e=null,f=b.getDate(),g=b.getMonth()+1;b=b.getFullYear();for(var l=0;l<d;l++){var r=a.holidays[l];if(u(r.date)&&r.showInViews){var x=r.date.split("/");2===x.length?c=f===parseInt(x[0])&&g===parseInt(x[1]):3===x.length&&(c=f===parseInt(x[0])&&g===parseInt(x[1])&&b===parseInt(x[2]));if(c){e=r.name;break}}}return{matched:c,name:e}}function na(a,b){b.allowFileImports&&
!b.currentView.isInFetchMode&&(a.ondragover=ja,a.ondragenter=ja,a.ondragleave=ja,a.ondrop=function(d){ja(d);v(C.FileReader)&&0<d.dataTransfer.files.length&&Ea(d.dataTransfer.files,b)})}function fb(a){var b=mb("input");b.type="file";b.accept=".json, .txt, .csv";b.multiple="multiple";b.onchange=function(){Ea(b.files,a)};b.click()}function Ea(a,b){for(var d=a.length,c=[],e=O(b),f=function(x,F){c.push(x);for(var B in F)F.hasOwnProperty(B)&&(e.hasOwnProperty(B)||(e[B]=0),e[B]+=F[B]);c.length===d&&(y(b.events.onImport,
b.currentView.element),A(b))},g=0;g<d;g++){var l=a[g],r=l.name.split(".").pop().toLowerCase();"json"===r?nb(l,f):"txt"===r?ob(l,f):"csv"===r&&pb(l,f)}}function nb(a,b){var d=new FileReader,c=null;d.readAsText(a);d.onloadend=function(){b(a.name,c)};d.onload=function(e){e=za(e.target.result);e.parsed&&M(e.result)&&(c=e.result)}}function ob(a,b){var d=new FileReader,c={};d.readAsText(a);d.onloadend=function(){b(a.name,c)};d.onload=function(e){e=e.target.result.toString().split(q.newLine);for(var f=e.length,
g=0;g<f;g++){var l=e[g].split(q.colon);c[l[0].trim()]=parseInt(l[1].trim())}}}function pb(a,b){var d=new FileReader,c={};d.readAsText(a);d.onloadend=function(){b(a.name,c)};d.onload=function(e){e=e.target.result.toString().replace(RegExp('"',"g"),q.empty).split(q.newLine);e.shift();for(var f=e.length,g=0;g<f;g++){var l=e[g].split(q.comma);c[l[0].trim()]=parseInt(l[1].trim())}}}function Ma(a,b){var d=null;var c=null;"csv"===a.exportType.toLowerCase()?c="text/csv":"json"===a.exportType.toLowerCase()?
c="application/json":"xml"===a.exportType.toLowerCase()?c="application/xml":"txt"===a.exportType.toLowerCase()&&(c="text/plain");b=D(b,a.exportType).toLowerCase();if("csv"===b){var e=ta(a),f=[];for(g in e)e.hasOwnProperty(g)&&f.push([ua(g),ua(e[g])].join());0<f.length&&f.unshift([ua(h.dateText),ua(h.countText)].join());d=f.join(q.newLine)}else if("json"===b)d=ma.stringify(ta(a));else if("xml"===b){var g=ta(a);f=[];f.push('<?xml version="1.0" ?>');f.push("<Dates>");for(e in g)g.hasOwnProperty(e)&&
(f.push("<Date>"),f.push("<FullDate>"+e+"</FullDate>"),f.push("<Count>"+g[e]+"</Count>"),f.push("</Date>"));f.push("</Dates>");d=f.join(q.newLine)}else if("txt"===b){g=ta(a);e=[];for(f in g)g.hasOwnProperty(f)&&e.push(f+q.colon+q.space+g[f].toString());d=e.join(q.newLine)}u(d)&&(g=n(K.body,"a"),g.style.display="none",g.setAttribute("target","_blank"),g.setAttribute("href","data:"+c+";charset=utf-8,"+encodeURIComponent(d)),c=g.setAttribute,f=new Date,e=V(f.getDate())+q.dash+V(f.getMonth()+1)+q.dash+
f.getFullYear(),f=V(f.getHours())+q.dash+V(f.getMinutes()),d=q.empty,a.currentView.type!==h.unknownTrendText&&(d=a.currentView.type.toLowerCase().replace(q.space,q.underscore)+q.underscore),e=d+e+q.underscore+f+"."+a.exportType.toLowerCase(),c.call(g,"download",e),g.click(),K.body.removeChild(g),y(a.events.onExport,a.currentView.element))}function ta(a){var b={},d=O(a);if(a.exportOnlyYearBeingViewed)for(var c=0;12>c;c++)for(var e=ea(a.currentView.year,c),f=0;f<e;f++){var g=P(new Date(a.currentView.year,
c,f+1));d.hasOwnProperty(g)&&(b[g]=d[g])}else{a=[];for(c in d)d.hasOwnProperty(c)&&a.push(c);a.sort();c=a.length;for(e=0;e<c;e++)f=a[e],d.hasOwnProperty(f)&&(b[f]=d[f])}return b}function ua(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,q.empty).replace(/(\s\s)/gm,q.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function Ia(a){a=N(a,{});a.views=N(a.views,{});a.exportOnlyYearBeingViewed=m(a.exportOnlyYearBeingViewed,!0);a.year=ba(a.year,(new Date).getFullYear());a.view=D(a.view,"map");a.exportType=D(a.exportType,
"csv");a.useLocalStorageForData=m(a.useLocalStorageForData,!1);a.allowFileImports=m(a.allowFileImports,!0);var b=a;var d=a.yearsToHide;var c=[];d=W(d)?d:c;b.yearsToHide=d;a.dataFetchDelay=ba(a.dataFetchDelay,6E4);a.showOnlyDataForYearsAvailable=m(a.showOnlyDataForYearsAvailable,!1);a.showHolidaysInDayToolTips=m(a.showHolidaysInDayToolTips,!1);if(W(a.colorRanges))for(b=a.colorRanges.length,d=0;d<b;d++)c=a.colorRanges[d],c.id=D(c.id,ca()),c.name=D(c.name,null),c.minimum=ba(c.minimum,0),c.cssClassName=
D(c.cssClassName,null),c.mapCssClassName=D(c.mapCssClassName,null),c.chartCssClassName=D(c.chartCssClassName,null),c.statisticsCssClassName=D(c.statisticsCssClassName,null),c.tooltipText=D(c.tooltipText,null),c.visible=m(c.visible,!0);else a.colorRanges=[{id:ca(),name:"Day Color 1",minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1",visible:!0},{id:ca(),name:"Day Color 2",minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2",visible:!0},{id:ca(),name:"Day Color 3",minimum:20,
cssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0},{id:ca(),name:"Day Color 4",minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0}];if(W(a.holidays))for(b=a.holidays.length,d=0;d<b;d++)c=a.holidays[d],c.date=D(c.date,null),c.name=D(c.name,null),c.showInViews=m(c.showInViews,!0);else a.holidays=[];a.title=N(a.title,{});a.title.text=D(a.title.text,"Heat.js");a.title.showText=m(a.title.showText,!0);a.title.showYearSelector=m(a.title.showYearSelector,!0);a.title.showRefreshButton=
m(a.title.showRefreshButton,!1);a.title.showExportButton=m(a.title.showExportButton,!1);a.title.extraSelectionYears=ba(a.title.extraSelectionYears,50);a.title.showYearSelectionDropDown=m(a.title.showYearSelectionDropDown,!0);a.title.showImportButton=m(a.title.showImportButton,!1);a.title.showConfigurationButton=m(a.title.showConfigurationButton,!0);a.title.showTitleDropDownButton=m(a.title.showTitleDropDownButton,!0);a.description=N(a.description,{});a.description.text=D(a.description.text,null);
a.description.url=D(a.description.url,null);a.description.urlTarget=D(a.description.urlTarget,"_blank");a.guide=N(a.guide,{});a.guide.enabled=m(a.guide.enabled,!0);a.guide.colorRangeTogglesEnabled=m(a.guide.colorRangeTogglesEnabled,!0);a.guide.showLessAndMoreLabels=m(a.guide.showLessAndMoreLabels,!0);a.guide.showNumbersInGuide=m(a.guide.showNumbersInGuide,!1);a.tooltip=N(a.tooltip,{});a.tooltip.delay=ba(a.tooltip.delay,750);a.tooltip.dayText=D(a.tooltip.dayText,"{d}{o} {mmmm} {yyyy}");a.views.map=
N(a.views.map,{});a.views.map.showMonthDayGaps=m(a.views.map.showMonthDayGaps,!0);a.views.map.showDayNames=m(a.views.map.showDayNames,!0);a.views.map.placeMonthNamesOnTheBottom=m(a.views.map.placeMonthNamesOnTheBottom,!1);a.views.map.showDayNumbers=m(a.views.map.showDayNumbers,!1);a.views.map.showMonthNames=m(a.views.map.showMonthNames,!0);a.views.map.showDaysInReverseOrder=m(a.views.map.showDaysInReverseOrder,!1);a.views.map.showNoDataMessageWhenDataIsNotAvailable=m(a.views.map.showNoDataMessageWhenDataIsNotAvailable,
!1);a.views.map.showMinimalDayNames=m(a.views.map.showMinimalDayNames,!1);a.views.map.showMonthsInReverseOrder=m(a.views.map.showMonthsInReverseOrder,!1);a.views.map.keepScrollPositions=m(a.views.map.keepScrollPositions,!1);R(a.views.map.monthsToShow)&&(a.views.map.monthsToShow=va);R(a.views.map.daysToShow)&&(a.views.map.daysToShow=wa);a.views.chart=N(a.views.chart,{});a.views.chart.enabled=m(a.views.chart.enabled,!0);a.views.chart.showChartYLabels=m(a.views.chart.showChartYLabels,!0);a.views.chart.showMonthNames=
m(a.views.chart.showMonthNames,!0);a.views.chart.showLineNumbers=m(a.views.chart.showLineNumbers,!1);a.views.chart.showInReverseOrder=m(a.views.chart.showInReverseOrder,!1);a.views.chart.keepScrollPositions=m(a.views.chart.keepScrollPositions,!1);R(a.views.chart.monthsToShow)&&(a.views.chart.monthsToShow=va);R(a.views.chart.daysToShow)&&(a.views.chart.daysToShow=wa);a.views.days=N(a.views.days,{});a.views.days.enabled=m(a.views.days.enabled,!0);a.views.days.showChartYLabels=m(a.views.days.showChartYLabels,
!0);a.views.days.showDayNames=m(a.views.days.showDayNames,!0);a.views.days.showInReverseOrder=m(a.views.days.showInReverseOrder,!1);a.views.days.showDayNumbers=m(a.views.days.showDayNumbers,!1);a.views.days.keepScrollPositions=m(a.views.days.keepScrollPositions,!1);R(a.views.days.monthsToShow)&&(a.views.days.monthsToShow=va);R(a.views.days.daysToShow)&&(a.views.days.daysToShow=wa);a.views.statistics=N(a.views.statistics,{});a.views.statistics.enabled=m(a.views.statistics.enabled,!0);a.views.statistics.showChartYLabels=
m(a.views.statistics.showChartYLabels,!0);a.views.statistics.showColorRangeLabels=m(a.views.statistics.showColorRangeLabels,!0);a.views.statistics.useColorRangeNamesForLabels=m(a.views.statistics.useColorRangeNamesForLabels,!1);a.views.statistics.showRangeNumbers=m(a.views.statistics.showRangeNumbers,!1);a.views.statistics.showInReverseOrder=m(a.views.statistics.showInReverseOrder,!1);a.views.statistics.keepScrollPositions=m(a.views.statistics.keepScrollPositions,!1);R(a.views.statistics.monthsToShow)&&
(a.views.statistics.monthsToShow=va);R(a.views.statistics.daysToShow)&&(a.views.statistics.daysToShow=wa);a.events=N(a.events,{});a.events.onDayClick=E(a.events.onDayClick,null);a.events.onBackYear=E(a.events.onBackYear,null);a.events.onNextYear=E(a.events.onNextYear,null);a.events.onRefresh=E(a.events.onRefresh,null);a.events.onBeforeRender=E(a.events.onBeforeRender,null);a.events.onRenderComplete=E(a.events.onRenderComplete,null);a.events.onDestroy=E(a.events.onDestroy,null);a.events.onExport=E(a.events.onExport,
null);a.events.onSetYear=E(a.events.onSetYear,null);a.events.onTypeSwitch=E(a.events.onTypeSwitch,null);a.events.onDayToolTipRender=E(a.events.onDayToolTipRender,null);a.events.onAdd=E(a.events.onAdd,null);a.events.onRemove=E(a.events.onRemove,null);a.events.onReset=E(a.events.onReset,null);a.events.onViewSwitch=E(a.events.onViewSwitch,null);a.events.onColorRangeTypeToggle=E(a.events.onColorRangeTypeToggle,null);a.events.onImport=E(a.events.onImport,null);a.events.onStatisticClick=E(a.events.onStatisticClick,
null);a.events.onDataFetch=E(a.events.onDataFetch,null);a.events.onClear=E(a.events.onClear,null);a.events.onUpdate=E(a.events.onUpdate,null);a.events.onOptionsUpdate=E(a.events.onOptionsUpdate,null);a.events.onWeekDayClick=E(a.events.onWeekDayClick,null);return a}function ea(a,b){return(new Date(a,b+1,0)).getDate()}function pa(a){return 0>a.getDay()-1?6:a.getDay()-1}function mb(a){a=a.toLowerCase();var b="text"===a;ha.hasOwnProperty(a)||(ha[a]=b?K.createTextNode(q.empty):K.createElement(a));return ha[a].cloneNode(!1)}
function n(a,b,d,c){b=b.toLowerCase();var e="text"===b;ha.hasOwnProperty(b)||(ha[b]=e?K.createTextNode(q.empty):K.createElement(b));b=ha[b].cloneNode(!1);v(d)&&(b.className=d);v(c)?a.insertBefore(b,c):a.appendChild(b);return b}function t(a,b,d,c,e){a=n(a,b,d,e);a.innerHTML=c;return a}function ia(a,b,d){var c=null;d=m(d,!1);C.getComputedStyle?c=K.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&(c=a.currentStyle[b]);d&&(c=parseFloat(c,10));return c}function w(a,b){a.className+=
q.space+b;a.className=a.className.trim()}function ja(a){a.preventDefault();a.cancelBubble=!0}function U(a){for(var b=a.children,d=b.length-1;d--;)a.appendChild(b[d])}function Ca(a,b,d,c){a=n(a,"div");a=n(a,"label","checkbox");var e=n(a,"input");e.type="checkbox";v(c)&&(e.onclick=c);v(d)&&(e.checked=d);n(a,"span","check-mark");t(a,"span","text",b);return{input:e,label:a}}function y(a){var b=null;S(a)&&(b=a.apply(null,[].slice.call(arguments,1)));return b}function v(a){return null!==a&&void 0!==a&&
a!==q.empty}function M(a){return v(a)&&"object"===typeof a}function u(a){return v(a)&&"string"===typeof a}function S(a){return v(a)&&"function"===typeof a}function xa(a){return v(a)&&"number"===typeof a}function W(a){return M(a)&&a instanceof Array}function ya(a){return M(a)&&a instanceof Date}function z(a,b){return"string"===typeof a?a:b}function D(a,b){return u(a)?a:b}function m(a,b){return v(a)&&"boolean"===typeof a?a:b}function ba(a,b){return xa(a)?a:b}function E(a,b){return S(a)?a:b}function N(a,
b){return M(a)?a:b}function za(a){var b=!0,d=null;try{u(a)&&(d=ma.parse(a))}catch(c){try{d=eval("("+a+")"),S(d)&&(d=d())}catch(e){h.safeMode||(console.error(h.objectErrorText.replace("{{error_1}}",c.message).replace("{{error_2}}",e.message)),b=!1),d=null}}return{parsed:b,result:d}}function ca(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push(q.dash);var d=J.floor(16*J.random()).toString(16);a.push(d)}return a.join(q.empty)}function V(a){a=a.toString();return 1===a.length?q.zero+a:
a}function Ja(a,b){return a.substring(0,b.length).toLowerCase()===b.toLowerCase()}function P(a){return a.getFullYear()+q.dash+V(a.getMonth()+1)+q.dash+V(a.getDate())}function Da(a,b){b=m(b,!0);var d=!0,c=a.currentView.year;for(c--;!aa(a,c);){if(0<a.currentView.yearsAvailable.length&&c<=a.currentView.yearsAvailable[0]){d=!1;break}c--}d&&(a.currentView.year=c,A(a),b&&y(a.events.onBackYear,a.currentView.year))}function ka(a,b){b=m(b,!0);var d=!0,c=a.currentView.year;for(c++;!aa(a,c);){if(0<a.currentView.yearsAvailable.length&&
c>=a.currentView.yearsAvailable[a.currentView.yearsAvailable.length-1]){d=!1;break}c++}d&&(a.currentView.year=c,A(a),b&&y(a.events.onBackYear,a.currentView.year))}function Ra(a){a.currentView.element.innerHTML=q.empty;var b=a.currentView.element;b.className=b.className.replace("heat-js",q.empty);b.className=b.className.trim();Ka(a,!1);K.body.removeChild(a.currentView.tooltip);a.currentView.isInFetchMode&&v(a.currentView.isInFetchModeTimer)&&clearInterval(a.currentView.isInFetchModeTimer);y(a.events.onDestroy,
a.currentView.element)}function Sa(a){h=M(a)?a:{};h.safeMode=m(h.safeMode,!0);a=h;var b=h.domElementTypes,d=["*"];u(b)?(b=b.split(q.space),0===b.length&&(b=d)):b=W(b)?b:d;a.domElementTypes=b;h.stText=z(h.stText,"st");h.ndText=z(h.ndText,"nd");h.rdText=z(h.rdText,"rd");h.thText=z(h.thText,"th");h.backButtonText=z(h.backButtonText,"Back");h.nextButtonText=z(h.nextButtonText,"Next");h.refreshButtonText=z(h.refreshButtonText,"Refresh");h.exportButtonText=z(h.exportButtonText,"Export");h.lessText=z(h.lessText,
"Less");h.moreText=z(h.moreText,"More");h.dateText=z(h.dateText,"Date");h.countText=z(h.countText,"Count");h.mapText=z(h.mapText,"Map");h.chartText=z(h.chartText,"Chart");h.noChartDataMessage=z(h.noChartDataMessage,"There is currently no data to view.");h.statisticsText=z(h.statisticsText,"Statistics");h.noStatisticsDataMessage=z(h.noStatisticsDataMessage,"There are currently no statistics to view.");h.unknownTrendText=z(h.unknownTrendText,"Unknown");h.importButtonText=z(h.importButtonText,"Import");
h.noMapDataMessage=z(h.noMapDataMessage,"There is currently no data to view.");h.objectErrorText=z(h.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}");h.attributeNotValidErrorText=z(h.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object.");h.attributeNotSetErrorText=z(h.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly.");h.closeToolTipText=z(h.closeToolTipText,"Close");h.configurationToolTipText=z(h.configurationToolTipText,
"Configuration");h.configurationTitleText=z(h.configurationTitleText,"Configuration");h.visibleMonthsText=z(h.visibleMonthsText,"Visible Months");h.visibleDaysText=z(h.visibleDaysText,"Visible Days");h.dataText=z(h.dataText,"Data");h.colorRangesText=z(h.colorRangesText,"Color Ranges");h.yearText=z(h.yearText,"Year");h.daysText=z(h.daysText,"Days");h.noDaysDataMessage=z(h.noDaysDataMessage,"There are currently no days to view.");R(h.monthNames,12)&&(h.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));
R(h.dayNames,7)&&(h.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function R(a,b){b=xa(b)?b:1;return!W(a)||a.length<b}var K=null,C=null,J=null,ma=null,p={},h={},q={empty:"",space:" ",newLine:"\n",dash:"-",underscore:"_",plus:"+",zero:"0",colon:":",comma:","},la={notFound:-1},va=[1,2,3,4,5,6,7,8,9,10,11,12],wa=[1,2,3,4,5,6,7],ha={},fa=null,k={};p.addDates=function(a,b,d,c){if(u(a)&&W(b)&&k.hasOwnProperty(a)){var e=k[a].options;if(!e.currentView.isInFetchMode){d=D(d,h.unknownTrendText);c=m(c,!0);
for(var f=b.length,g=0;g<f;g++)p.addDate(a,b[g],d,!1);c&&A(e,!0)}}return p};p.addDate=function(a,b,d,c){if(u(a)&&ya(b)&&k.hasOwnProperty(a)){var e=k[a].options;e.currentView.isInFetchMode||(d=D(d,h.unknownTrendText),c=m(c,!0),b=P(b),k[a].type.hasOwnProperty(d)||(k[a].type[d]={},k[a].types++),k[a].type[d].hasOwnProperty(b)||(k[a].type[d][b]=0),k[a].type[d][b]++,y(e.events.onAdd,e.currentView.element),c&&A(e,!0))}return p};p.updateDate=function(a,b,d,c,e){if(u(a)&&ya(b)&&k.hasOwnProperty(a)){var f=
k[a].options;!f.currentView.isInFetchMode&&0<d&&(c=D(c,h.unknownTrendText),b=P(b),k[a].type.hasOwnProperty(c)&&(e=m(e,!0),k[a].type[c][b]=d,y(f.events.onUpdate,f.currentView.element),e&&A(f,!0)))}return p};p.removeDates=function(a,b,d,c){if(u(a)&&W(b)&&k.hasOwnProperty(a)){var e=k[a].options;if(!e.currentView.isInFetchMode){d=D(d,h.unknownTrendText);c=m(c,!0);for(var f=b.length,g=0;g<f;g++)p.removeDate(a,b[g],d,!1);c&&A(e,!0)}}return p};p.removeDate=function(a,b,d,c){if(u(a)&&ya(b)&&k.hasOwnProperty(a)){var e=
k[a].options;e.currentView.isInFetchMode||(d=D(d,h.unknownTrendText),b=P(b),k[a].type.hasOwnProperty(d)&&k[a].type[d].hasOwnProperty(b)&&(c=m(c,!0),0<k[a].type[d][b]&&k[a].type[d][b]--,y(e.events.onRemove,e.currentView.element),c&&A(e,!0)))}return p};p.clearDate=function(a,b,d,c){if(u(a)&&ya(b)&&k.hasOwnProperty(a)){var e=k[a].options;e.currentView.isInFetchMode||(d=D(d,h.unknownTrendText),b=P(b),k[a].type.hasOwnProperty(d)&&k[a].type[d].hasOwnProperty(b)&&(c=m(c,!0),delete k[a].type[d][b],y(e.events.onClear,
e.currentView.element),c&&A(e,!0)))}return p};p.resetAll=function(a){for(var b in k)k.hasOwnProperty(b)&&p.reset(b,a);return p};p.reset=function(a,b){if(u(a)&&k.hasOwnProperty(a)){var d=k[a].options;d.currentView.isInFetchMode||(b=m(b,!0),d.currentView.type=h.unknownTrendText,Aa(a,d,!1),y(d.events.onReset,d.currentView.element),b&&A(d,!0))}return p};p.import=function(a,b){u(a)&&k.hasOwnProperty(a)&&W(b)&&Ea(b,k[a].options);return p};p.export=function(a,b){u(a)&&k.hasOwnProperty(a)&&Ma(k[a].options,
b);return p};p.refresh=function(a){u(a)&&k.hasOwnProperty(a)&&(a=k[a].options,A(a,!0),y(a.events.onRefresh,a.currentView.element));return p};p.refreshAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;A(b,!0);y(b.events.onRefresh,b.currentView.element)}return p};p.setYear=function(a,b){u(a)&&xa(b)&&k.hasOwnProperty(a)&&(a=k[a].options,a.currentView.year=b,aa(a,a.currentView.year)?A(a):ka(a,!1),y(a.events.onSetYear,a.currentView.year));return p};p.setYearToHighest=function(a){if(u(a)&&
k.hasOwnProperty(a)){a=k[a].options;var b=O(a),d=0,c;for(c in b)b.hasOwnProperty(c)&&(d=J.max(d,parseInt(c.split(q.dash)[0])));0<d&&(a.currentView.year=d,aa(a,a.currentView.year)?A(a):ka(a,!1),y(a.events.onSetYear,a.currentView.year))}return p};p.setYearToLowest=function(a){if(u(a)&&k.hasOwnProperty(a)){a=k[a].options;var b=O(a),d=9999,c;for(c in b)b.hasOwnProperty(c)&&(d=J.min(d,parseInt(c.split(q.dash)[0])));9999>d&&(a.currentView.year=d,aa(a,a.currentView.year)?A(a):Da(a,!1),y(a.events.onSetYear,
a.currentView.year))}return p};p.moveToPreviousYear=function(a){u(a)&&k.hasOwnProperty(a)&&Da(k[a].options);return p};p.moveToNextYear=function(a){u(a)&&k.hasOwnProperty(a)&&ka(k[a].options);return p};p.moveToCurrentYear=function(a){u(a)&&k.hasOwnProperty(a)&&(a=k[a].options,a.currentView.year=(new Date).getFullYear(),aa(a,a.currentView.year)?A(a):ka(a,!1),y(a.events.onSetYear,a.currentView.year));return p};p.getYear=function(a){var b=null;u(a)&&k.hasOwnProperty(a)&&(b=k[a].options.currentView.year);
return b};p.render=function(a,b){M(a)&&M(b)&&Ga(Ha(b,a));return p};p.renderAll=function(){Fa();return p};p.switchView=function(a,b){if(u(a)&&u(b)&&k.hasOwnProperty(a)){a=k[a].options;var d=null;"map"===b.toLowerCase()?d=1:"chart"===b.toLowerCase()?d=2:"days"===b.toLowerCase()?d=3:"statistics"===b.toLowerCase()&&(d=4);xa(d)&&(a.currentView.view=d,y(a.events.onViewSwitch,b),A(a,!1,!0))}return p};p.switchType=function(a,b){u(a)&&u(b)&&k.hasOwnProperty(a)&&k[a].type.hasOwnProperty(b)&&(a=k[a].options,
a.currentView.type!==b&&(a.currentView.type=b,y(a.events.onTypeSwitch,b),A(a)));return p};p.updateOptions=function(a,b){if(u(a)&&M(b)&&k.hasOwnProperty(a)){a=k[a].options;b=Ia(b);var d=!1,c;for(c in b)b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!==b[c]&&(a[c]=b[c],d=!0);d&&(A(a,!0),y(a.events.onRefresh,a.currentView.element),y(a.events.onOptionsUpdate,a.currentView.element,a))}return p};p.destroyAll=function(){for(var a in k)k.hasOwnProperty(a)&&Ra(k[a].options);k={};return p};p.destroy=function(a){u(a)&&
k.hasOwnProperty(a)&&(Ra(k[a].options),delete k[a]);return p};p.setConfiguration=function(a,b){if(M(a)){var d=!1,c;for(c in a)a.hasOwnProperty(c)&&h.hasOwnProperty(c)&&h[c]!==a[c]&&(h[c]=a[c],d=!0);d&&(b=m(b,!0),Sa(h),b&&p.refreshAll())}return p};p.getIds=function(){var a=[],b;for(b in k)k.hasOwnProperty(b)&&a.push(b);return a};p.getVersion=function(){return"3.2.0"};(function(a,b,d,c){K=a;C=b;J=d;ma=c;Sa();K.addEventListener("DOMContentLoaded",function(){Fa()});C.addEventListener("pagehide",function(){for(var e in k)if(k.hasOwnProperty(e)){var f=
k[e].options;v(f.currentView.isInFetchModeTimer)&&clearInterval(f.currentView.isInFetchModeTimer)}});v(C.$heat)||(C.$heat=p)})(document,window,Math,JSON)})();