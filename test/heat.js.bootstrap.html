<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Heat.js - Bootstrap</title>
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="../dist/heat.js.css">
        <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="../dist/heat.js"></script>
        <script src="js/scripts.js"></script>
    </head>

    <body>
        <div class="header">
            <div class="header-contents">
                <img src="images/icon.png" alt="Heat.js">
                <div>
                    <h1 id="header"></h1>
                    <p>This is a basic example of how to use Heat.js to create a basic heatmap, alongside Bootstrap.</p>
                </div>
            </div>
        </div>

        <div class="contents">
            <div class="mt-5" id="heat-map-1" data-heat-js="getBindingOptions1()"></div>
            <br>
            <br>
            <div id="heat-map-2" data-heat-js="getBindingOptions2()"></div>
            <br>
            <br>
            <div id="heat-map-3" data-heat-js="getBindingOptions3()"></div>
            <br>
            <br>
            <div id="heat-map-4"></div>
        </div>

        <div class="contents">
            <h2>Manage Dates:</h2>
            <button class="btn btn-primary" onclick="updateDates( false );">Add Dates</button>
            <button class="btn btn-primary" onclick="updateDatesFixed( false );">Add Dates [Fixed]</button>
            <button class="btn btn-primary" onclick="updateDates( true );">Remove Dates</button>
            <button class="btn btn-primary" onclick="updateDatesFixed( true );">Remove Dates [Fixed]</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.addType( 'heat-map-1', 'Test 1' );">Add Type (1)</button>
            <button class="btn btn-primary" onclick="$heat.addType( 'heat-map-2', 'Test 1' );">Add Type (2)</button>
            <button class="btn btn-primary" onclick="$heat.addType( 'heat-map-3', 'Test 1' );">Add Type (3)</button>
            <button class="btn btn-primary" onclick="$heat.addType( 'heat-map-4', 'Test 1' );">Add Type (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-1' );">Reset (1)</button>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-2' );">Reset (2)</button>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-3' );">Reset (3)</button>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-4' );">Reset (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.clearDate( 'heat-map-1', new Date(), 'Type 1' );">Clear Date (1)</button>
            <button class="btn btn-primary" onclick="$heat.clearDate( 'heat-map-2', new Date(), 'Type 1' );">Clear Date (2)</button>
            <button class="btn btn-primary" onclick="$heat.clearDate( 'heat-map-3', new Date(), 'Type 1' );">Clear Date (3)</button>
            <button class="btn btn-primary" onclick="$heat.clearDate( 'heat-map-4', new Date(), 'Type 1' );">Clear Date (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.updateDate( 'heat-map-1', new Date(), 50, 'Type 1' );">Update Date (1)</button>
            <button class="btn btn-primary" onclick="$heat.updateDate( 'heat-map-2', new Date(), 50, 'Type 1' );">Update Date (2)</button>
            <button class="btn btn-primary" onclick="$heat.updateDate( 'heat-map-3', new Date(), 50, 'Type 1' );">Update Date (3)</button>
            <button class="btn btn-primary" onclick="$heat.updateDate( 'heat-map-4', new Date(), 50, 'Type 1' );">Update Date (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.resetAll();">Reset All</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-1' );">Export (1)</button>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-2' );">Export (2)</button>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-3' );">Export (3)</button>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-4' );">Export (4)</button>
            <br />

            <h2>Manage Instances:</h2>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-1' );">Refresh (1)</button>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-2' );">Refresh (2)</button>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-3' );">Refresh (3)</button>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-4' );">Refresh (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.refreshAll();">Refresh All</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-1', new Date().getFullYear() + 1 );">Set Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-2', new Date().getFullYear() + 1 );">Set Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-3', new Date().getFullYear() + 1 );">Set Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-4', new Date().getFullYear() + 1 );">Set Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-1' );">Set Year To Highest (1)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-2' );">Set Year To Highest (2)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-3' );">Set Year To Highest (3)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-4' );">Set Year To Highest (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-1' );">Set Year To Lowest (1)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-2' );">Set Year To Lowest (2)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-3' );">Set Year To Lowest (3)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-4' );">Set Year To Lowest (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-1' );">Move To Previous Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-2' );">Move To Previous Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-3' );">Move To Previous Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-4' );">Move To Previous Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-1' );">Move To Next Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-2' );">Move To Next Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-3' );">Move To Next Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-4' );">Move To Next Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-1' );">Move To Current Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-2' );">Move To Current Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-3' );">Move To Current Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-4' );">Move To Current Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-1' ) );">Get Year (1)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-2' ) );">Get Year (2)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-3' ) );">Get Year (3)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-4' ) );">Get Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.render( document.getElementById( 'heat-map-4' ), {} );">Render</button>
            <button class="btn btn-primary" onclick="mutationRender();">Render (mutation)</button>
            <button class="btn btn-primary" onclick="$heat.renderAll();">Render All</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'map' );">Switch View - Map (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'map' );">Switch View - Map (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'map' );">Switch View - Map (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'map' );">Switch View - Map (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'chart' );">Switch View - Chart (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'chart' );">Switch View - Chart (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'chart' );">Switch View - Chart (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'chart' );">Switch View - Chart (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'line' );">Switch View - Line (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'line' );">Switch View - Line (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'line' );">Switch View - Line (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'line' );">Switch View - Line (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'days' );">Switch View - Days (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'days' );">Switch View - Days (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'days' );">Switch View - Days (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'days' );">Switch View - Days (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'months' );">Switch View - Months (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'months' );">Switch View - Months (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'months' );">Switch View - Months (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'months' );">Switch View - Months (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'statistics' );">Switch View - Statistics (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'statistics' );">Switch View - Statistics (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'statistics' );">Switch View - Statistics (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'statistics' );">Switch View - Statistics (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-1', 'Type 1' );">Switch Type - Type 1 (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-2', 'Type 1' );">Switch Type - Type 1 (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-3', 'Type 1' );">Switch Type - Type 1 (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-4', 'Type 1' );">Switch Type - Type 1 (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-1', 'Type 2' );">Switch Type - Type 2 (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-2', 'Type 2' );">Switch Type - Type 2 (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-3', 'Type 2' );">Switch Type - Type 2 (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-4', 'Type 2' );">Switch Type - Type 2 (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.updateOptions( 'heat-map-1', { 'title': { 'showText': false } } );">Update Options (1)</button>
            <button class="btn btn-primary" onclick="$heat.updateOptions( 'heat-map-2', { 'title': { 'showText': false } } );">Update Options (2)</button>
            <button class="btn btn-primary" onclick="$heat.updateOptions( 'heat-map-3', { 'title': { 'showText': false } } );">Update Options (3)</button>
            <button class="btn btn-primary" onclick="$heat.updateOptions( 'heat-map-4', { 'title': { 'showText': false } } );">Update Options (4)</button>
            <br>
            <button class="btn btn-primary" onclick="console.log( $heat.getActiveView( 'heat-map-1' ) );">Get Active Year (1)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getActiveView( 'heat-map-2' ) );">Get Active Year (2)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getActiveView( 'heat-map-3' ) );">Get Active Year (3)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getActiveView( 'heat-map-4' ) );">Get Active Year (4)</button>

            <h2>Destroy:</h2>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-1' );">Destroy (1)</button>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-2' );">Destroy (2)</button>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-3' );">Destroy (3)</button>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-4' );">Destroy (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.destroyAll();">Destroy All</button>
            <br />

            <h2>Configuration:</h2>
            <button class="btn btn-primary" onclick="setupConfiguration();">Set Configuration</button>
            <br />

            <h2>Additional Data:</h2>
            <button class="btn btn-primary" onclick="console.log( $heat.getIds() );">Get Ids</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getVersion() );">Get Version</button>
        </div>
    </body>

    <script>
        const __CURRENT_YEAR = new Date().getFullYear();

        function getBindingOptions1() {
            return {
                "resizable": false,
                "holidays": [
                    {
                        "date": "25/12",
                        "name": "Christmas Day",
                        "showInViews": true,
                    }
                ],
                "events": {
                    "onMapDayClick": onMapDayClick,
                    "onStatisticClick": onStatisticClick,
                    "onWeekDayClick": onWeekDayClick,
                    "onMonthClick": onMonthClick,
                },
                "views": {
                    "map": {
                        "showMonthDayGaps": true,
                    }
                },
                "description": {
                    "text": "A basic example of how to use Heat.js.",
                    "url": "https://william-troup.com/heat-js/examples/basic.html",
                },
            }
        }

        function getBindingOptions2() {
            return {
                "exportType": "json",
                "resizable": false,
                "events": {
                    "onMapDayClick": onMapDayClick,
                    "onStatisticClick": onStatisticClick,
                    "onWeekDayClick": onWeekDayClick,
                    "onMonthClick": onMonthClick,
                    "onMapDayToolTipRender": onMapDayToolTipRenderEvent
                },
                "views": {
                    "map": {
                    "showMonthDayGaps": false,
                    "placeMonthNamesOnTheBottom": true,
                    "showDayDateNumbers": false
                    },
                    "chart": {
                    "showLineDateNumbers": false
                    }
                },
                "title": {
                    "showRefreshButton": true,
                    "showExportButton": true,
                    "showImportButton": true,
                    "showTitleDropDownMenu": true,
                    "showClearButton": true
                },
                "year": __CURRENT_YEAR + 1
            }
        }

        function getBindingOptions3() {
            return {
                "resizable": false,
                "events": {
                    "onMapDayClick": onMapDayClick,
                    "onStatisticClick": onStatisticClick,
                    "onWeekDayClick": onWeekDayClick,
                    "onMonthClick": onMonthClick,
                },
                "views": {
                    "map": {
                        "showMonthDayGaps": true,
                    }
                },
                "defaultView": "chart",
                "yearsToHide": [ 2026 ],
                "title": {
                    "showTitleDropDownHeaders": false,
                    "showSectionText": false,
                },
            }
        }

        function setupConfiguration() {
            $heat.setConfiguration( {
                safeMode: false,
                text: {
                    refreshButtonText: "Force Refresh",
                },
            } );
        }

        function updateDatesFixed( remove ) {
            let date = new Date( new Date().getFullYear(), new Date().getMonth(), 1 );
            const dateNumbers = [ 10, 15, 20, 25 ];
            const dateNumbersLength = dateNumbers.length;

            for ( let dateNumbersIndex = 0; dateNumbersIndex < dateNumbersLength; dateNumbersIndex++ ) {
                date.setDate( date.getDate() + 2 );

                for ( let dateNumber = 0; dateNumber < dateNumbers[ dateNumbersIndex ]; dateNumber++ ) {
                    addRemoveDates( date, remove );
                }
            }

            $heat.refreshAll();
        }

        function updateDates( remove ) {
            for ( let typeIndex = 0; typeIndex < 2; typeIndex++ ) {
                let date = new Date( new Date().getFullYear(), 0, 1 );

                for ( let dayNumber = 0; dayNumber < 8000; dayNumber++ ) {
                    const daysToIncrease = Math.floor( Math.random() * 500 );
                    const typeName = "Type " + ( typeIndex + 1 );
                    let newDate = new Date( date );

                    newDate.setDate( newDate.getDate() + daysToIncrease );

                    addRemoveDates( newDate, remove, typeName );
                }
            }

            $heat.refreshAll();
        }

        function addRemoveDates( newDate, remove, type ) {
            if ( !remove ) {
                $heat.addDate( "heat-map-1", newDate, type, false );
                $heat.addDate( "heat-map-2", newDate, type, false );
                $heat.addDate( "heat-map-3", newDate, type, false );
            } else {
                $heat.removeDate( "heat-map-1", newDate, type, false );
                $heat.removeDate( "heat-map-2", newDate, type, false );
                $heat.removeDate( "heat-map-3", newDate, type, false );
            }
        }

        function onMapDayToolTipRenderEvent( _, date, count, isHoliday ) {
            return "This date '" + date.toString() + "' has " + count.toString() + " events in it.";
        }

        function mutationRender() {
            document.getElementById( 'heat-map-4' ).setAttribute( "data-heat-js", "{}" );
        }
    </script>
</html>