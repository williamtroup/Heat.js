<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Heat.js - Bootstrap</title>
        <link rel="stylesheet" href="../css/styles.css">
        <link rel="stylesheet" href="../../dist/heat.js.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="../../src/heat.js"></script>
    </head>

    <body>
        <div class="header">
            <h1 id="header">Heat.js - Bootstrap</h1>
            <p>This is a basic example of how to use Heat.js to create a basic heatmap, alongside Bootstrap.</p>
        </div>

        <div class="contents">
            <div id="heat-map-1" data-heat-options="{ 'onDayClick': onDayClick, 'showMonthDayGaps': true, 'noTypesLabel': 'A basic example of how to use Heat.js.', 'noTypesLabelLink': 'https://william-troup.com/heat-js/examples/basic.html' }"></div>
            <br>
            <br>
            <div id="heat-map-2" data-heat-options="{ 'onDayClick': onDayClick, 'showMonthDayGaps': false, 'showRefreshButton': true, 'showExportButton': true, 'placeMonthNamesOnTheBottom': true, 'year': __CURRENT_YEAR + 1, 'onDayToolTipRender': onDayToolTipRenderEvent }"></div>
            <br>
            <br>
            <div id="heat-map-3" data-heat-options="{ 'onDayClick': onDayClick, 'showMonthDayGaps': true, 'view': 'chart' }"></div>
            <br>
            <br>
            <div id="heat-map-4"></div>
        </div>

        <div class="contents">
            <h2>Manage Dates:</h2>
            <button class="btn btn-primary" onclick="updateDates( false );">Add Dates</button>
            <button class="btn btn-primary" onclick="updateDatesFixed( false );">Add Dates [Fixed]</button>
            <button class="btn btn-primary" onclick="updateDates( true );">Remove Dates</button>
            <button class="btn btn-primary" onclick="updateDatesFixed( true );">Remove Dates [Fixed]</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-1' );">Reset (1)</button>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-2' );">Reset (2)</button>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-3' );">Reset (3)</button>
            <button class="btn btn-primary" onclick="$heat.reset( 'heat-map-4' );">Reset (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.resetAll();">Reset All</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-1' );">Export (1)</button>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-2' );">Export (2)</button>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-3' );">Export (3)</button>
            <button class="btn btn-primary" onclick="$heat.export( 'heat-map-4' );">Export (4)</button>
            <br />

            <h2>Manage Instances:</h2>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-1' );">Refresh (1)</button>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-2' );">Refresh (2)</button>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-3' );">Refresh (3)</button>
            <button class="btn btn-primary" onclick="$heat.refresh( 'heat-map-4' );">Refresh (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.refreshAll();">Refresh All</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-1', new Date().getFullYear() + 1 );">Set Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-2', new Date().getFullYear() + 1 );">Set Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-3', new Date().getFullYear() + 1 );">Set Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.setYear( 'heat-map-4', new Date().getFullYear() + 1 );">Set Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-1' );">Set Year To Highest (1)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-2' );">Set Year To Highest (2)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-3' );">Set Year To Highest (3)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToHighest( 'heat-map-4' );">Set Year To Highest (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-1' );">Set Year To Lowest (1)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-2' );">Set Year To Lowest (2)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-3' );">Set Year To Lowest (3)</button>
            <button class="btn btn-primary" onclick="$heat.setYearToLowest( 'heat-map-4' );">Set Year To Lowest (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-1' );">Move To Previous Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-2' );">Move To Previous Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-3' );">Move To Previous Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.moveToPreviousYear( 'heat-map-4' );">Move To Previous Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-1' );">Move To Next Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-2' );">Move To Next Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-3' );">Move To Next Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.moveToNextYear( 'heat-map-4' );">Move To Next Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-1' );">Move To Current Year (1)</button>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-2' );">Move To Current Year (2)</button>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-3' );">Move To Current Year (3)</button>
            <button class="btn btn-primary" onclick="$heat.moveToCurrentYear( 'heat-map-4' );">Move To Current Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-1' ) );">Get Year (1)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-2' ) );">Get Year (2)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-3' ) );">Get Year (3)</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getYear( 'heat-map-4' ) );">Get Year (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.render( document.getElementById( 'heat-map-4' ) );">Render</button>
            <button class="btn btn-primary" onclick="$heat.renderAll();">Render All</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'map' );">Switch View - Map (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'map' );">Switch View - Map (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'map' );">Switch View - Map (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'map' );">Switch View - Map (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'chart' );">Switch View - Chart (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'chart' );">Switch View - Chart (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'chart' );">Switch View - Chart (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'chart' );">Switch View - Chart (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-1', 'statistics' );">Switch View - Statistics (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-2', 'statistics' );">Switch View - Statistics (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-3', 'statistics' );">Switch View - Statistics (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchView( 'heat-map-4', 'statistics' );">Switch View - Statistics (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-1', 'Type 1' );">Switch Type - Type 1 (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-2', 'Type 1' );">Switch Type - Type 1 (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-3', 'Type 1' );">Switch Type - Type 1 (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-4', 'Type 1' );">Switch Type - Type 1 (4)</button>
            <br />
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-1', 'Type 2' );">Switch Type - Type 2 (1)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-2', 'Type 2' );">Switch Type - Type 2 (2)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-3', 'Type 2' );">Switch Type - Type 2 (3)</button>
            <button class="btn btn-primary" onclick="$heat.switchType( 'heat-map-4', 'Type 2' );">Switch Type - Type 2 (4)</button>
            <br />

            <h2>Destroy:</h2>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-1' );">Destroy (1)</button>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-2' );">Destroy (2)</button>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-3' );">Destroy (3)</button>
            <button class="btn btn-primary" onclick="$heat.destroy( 'heat-map-4' );">Destroy (4)</button>
            <br>
            <button class="btn btn-primary" onclick="$heat.destroyAll();">Destroy All</button>
            <br />

            <h2>Configuration:</h2>
            <button class="btn btn-primary" onclick="setupConfiguration();">Set Configuration</button>
            <br />

            <h2>Additional Data:</h2>
            <button class="btn btn-primary" onclick="console.log( $heat.getIds() );">Get Ids</button>
            <button class="btn btn-primary" onclick="console.log( $heat.getVersion() );">Get Version</button>
        </div>
    </body>

    <script>
        var __CURRENT_YEAR = new Date().getFullYear();

        document.title += " v" + $heat.getVersion();
        document.getElementById( "header" ).innerText += " - v" + $heat.getVersion();

        function setupConfiguration() {
            $heat.setConfiguration( {
                safeMode: false
            } );
        }

        function updateDatesFixed( remove ) {
            var date = new Date( new Date().getFullYear(), new Date().getMonth(), 1 ),
                dateNumbers = [ 10, 15, 20, 25 ],
                dateNumbersLength = dateNumbers.length;

            for ( var dateNumbersIndex = 0; dateNumbersIndex < dateNumbersLength; dateNumbersIndex++ ) {
                date.setDate( date.getDate() + 2 );

                for ( var dateNumber = 0; dateNumber < dateNumbers[ dateNumbersIndex ]; dateNumber++ ) {
                    addRemoveDates( date, remove );
                }
            }

            $heat.refreshAll();
        }

        function updateDates( remove ) {
            var types = [ "Type 1", "Type 2" ],
                typesLength = types.length;

            for ( var typeIndex = 0; typeIndex < typesLength; typeIndex++ ) {
                var date = new Date( new Date().getFullYear(), 0, 1 );

                for ( var dayNumber = 0; dayNumber < 8000; dayNumber++ ) {
                    var daysToIncrease = Math.floor( Math.random() * 500 ),
                        newDate = new Date( date );

                    newDate.setDate( newDate.getDate() + daysToIncrease );

                    addRemoveDates( newDate, remove, types[ typeIndex ] );
                }
            }

            $heat.refreshAll();
        }

        function addRemoveDates( newDate, remove, type ) {
            if ( !remove ) {
                $heat.addDate( "heat-map-1", newDate, type, false );
                $heat.addDate( "heat-map-2", newDate, type, false );
                $heat.addDate( "heat-map-3", newDate, type, false );
            } else {
                $heat.removeDate( "heat-map-1", newDate, type, false );
                $heat.removeDate( "heat-map-2", newDate, type, false );
                $heat.removeDate( "heat-map-3", newDate, type, false );
            }
        }

        function onDayClick( date, count ) {
            console.log( "Day clicked for: " + date.toString() + ", Count: " + count );
        }

        function onDayToolTipRenderEvent( date, count ) {
            return "This date '" + date.toString() + "' has " + count.toString() + " events in it.";
        }
    </script>
</html>